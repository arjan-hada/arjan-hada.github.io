{"pages":[{"title":"About Me","text":"I am a biomedical scientist and data analyst passionate about solving meaningful problems. During my Ph.D. I developed a novel technology to study protein-DNA interaction kinetics. I used the technology to take snapshots of molecular motors called ATP-dependent chromatin remodelers in action, contributing to five manuscripts. Alongside my Ph.D. I have spent several years developing my coding and analytics skills. I have worked on several data science projects during a Data Analyst Nanodegree from Udacity and completed a specialization in Data Analysis for Life Science from Harvard University. In addition, I earned several certifications in bioinformatics and genomics. Currently, I mentor business students on data science concepts at Udacity. I love building engaging data visualization. I am my best at a team environment where I can leverage my deep training and extend my skills in data science. Specialities : ● Biomedical research: 6+ years of enzymology, modern enzyme kinetics methods, protein purification, protein engineering, nucleic acid analysis and manipulation, chromatography (Akta system), sequencing gels, crosslinking assays ● Data analysis: 6+ years of scientific data analysis. Experience with Python packages: Numpy, Scipy, Pandas, matplotlib, seaborn, scikit-learn, beautifulsoup4. Experience with R and Bioconductor packages: tidyverse, ggvis, leaflet, Shiny. ● Programming Languages: 3+ years. Proficient in Python and R. Some experience with Unix and SQL. ● Communication: 5+ years of peer coaching, mentoring, writing scientific reports and journal articles, and data visualization using ggplot2, matplotlib, and Tableau. ● Design: 5+ years of creating posters, presentations. Experience with LaTeX, Photoshop, Illustrator, Powerpoint. ● Version Control Systems: Git/Github See GitHub for some of my side-projects. Feel free to approach me if you need my skills!","tags":"pages","url":"pages/about-me.html"},{"title":"Cleaning Movies Data for Tableau Visualization","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI colors. */ .ansibold { font-weight: bold; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; border-left-width: 1px; padding-left: 5px; background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%); } div.cell.jupyter-soft-selected { border-left-color: #90CAF9; border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected { border-color: #ababab; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%); } @media print { div.cell.selected { border-color: transparent; } } div.cell.selected.jupyter-soft-selected { border-left-width: 0; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%); } .edit_mode div.cell.selected { border-color: #66BB6A; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%); } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ padding: 0.4em; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */ /* .CodeMirror-lines */ padding: 0; border: 0; border-radius: 0; } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html td, .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } .highlight .hll { background-color: #ffffcc } .highlight { background: #f8f8f8; } .highlight .c { color: #408080; font-style: italic } /* Comment */ .highlight .err { border: 1px solid #FF0000 } /* Error */ .highlight .k { color: #008000; font-weight: bold } /* Keyword */ .highlight .o { color: #666666 } /* Operator */ .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight .gd { color: #A00000 } /* Generic.Deleted */ .highlight .ge { font-style: italic } /* Generic.Emph */ .highlight .gr { color: #FF0000 } /* Generic.Error */ .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight .gi { color: #00A000 } /* Generic.Inserted */ .highlight .go { color: #888888 } /* Generic.Output */ .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight .gs { font-weight: bold } /* Generic.Strong */ .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight .gt { color: #0044DD } /* Generic.Traceback */ .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight .kp { color: #008000 } /* Keyword.Pseudo */ .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight .kt { color: #B00040 } /* Keyword.Type */ .highlight .m { color: #666666 } /* Literal.Number */ .highlight .s { color: #BA2121 } /* Literal.String */ .highlight .na { color: #7D9029 } /* Name.Attribute */ .highlight .nb { color: #008000 } /* Name.Builtin */ .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight .no { color: #880000 } /* Name.Constant */ .highlight .nd { color: #AA22FF } /* Name.Decorator */ .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight .nf { color: #0000FF } /* Name.Function */ .highlight .nl { color: #A0A000 } /* Name.Label */ .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight .nv { color: #19177C } /* Name.Variable */ .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight .w { color: #bbbbbb } /* Text.Whitespace */ .highlight .mb { color: #666666 } /* Literal.Number.Bin */ .highlight .mf { color: #666666 } /* Literal.Number.Float */ .highlight .mh { color: #666666 } /* Literal.Number.Hex */ .highlight .mi { color: #666666 } /* Literal.Number.Integer */ .highlight .mo { color: #666666 } /* Literal.Number.Oct */ .highlight .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight .sc { color: #BA2121 } /* Literal.String.Char */ .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight .sx { color: #008000 } /* Literal.String.Other */ .highlight .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight .ss { color: #19177C } /* Literal.String.Symbol */ .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight .fm { color: #0000FF } /* Name.Function.Magic */ .highlight .vc { color: #19177C } /* Name.Variable.Class */ .highlight .vg { color: #19177C } /* Name.Variable.Global */ .highlight .vi { color: #19177C } /* Name.Variable.Instance */ .highlight .vm { color: #19177C } /* Name.Variable.Magic */ .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */ /* Temporary definitions which will become obsolete with Notebook release 5.0 */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-bold { font-weight: bold; } Project Details You are a business analyst consultant and your client is a new movie production company looking to make a new movie. The client wants to make sure it's successful to help make a name for the new company. They are relying on you to help understand movie trends to help inform their decision making. They've given you guidance to look into three specific areas: Question 1: How have movies based on novels performed relative to movies not based on novels? Question 2: How do the attributes differ between Universal Pictures and Paramount Pictures? Question 3: How have movie genres changed over time? In this blog post, I will clean the data and get the dataset ready for Tableau visualization. In the second part of the post, I will attempt to answer these questions using Tableau Dashboard and Stories. Source:- TheMovieDB Getting Started In [1]: # Import the libraries needed import pandas as pd import numpy as np import re import calendar The original data used for the analysis can be downloaded from the following link . When I tried to open the file directly using pandas read_csv module, I ran into following error- \"UnicodeDecodeError: 'utf-8' codec can't decode byte 0xcc in position 12: invalid continuation byte\". So I had to open the file in Sublime Text and save it with utf-8 encoding. This allowed me to open the file using pandas read_csv module. In [3]: # Load the data into a pandas dataframe movies = pd . read_csv ( \"data/movies.csv\" ) movies . head () Out[3]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id imdb_id popularity budget revenue original_title cast homepage director tagline ... overview runtime genres production_companies release_date vote_count vote_average release_year budget_adj revenue_adj 0 135397 tt0369610 32.985763 150000000 1513528810 Jurassic World Chris Pratt|Bryce Dallas Howard|Irrfan Khan|Vi... http://www.jurassicworld.com/ Colin Trevorrow The park is open. ... Twenty-two years after the events of Jurassic ... 124 Action|Adventure|Science Fiction|Thriller Universal Studios|Amblin Entertainment|Legenda... 2015-06-09 5562 6.5 2015 1.379999e+08 1.392446e+09 1 76341 tt1392190 28.419936 150000000 378436354 Mad Max: Fury Road Tom Hardy|Charlize Theron|Hugh Keays-Byrne|Nic... http://www.madmaxmovie.com/ George Miller What a Lovely Day. ... An apocalyptic story set in the furthest reach... 120 Action|Adventure|Science Fiction|Thriller Village Roadshow Pictures|Kennedy Miller Produ... 2015-05-13 6185 7.1 2015 1.379999e+08 3.481613e+08 2 262500 tt2908446 13.112507 110000000 295238201 Insurgent Shailene Woodley|Theo James|Kate Winslet|Ansel... http://www.thedivergentseries.movie/#insurgent Robert Schwentke One Choice Can Destroy You ... Beatrice Prior must confront her inner demons ... 119 Adventure|Science Fiction|Thriller Summit Entertainment|Mandeville Films|Red Wago... 2015-03-18 2480 6.3 2015 1.012000e+08 2.716190e+08 3 140607 tt2488496 11.173104 200000000 2068178225 Star Wars: The Force Awakens Harrison Ford|Mark Hamill|Carrie Fisher|Adam D... http://www.starwars.com/films/star-wars-episod... J.J. Abrams Every generation has a story. ... Thirty years after defeating the Galactic Empi... 136 Action|Adventure|Science Fiction|Fantasy Lucasfilm|Truenorth Productions|Bad Robot 2015-12-15 5292 7.5 2015 1.839999e+08 1.902723e+09 4 168259 tt2820852 9.335014 190000000 1506249360 Furious 7 Vin Diesel|Paul Walker|Jason Statham|Michelle ... http://www.furious7.com/ James Wan Vengeance Hits Home ... Deckard Shaw seeks revenge against Dominic Tor... 137 Action|Crime|Thriller Universal Pictures|Original Film|Media Rights ... 2015-04-01 2947 7.3 2015 1.747999e+08 1.385749e+09 5 rows × 21 columns Data clean up If we look at the dataset the information needed to answer the questions isn't readily available. We need to do some preprocessing on relevant columns to dig out the information needed to answer the questions. We will start by fixing the columns that pertain to the question we are trying to address. Question 1: How have movies based on novels performed relative to movies not based on novels? To address this question we need to find movies that are based on novels. This information is primarily available in keywords column and in tagline column. Instead of fixing the genres column for the entire dataset, I select few columns and make a subset of data to work with it. In [389]: movies_novels = movies [[ \"id\" , \"original_title\" , \"keywords\" , \"tagline\" ]] . reset_index ( drop = True ) movies_novels . head ( 10 ) Out[389]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id original_title keywords tagline 0 135397 Jurassic World monster|dna|tyrannosaurus rex|velociraptor|island The park is open. 1 76341 Mad Max: Fury Road future|chase|post-apocalyptic|dystopia|australia What a Lovely Day. 2 262500 Insurgent based on novel|revolution|dystopia|sequel|dyst... One Choice Can Destroy You 3 140607 Star Wars: The Force Awakens android|spaceship|jedi|space opera|3d Every generation has a story. 4 168259 Furious 7 car race|speed|revenge|suspense|car Vengeance Hits Home 5 281957 The Revenant father-son relationship|rape|based on novel|mo... (n. One who has returned, as if from the dead.) 6 87101 Terminator Genisys saving the world|artificial intelligence|cybor... Reset the future 7 286217 The Martian based on novel|mars|nasa|isolation|botanist Bring Him Home 8 211672 Minions assistant|aftercreditsstinger|duringcreditssti... Before Gru, they had a history of bad bosses 9 150540 Inside Out dream|cartoon|imaginary friend|animation|kid Meet the little voices inside your head. As I went through the keywords column, I noticed that there are multiple phrases that could tell whether a movie is based on novel - 'based on novel' , 'based on graphic novel' , 'inspired by novel' etc. In order to list all of the possible phrases we could be dealing with, I write a regular expression script to search for the first occurrence of phrase with 'novel' in each row. The function returns either the phrase with 'novel' in it or None. In [390]: def find_novel_from_keywords ( keywords ): try : match = re . search ( \"(\\|{0,1}[\\w\\s]*novel[\\w\\s]*\\|{0,1})\" , keywords ) if match : return match . group ( 0 ) else : return None except TypeError : return None phrases_with_novel = set () for text in set ( movies_novels [ \"keywords\" ] . tolist ()): pattern = find_novel_from_keywords ( text ) phrases_with_novel . add ( pattern ) print ( phrases_with_novel ) {'|inspired by novel', '|novelist', '|stolen novel|', '|based on graphic novel', '|based on novel', '|based on novel|', '|based on graphic novel|', '|novelist|', 'based on novel', '|tell all novel|', None, 'based on graphic novel|', 'based on novel|'} Hmm! there are several phrases with 'novel' in it, but only three phrases tell us if a movie is based on a novel. The three phrases are - 'based on novel' , 'based on graphic novel' , and 'inspired by novel' . Next, we will create a column based_on_novel_0 that looks for those three phrases from keywords column and returns True if the movie is novel based. In [391]: def find_novel_based_movie ( keywords ): try : match1 = re . search ( \"(\\|{0,1}based[\\w\\s]*novel\\|{0,1})\" , keywords ) match2 = re . search ( \"(\\|{0,1}inspired[\\w\\s]*novel\\|{0,1})\" , keywords ) if match1 or match2 : return True else : return False except TypeError : return None movies_novels [ \"based_on_novel_0\" ] = movies_novels [ \"keywords\" ] . apply ( find_novel_based_movie ) movies_novels . head () Out[391]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id original_title keywords tagline based_on_novel_0 0 135397 Jurassic World monster|dna|tyrannosaurus rex|velociraptor|island The park is open. False 1 76341 Mad Max: Fury Road future|chase|post-apocalyptic|dystopia|australia What a Lovely Day. False 2 262500 Insurgent based on novel|revolution|dystopia|sequel|dyst... One Choice Can Destroy You True 3 140607 Star Wars: The Force Awakens android|spaceship|jedi|space opera|3d Every generation has a story. False 4 168259 Furious 7 car race|speed|revenge|suspense|car Vengeance Hits Home False It is also quite likely that information for whether a movie is based on novel is in tagline column. Let us search tagline column for any phrase with novel in it. In [392]: def find_novel_from_tagline ( tagline ): try : match = re . search ( \"(.*novel.*)\" , tagline ) if match : return match . group ( 0 ) else : return None except TypeError : return None phrases_with_novel_1 = set () for text in set ( movies_novels [ \"tagline\" ] . tolist ()): pattern = find_novel_from_tagline ( text ) phrases_with_novel_1 . add ( pattern ) print ( phrases_with_novel_1 ) {'Based on the best-selling novel', 'Based on the novel of Chico Xavier', 'Based on the novel by Henry James', 'The #1 novel of the year - now a motion picture!', None} There were four movies based on novel for which the information was present in tagline column. Next, we will create a column based_on_novel_1 that looks for those phrases from tagline column and returns True if the movie is novel based. In [393]: def find_novel_based_movie_1 ( tagline ): try : match = re . search ( \"(.*novel.*)\" , tagline ) if match : return True else : return False except TypeError : return None movies_novels [ \"based_on_novel_1\" ] = movies_novels [ \"tagline\" ] . apply ( find_novel_based_movie_1 ) movies_novels . head () Out[393]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id original_title keywords tagline based_on_novel_0 based_on_novel_1 0 135397 Jurassic World monster|dna|tyrannosaurus rex|velociraptor|island The park is open. False False 1 76341 Mad Max: Fury Road future|chase|post-apocalyptic|dystopia|australia What a Lovely Day. False False 2 262500 Insurgent based on novel|revolution|dystopia|sequel|dyst... One Choice Can Destroy You True False 3 140607 Star Wars: The Force Awakens android|spaceship|jedi|space opera|3d Every generation has a story. False False 4 168259 Furious 7 car race|speed|revenge|suspense|car Vengeance Hits Home False False We are only interested in finding whether a movie is based on novel. We are not concerned whether that information comes from keywords column or tagline column. We will create a single column based_on_novel from based_on_novel_0 and based_on_novel_1 . At the same time, we will now drop columns we don't need anymore. In [394]: movies_novels [ \"based_on_novel\" ] = movies_novels [ \"based_on_novel_0\" ] + movies_novels [ \"based_on_novel_1\" ] movies_novels . drop ([ \"keywords\" , \"tagline\" , \"based_on_novel_0\" , \"based_on_novel_1\" ], axis = 1 , inplace = True ) movies_novels . head () Out[394]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id original_title based_on_novel 0 135397 Jurassic World 0 1 76341 Mad Max: Fury Road 0 2 262500 Insurgent 1 3 140607 Star Wars: The Force Awakens 0 4 168259 Furious 7 0 We will now convert the based_on_novel column from integers to boolean. Before that, we need to check the different integer values that are there in the column beside 0 and 1. It is quite likely that information for movie based on a novel is present on both the columns- keywords and tagline . As a result, some of the values for based_on_novel might be two. Let's check that out. In [395]: print ( movies_novels [ \"based_on_novel\" ] . unique ()) [0 1 nan 2] In [396]: movies_novels [ movies_novels [ 'based_on_novel' ] == 2 ] Out[396]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id original_title based_on_novel 10660 10671 Airport 2 In [397]: movies . loc [ movies [ 'original_title' ] == \"Airport\" , [ \"original_title\" , \"keywords\" , \"tagline\" ]] Out[397]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } original_title keywords tagline 10660 Airport bomb|based on novel|airport|desperation|snow s... The #1 novel of the year - now a motion picture! In [398]: int_to_bool = { 0 : 'False' , 1 : 'True' , 2 : 'True' } movies_novels [ 'based_on_novel' ] = movies_novels [ 'based_on_novel' ] . apply ( int_to_bool . get ) movies_novels . head () Out[398]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id original_title based_on_novel 0 135397 Jurassic World False 1 76341 Mad Max: Fury Road False 2 262500 Insurgent True 3 140607 Star Wars: The Force Awakens False 4 168259 Furious 7 False Now we have our new column based_on_novel in a format that can be used for Tableau visualization. Let's drop the keywords and tagline columns in the original dataset and merge the movies_novels data subsets with the original movie dataset using id and original_title . In [399]: movies . drop ([ \"keywords\" , \"tagline\" ], axis = 1 , inplace = True ) # We will use the merge function in pandas to merge the scraped data subsets and original movies dataset. # The merge function in pandas is similar to join in SQL. movies = pd . merge ( movies , movies_novels , how = \"left\" , left_on = [ \"id\" , \"original_title\" ], right_on = [ \"id\" , \"original_title\" ]) movies . head () Out[399]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id imdb_id popularity budget revenue original_title cast homepage director overview runtime genres production_companies release_date vote_count vote_average release_year budget_adj revenue_adj based_on_novel 0 135397 tt0369610 32.985763 150000000 1513528810 Jurassic World Chris Pratt|Bryce Dallas Howard|Irrfan Khan|Vi... http://www.jurassicworld.com/ Colin Trevorrow Twenty-two years after the events of Jurassic ... 124 Action|Adventure|Science Fiction|Thriller Universal Studios|Amblin Entertainment|Legenda... 2015-06-09 5562 6.5 2015 1.379999e+08 1.392446e+09 False 1 76341 tt1392190 28.419936 150000000 378436354 Mad Max: Fury Road Tom Hardy|Charlize Theron|Hugh Keays-Byrne|Nic... http://www.madmaxmovie.com/ George Miller An apocalyptic story set in the furthest reach... 120 Action|Adventure|Science Fiction|Thriller Village Roadshow Pictures|Kennedy Miller Produ... 2015-05-13 6185 7.1 2015 1.379999e+08 3.481613e+08 False 2 262500 tt2908446 13.112507 110000000 295238201 Insurgent Shailene Woodley|Theo James|Kate Winslet|Ansel... http://www.thedivergentseries.movie/#insurgent Robert Schwentke Beatrice Prior must confront her inner demons ... 119 Adventure|Science Fiction|Thriller Summit Entertainment|Mandeville Films|Red Wago... 2015-03-18 2480 6.3 2015 1.012000e+08 2.716190e+08 True 3 140607 tt2488496 11.173104 200000000 2068178225 Star Wars: The Force Awakens Harrison Ford|Mark Hamill|Carrie Fisher|Adam D... http://www.starwars.com/films/star-wars-episod... J.J. Abrams Thirty years after defeating the Galactic Empi... 136 Action|Adventure|Science Fiction|Fantasy Lucasfilm|Truenorth Productions|Bad Robot 2015-12-15 5292 7.5 2015 1.839999e+08 1.902723e+09 False 4 168259 tt2820852 9.335014 190000000 1506249360 Furious 7 Vin Diesel|Paul Walker|Jason Statham|Michelle ... http://www.furious7.com/ James Wan Deckard Shaw seeks revenge against Dominic Tor... 137 Action|Crime|Thriller Universal Pictures|Original Film|Media Rights ... 2015-04-01 2947 7.3 2015 1.747999e+08 1.385749e+09 False Question 2: How do the attributes differ between Universal Pictures and Paramount Pictures? To answer this question we need to tidy up the production_companies column. Each row of production_companies column contains several production companies separated by | and there can be a maximum of five companies. We are interested in finding out whether a movie was produced by Universal Pictures, or Paramount Pictures, or None. In [400]: movies_production_companies = movies [[ \"id\" , \"original_title\" , \"production_companies\" ]] . reset_index ( drop = True ) movies_production_companies . head () Out[400]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id original_title production_companies 0 135397 Jurassic World Universal Studios|Amblin Entertainment|Legenda... 1 76341 Mad Max: Fury Road Village Roadshow Pictures|Kennedy Miller Produ... 2 262500 Insurgent Summit Entertainment|Mandeville Films|Red Wago... 3 140607 Star Wars: The Force Awakens Lucasfilm|Truenorth Productions|Bad Robot 4 168259 Furious 7 Universal Pictures|Original Film|Media Rights ... As I skimmed through the production_companies column, I noticed that Universal Studios was not named consistently - Universal Studios, Universal Pictures, Universal etc. In order to find out all the possible names of Universal Studios we could be dealing with, I wrote a script to search for the first occurrence of phrase with 'Universal' in each row. The function returns either the phrase with word Universal in it or None. In [401]: def find_Universal ( production_company ): try : match = re . search ( \"(\\|{0,1}[\\w\\s]*Universal[\\w\\s]*\\|{0,1})\" , production_company ) if match : return match . group ( 0 ) else : return None except TypeError : return None words_with_Universal = set () for text in set ( movies_production_companies [ \"production_companies\" ] . tolist ()): pattern = find_Universal ( text ) words_with_Universal . add ( pattern ) print ( words_with_Universal ) {'Universal Pictures', 'Universal Cable Productions|', 'Universal Cartoon Studios|', 'Universal 1440 Entertainment', '|Universal Home Entertainment', '|Universal Studios Home Entertainment|', '|Universal International Pictures ', '|Universal Cartoon Studios|', '|Universal 1440 Entertainment', 'Universal', '|Universal City Studios|', '|Universal CGI|', 'Universal TV', '|Universal Pictures International ', 'Universal Pictures Germany GmbH', 'Universal TV|', '|Universal Pictures', 'Universal Pictures International ', '|Universal Studios Home Entertainment', '|Universal Television', 'Universal Pictures Corporation', '|Universal City Studios', '|Universal Music', 'NBC Universal Television|', '|NBC Universal Global Networks|', 'Universal Home Entertainment', 'Universal Pictures|', '|Universal Family and Home Entertainment', '|Universal Studios Sound Facilities', 'Universal Studios|', '|Universal|', '|Universal Pictures|', 'Universal Studios Home Entertainment Family Productions|', '|Universal Network Television|', 'Universal Studios', 'NBC Universal Television', 'Universal Productions France S', 'Universal Cartoon Studios', 'Universal Studios Home Entertainment', None, '|Universal 1440 Entertainment|', '|Universal Home Video'} Huh! there are several phrases with Universal in it. I googled to figure out if these were all divisions of the same company. The wikipedia page states - \"Universal Pictures (also referred to as Universal Studios or simply Universal) is an American film studio owned by Comcast through the Universal Filmed Entertainment Group division of its wholly owned subsidiary NBCUniversal.\" An extensive search revealed that these are all part of American multinational media conglomerate NBCUniversal. I also wanted to go ahead and check if it was similar case for Paramount Pictures. I wrote a similar script to search for the first occurrence of phrase with 'Paramount' in each row. In [402]: def find_Paramount ( production_company ): try : match = re . search ( \"(\\|{0,1}[\\w\\s]*Paramount[\\w\\s]*\\|{0,1})\" , production_company ) if match : return match . group ( 0 ) else : return None except TypeError : return None words_with_Paramount = set () for text in set ( movies_production_companies [ \"production_companies\" ] . tolist ()): pattern = find_Paramount ( text ) words_with_Paramount . add ( pattern ) print ( words_with_Paramount ) {'|Paramount Television|', '|Paramount Pictures', 'Paramount Famous Productions', '|Paramount Classics', '|Paramount Home Entertainment', 'Paramount Vantage', 'Paramount Classics', 'Paramount Vantage|', '|Paramount Vantage|', 'Paramount Pictures|', 'Paramount Pictures', '|Paramount Classics|', 'Paramount|', '|Paramount Vantage', '|Paramount Pictures Digital Entertainment|', None, '|Paramount Animation', 'Paramount Home Entertainment', 'Paramount Pictures Digital Entertainment'} As stated in Wikipedia - \"Paramount Pictures Corporation (also known as Paramount Pictures and simply Paramount) is an American film studio based in Hollywood, California, that has been a subsidiary of the American media conglomerate Viacom since 1994.\" These above-listed names are all subsidiaries of the same company. Now we can write some code to tag all the companies with Universal in their names as Universal and all the companies with Paramount in their names as Paramount, and neither as None for our purpose. To do this, I used a regular expression that searches for the first occurrence of Universal or Paramount in each row of production_companies column. In [403]: def find_Universal_or_Paramount ( production_company ): try : universal = re . search ( \"(\\|{0,1}[\\w\\s]*Universal[\\w\\s]*\\|{0,1})\" , production_company ) paramount = re . search ( \"(\\|{0,1}[\\w\\s]*Paramount[\\w\\s]*\\|{0,1})\" , production_company ) if universal : return \"Universal\" elif paramount : return \"Paramount\" else : return None except TypeError : return None # Transform the original 'production_companies' to only keep relevant information movies [ \"production_companies\" ] = movies [ \"production_companies\" ] . apply ( find_Universal_or_Paramount ) # We can see that the production_companies column has been transformed in the original dataset movies . head () Out[403]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id imdb_id popularity budget revenue original_title cast homepage director overview runtime genres production_companies release_date vote_count vote_average release_year budget_adj revenue_adj based_on_novel 0 135397 tt0369610 32.985763 150000000 1513528810 Jurassic World Chris Pratt|Bryce Dallas Howard|Irrfan Khan|Vi... http://www.jurassicworld.com/ Colin Trevorrow Twenty-two years after the events of Jurassic ... 124 Action|Adventure|Science Fiction|Thriller Universal 2015-06-09 5562 6.5 2015 1.379999e+08 1.392446e+09 False 1 76341 tt1392190 28.419936 150000000 378436354 Mad Max: Fury Road Tom Hardy|Charlize Theron|Hugh Keays-Byrne|Nic... http://www.madmaxmovie.com/ George Miller An apocalyptic story set in the furthest reach... 120 Action|Adventure|Science Fiction|Thriller None 2015-05-13 6185 7.1 2015 1.379999e+08 3.481613e+08 False 2 262500 tt2908446 13.112507 110000000 295238201 Insurgent Shailene Woodley|Theo James|Kate Winslet|Ansel... http://www.thedivergentseries.movie/#insurgent Robert Schwentke Beatrice Prior must confront her inner demons ... 119 Adventure|Science Fiction|Thriller None 2015-03-18 2480 6.3 2015 1.012000e+08 2.716190e+08 True 3 140607 tt2488496 11.173104 200000000 2068178225 Star Wars: The Force Awakens Harrison Ford|Mark Hamill|Carrie Fisher|Adam D... http://www.starwars.com/films/star-wars-episod... J.J. Abrams Thirty years after defeating the Galactic Empi... 136 Action|Adventure|Science Fiction|Fantasy None 2015-12-15 5292 7.5 2015 1.839999e+08 1.902723e+09 False 4 168259 tt2820852 9.335014 190000000 1506249360 Furious 7 Vin Diesel|Paul Walker|Jason Statham|Michelle ... http://www.furious7.com/ James Wan Deckard Shaw seeks revenge against Dominic Tor... 137 Action|Crime|Thriller Universal 2015-04-01 2947 7.3 2015 1.747999e+08 1.385749e+09 False While we are here, let us also extract day, month, and day of the week information from the date column. We will create these three new columns in the original movies dataset itself. These attributes can be used for exploring the seasonal effect on movie's performance. In [404]: movies [ \"release_month\" ] = pd . DatetimeIndex ( movies [ \"release_date\" ]) . month movies [ \"release_month\" ] = movies [ \"release_month\" ] . apply ( lambda x : calendar . month_abbr [ x ]) movies [ \"release_day\" ] = pd . DatetimeIndex ( movies [ \"release_date\" ]) . day movies [ \"release_dayofweek\" ] = pd . DatetimeIndex ( movies [ \"release_date\" ]) . weekday_name movies . head () Out[404]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id imdb_id popularity budget revenue original_title cast homepage director overview ... release_date vote_count vote_average release_year budget_adj revenue_adj based_on_novel release_month release_day release_dayofweek 0 135397 tt0369610 32.985763 150000000 1513528810 Jurassic World Chris Pratt|Bryce Dallas Howard|Irrfan Khan|Vi... http://www.jurassicworld.com/ Colin Trevorrow Twenty-two years after the events of Jurassic ... ... 2015-06-09 5562 6.5 2015 1.379999e+08 1.392446e+09 False Jun 9 Tuesday 1 76341 tt1392190 28.419936 150000000 378436354 Mad Max: Fury Road Tom Hardy|Charlize Theron|Hugh Keays-Byrne|Nic... http://www.madmaxmovie.com/ George Miller An apocalyptic story set in the furthest reach... ... 2015-05-13 6185 7.1 2015 1.379999e+08 3.481613e+08 False May 13 Wednesday 2 262500 tt2908446 13.112507 110000000 295238201 Insurgent Shailene Woodley|Theo James|Kate Winslet|Ansel... http://www.thedivergentseries.movie/#insurgent Robert Schwentke Beatrice Prior must confront her inner demons ... ... 2015-03-18 2480 6.3 2015 1.012000e+08 2.716190e+08 True Mar 18 Wednesday 3 140607 tt2488496 11.173104 200000000 2068178225 Star Wars: The Force Awakens Harrison Ford|Mark Hamill|Carrie Fisher|Adam D... http://www.starwars.com/films/star-wars-episod... J.J. Abrams Thirty years after defeating the Galactic Empi... ... 2015-12-15 5292 7.5 2015 1.839999e+08 1.902723e+09 False Dec 15 Tuesday 4 168259 tt2820852 9.335014 190000000 1506249360 Furious 7 Vin Diesel|Paul Walker|Jason Statham|Michelle ... http://www.furious7.com/ James Wan Deckard Shaw seeks revenge against Dominic Tor... ... 2015-04-01 2947 7.3 2015 1.747999e+08 1.385749e+09 False Apr 1 Wednesday 5 rows × 23 columns We will also calculate two important metrics that we will use later for Tableau visualization. In [405]: movies [ \"profit\" ] = movies [ \"revenue\" ] - movies [ \"budget\" ] movies [ \"profit (%)\" ] = ( movies [ \"revenue\" ] - movies [ \"budget\" ]) * 100 / movies [ \"budget\" ] movies [ \"profit_adj\" ] = movies [ \"revenue_adj\" ] - movies [ \"budget_adj\" ] In [406]: movies . head () Out[406]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id imdb_id popularity budget revenue original_title cast homepage director overview ... release_year budget_adj revenue_adj based_on_novel release_month release_day release_dayofweek profit profit (%) profit_adj 0 135397 tt0369610 32.985763 150000000 1513528810 Jurassic World Chris Pratt|Bryce Dallas Howard|Irrfan Khan|Vi... http://www.jurassicworld.com/ Colin Trevorrow Twenty-two years after the events of Jurassic ... ... 2015 1.379999e+08 1.392446e+09 False Jun 9 Tuesday 1363528810 909.019207 1.254446e+09 1 76341 tt1392190 28.419936 150000000 378436354 Mad Max: Fury Road Tom Hardy|Charlize Theron|Hugh Keays-Byrne|Nic... http://www.madmaxmovie.com/ George Miller An apocalyptic story set in the furthest reach... ... 2015 1.379999e+08 3.481613e+08 False May 13 Wednesday 228436354 152.290903 2.101614e+08 2 262500 tt2908446 13.112507 110000000 295238201 Insurgent Shailene Woodley|Theo James|Kate Winslet|Ansel... http://www.thedivergentseries.movie/#insurgent Robert Schwentke Beatrice Prior must confront her inner demons ... ... 2015 1.012000e+08 2.716190e+08 True Mar 18 Wednesday 185238201 168.398365 1.704191e+08 3 140607 tt2488496 11.173104 200000000 2068178225 Star Wars: The Force Awakens Harrison Ford|Mark Hamill|Carrie Fisher|Adam D... http://www.starwars.com/films/star-wars-episod... J.J. Abrams Thirty years after defeating the Galactic Empi... ... 2015 1.839999e+08 1.902723e+09 False Dec 15 Tuesday 1868178225 934.089113 1.718723e+09 4 168259 tt2820852 9.335014 190000000 1506249360 Furious 7 Vin Diesel|Paul Walker|Jason Statham|Michelle ... http://www.furious7.com/ James Wan Deckard Shaw seeks revenge against Dominic Tor... ... 2015 1.747999e+08 1.385749e+09 False Apr 1 Wednesday 1316249360 692.762821 1.210949e+09 5 rows × 26 columns Write the dataframe to csv file for Tableau visualization. In [407]: movies . to_csv ( 'data/movies_cleaned.csv' , index = False ) Question 3: How have movie genres changed over time? Problem: The genres column consists of multiple genres in the same cell separated by \"|\". To tidy this data up, we need to have one genre per row associated with their respective id. Instead of fixing the genres column for the entire dataset, I select few columns and make a subset of data to work with it. In [408]: movies_genres = movies [[ \"id\" , \"original_title\" , \"genres\" ]] . reset_index ( drop = True ) movies_genres . head () Out[408]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id original_title genres 0 135397 Jurassic World Action|Adventure|Science Fiction|Thriller 1 76341 Mad Max: Fury Road Action|Adventure|Science Fiction|Thriller 2 262500 Insurgent Adventure|Science Fiction|Thriller 3 140607 Star Wars: The Force Awakens Action|Adventure|Science Fiction|Fantasy 4 168259 Furious 7 Action|Crime|Thriller First, we separate multiple genres associated with each movie into multiple columns. We know from the data specifications that there can be a maximum of five genres for each movie, so we will separate the genres column into five columns. In [409]: movies_genres [[ 'genre1' , 'genre2' , 'genre3' , 'genre4' , 'genre5' ]] = movies_genres [ 'genres' ] . str . split ( \"|\" , expand = True ) del movies_genres [ 'genres' ] The genres variable is now spread out across multiple columns and the data is in wide format. As a final tidying step, we will use pandas melt function to convert the dataset from wide to tall format. In [410]: movies_genres = pd . melt ( movies_genres , id_vars = [ \"id\" , \"original_title\" ], value_name = \"genres\" , var_name = \"genre_n\" ) # Drop rows with no values in genres column movies_genres . dropna ( axis = 0 , subset = [ 'genres' ], inplace = True ) movies_genres . head () Out[410]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id original_title genre_n genres 0 135397 Jurassic World genre1 Action 1 76341 Mad Max: Fury Road genre1 Action 2 262500 Insurgent genre1 Adventure 3 140607 Star Wars: The Force Awakens genre1 Action 4 168259 Furious 7 genre1 Action In [411]: movies [ movies [ \"original_title\" ] == \"3 Ninjas\" ] Out[411]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } id imdb_id popularity budget revenue original_title cast homepage director overview ... release_year budget_adj revenue_adj based_on_novel release_month release_day release_dayofweek profit profit (%) profit_adj 8342 16314 tt0103596 0.233105 0 0 3 Ninjas Victor Wong|Michael Treanor|Max Elliott Slade|... NaN Jon Turteltaub Each year, three brothers Samuel, Jeffrey and ... ... 1992 0.0 0.0 False Aug 7 Friday 0 NaN 0.0 1 rows × 26 columns In [412]: # Delete the original genres column in the movies dataset del movies [ \"genres\" ] # Merge the dataframes movies_cleaned_genres = pd . merge ( movies , movies_genres , how = \"right\" , left_on = [ \"id\" , \"original_title\" ], right_on = [ \"id\" , \"original_title\" ]) # Write the dataframe to csv file for Tableau visualization. movies_cleaned_genres . to_csv ( 'data/movies_cleaned_genres.csv' , index = False ) References 1) Scraping for craft beers 2) Tidy data in Python if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) { var mathjaxscript = document.createElement('script'); mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#'; mathjaxscript.type = 'text/javascript'; mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; mathjaxscript[(window.opera ? \"innerHTML\" : \"text\")] = \"MathJax.Hub.Config({\" + \" config: ['MMLorHTML.js'],\" + \" TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },\" + \" jax: ['input/TeX','input/MathML','output/HTML-CSS'],\" + \" extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],\" + \" displayAlign: 'center',\" + \" displayIndent: '0em',\" + \" showMathMenu: true,\" + \" tex2jax: { \" + \" inlineMath: [ ['$','$'] ], \" + \" displayMath: [ ['$$','$$'] ],\" + \" processEscapes: true,\" + \" preview: 'TeX',\" + \" }, \" + \" 'HTML-CSS': { \" + \" linebreaks: { automatic: true, width: '95% container' }, \" + \" styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }\" + \" } \" + \"}); \"; (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript); }","tags":"Data-Analyst-Nanodegree","url":"movies-data.html"},{"title":"Shiny Greenhouse App","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI colors. */ .ansibold { font-weight: bold; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; border-left-width: 1px; padding-left: 5px; background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%); } div.cell.jupyter-soft-selected { border-left-color: #90CAF9; border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected { border-color: #ababab; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%); } @media print { div.cell.selected { border-color: transparent; } } div.cell.selected.jupyter-soft-selected { border-left-width: 0; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%); } .edit_mode div.cell.selected { border-color: #66BB6A; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%); } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ padding: 0.4em; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */ /* .CodeMirror-lines */ padding: 0; border: 0; border-radius: 0; } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html td, .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } .highlight .hll { background-color: #ffffcc } .highlight { background: #f8f8f8; } .highlight .c { color: #408080; font-style: italic } /* Comment */ .highlight .err { border: 1px solid #FF0000 } /* Error */ .highlight .k { color: #008000; font-weight: bold } /* Keyword */ .highlight .o { color: #666666 } /* Operator */ .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight .gd { color: #A00000 } /* Generic.Deleted */ .highlight .ge { font-style: italic } /* Generic.Emph */ .highlight .gr { color: #FF0000 } /* Generic.Error */ .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight .gi { color: #00A000 } /* Generic.Inserted */ .highlight .go { color: #888888 } /* Generic.Output */ .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight .gs { font-weight: bold } /* Generic.Strong */ .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight .gt { color: #0044DD } /* Generic.Traceback */ .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight .kp { color: #008000 } /* Keyword.Pseudo */ .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight .kt { color: #B00040 } /* Keyword.Type */ .highlight .m { color: #666666 } /* Literal.Number */ .highlight .s { color: #BA2121 } /* Literal.String */ .highlight .na { color: #7D9029 } /* Name.Attribute */ .highlight .nb { color: #008000 } /* Name.Builtin */ .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight .no { color: #880000 } /* Name.Constant */ .highlight .nd { color: #AA22FF } /* Name.Decorator */ .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight .nf { color: #0000FF } /* Name.Function */ .highlight .nl { color: #A0A000 } /* Name.Label */ .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight .nv { color: #19177C } /* Name.Variable */ .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight .w { color: #bbbbbb } /* Text.Whitespace */ .highlight .mb { color: #666666 } /* Literal.Number.Bin */ .highlight .mf { color: #666666 } /* Literal.Number.Float */ .highlight .mh { color: #666666 } /* Literal.Number.Hex */ .highlight .mi { color: #666666 } /* Literal.Number.Integer */ .highlight .mo { color: #666666 } /* Literal.Number.Oct */ .highlight .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight .sc { color: #BA2121 } /* Literal.String.Char */ .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight .sx { color: #008000 } /* Literal.String.Other */ .highlight .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight .ss { color: #19177C } /* Literal.String.Symbol */ .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight .fm { color: #0000FF } /* Name.Function.Magic */ .highlight .vc { color: #19177C } /* Name.Variable.Class */ .highlight .vg { color: #19177C } /* Name.Variable.Global */ .highlight .vi { color: #19177C } /* Name.Variable.Instance */ .highlight .vm { color: #19177C } /* Name.Variable.Magic */ .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */ /* Temporary definitions which will become obsolete with Notebook release 5.0 */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-bold { font-weight: bold; } \"During 2016, Earth's globally averaged surface temperature was 0.94$&#94;{\\circ}$C higher than the twentieth-century century average. All 16 years of the twenty-first century rank among the 17 warmest years on record.\" - National Oceanic and Atmospheric Administration (NOAA) If you know me I deeply care about the health of our planet. The biggest threat our civilization and the life of planet right now is global warming. According to Intergovernmental Panel on Climate Change - \"Scientific evidence for warming of the climate system is unequivocal\". \" Majority of Scientists agree that rising temperatures will fuel longer and hotter heat waves, drought, crop failures, powerful hurricanes, rising sea levels, flooding of coastal cities, mass migration crisis and mass extinction.\" - CNN . Source: NASA The invisible culprit - anthropogenic greenhouse gases (GHG) emissions. These gases collect in the atmosphere and absorb sunlight and solar radiation that increases the earth's temperature. The increase in greenhouse gas emissions is the major driver of climate change. In this project, I explore greenhouse gas emissions data for all the countries from worldbank . We asked - which countries share a bigger share of responsibility to curb the emissions? In the process, I build a Shiny app to interactively explore 42 years of greenhouse gas emissions data through different visualizations. My app can be accessed at https://arjan-hada.shinyapps.io/greenhouse-gas/ . Let me know what you think of the app. Reference 1) R for Data Science 2) Data Analysis with R 3) A Unique Visualization of Greenhouse Gas Emissions 4) Climate Change: Global Temperature 3) Worldbank Greenhouse gas emissions 4) Leaflet for R 5) World Development Indicator 6) Country Polygons as GeoJSON 7) WDI leaflet tutorial 8) Shiny app - movie-explorer 9) Shinydashboard examples 10) Shiny app - superzip-example if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) { var mathjaxscript = document.createElement('script'); mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#'; mathjaxscript.type = 'text/javascript'; mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; mathjaxscript[(window.opera ? \"innerHTML\" : \"text\")] = \"MathJax.Hub.Config({\" + \" config: ['MMLorHTML.js'],\" + \" TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },\" + \" jax: ['input/TeX','input/MathML','output/HTML-CSS'],\" + \" extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],\" + \" displayAlign: 'center',\" + \" displayIndent: '0em',\" + \" showMathMenu: true,\" + \" tex2jax: { \" + \" inlineMath: [ ['$','$'] ], \" + \" displayMath: [ ['$$','$$'] ],\" + \" processEscapes: true,\" + \" preview: 'TeX',\" + \" }, \" + \" 'HTML-CSS': { \" + \" linebreaks: { automatic: true, width: '95% container' }, \" + \" styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }\" + \" } \" + \"}); \"; (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript); }","tags":"Data-Analyst-Nanodegree","url":"shiny-app.html"},{"title":"A/B test Udacity's website","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI colors. */ .ansibold { font-weight: bold; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; border-left-width: 1px; padding-left: 5px; background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%); } div.cell.jupyter-soft-selected { border-left-color: #90CAF9; border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected { border-color: #ababab; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%); } @media print { div.cell.selected { border-color: transparent; } } div.cell.selected.jupyter-soft-selected { border-left-width: 0; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%); } .edit_mode div.cell.selected { border-color: #66BB6A; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%); } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ padding: 0.4em; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */ /* .CodeMirror-lines */ padding: 0; border: 0; border-radius: 0; } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html td, .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } .highlight .hll { background-color: #ffffcc } .highlight { background: #f8f8f8; } .highlight .c { color: #408080; font-style: italic } /* Comment */ .highlight .err { border: 1px solid #FF0000 } /* Error */ .highlight .k { color: #008000; font-weight: bold } /* Keyword */ .highlight .o { color: #666666 } /* Operator */ .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight .gd { color: #A00000 } /* Generic.Deleted */ .highlight .ge { font-style: italic } /* Generic.Emph */ .highlight .gr { color: #FF0000 } /* Generic.Error */ .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight .gi { color: #00A000 } /* Generic.Inserted */ .highlight .go { color: #888888 } /* Generic.Output */ .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight .gs { font-weight: bold } /* Generic.Strong */ .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight .gt { color: #0044DD } /* Generic.Traceback */ .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight .kp { color: #008000 } /* Keyword.Pseudo */ .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight .kt { color: #B00040 } /* Keyword.Type */ .highlight .m { color: #666666 } /* Literal.Number */ .highlight .s { color: #BA2121 } /* Literal.String */ .highlight .na { color: #7D9029 } /* Name.Attribute */ .highlight .nb { color: #008000 } /* Name.Builtin */ .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight .no { color: #880000 } /* Name.Constant */ .highlight .nd { color: #AA22FF } /* Name.Decorator */ .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight .nf { color: #0000FF } /* Name.Function */ .highlight .nl { color: #A0A000 } /* Name.Label */ .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight .nv { color: #19177C } /* Name.Variable */ .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight .w { color: #bbbbbb } /* Text.Whitespace */ .highlight .mb { color: #666666 } /* Literal.Number.Bin */ .highlight .mf { color: #666666 } /* Literal.Number.Float */ .highlight .mh { color: #666666 } /* Literal.Number.Hex */ .highlight .mi { color: #666666 } /* Literal.Number.Integer */ .highlight .mo { color: #666666 } /* Literal.Number.Oct */ .highlight .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight .sc { color: #BA2121 } /* Literal.String.Char */ .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight .sx { color: #008000 } /* Literal.String.Other */ .highlight .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight .ss { color: #19177C } /* Literal.String.Symbol */ .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight .fm { color: #0000FF } /* Name.Function.Magic */ .highlight .vc { color: #19177C } /* Name.Variable.Class */ .highlight .vg { color: #19177C } /* Name.Variable.Global */ .highlight .vi { color: #19177C } /* Name.Variable.Instance */ .highlight .vm { color: #19177C } /* Name.Variable.Magic */ .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */ /* Temporary definitions which will become obsolete with Notebook release 5.0 */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-bold { font-weight: bold; } Udacity is considering online experiments to test potential improvements to their website. Two versions of the website are shown to different users - usually the existing website and a potential change. My goal is to design and analyze an A/B test and write up a recommendation on whether Udacity should introduce a new version of the website. The project involves choosing and characterize metrics to evaluate experiments, designing an experiment with enough statistical power, analyzing the results and draw valid conclusions, and ensuring that the participants of experiments are adequately protected. Here is a screenshot of what the experiments look like:- Experiment Design Metric Choice For each metric, explain both why you did or did not use it as an invariant metric and why you did or did not use it as an evaluation metric. Also, state what results you will look for in your evaluation metrics in order to launch the experiment. Invariant metrics a) Number of cookies: Number of unique cookies to view the course overview page. b) Number of clicks: Number of unique cookies to click the \"Start free trial\" button (which happens before the free trial screener is trigger). c) Click-through-probability: Number of unique cookies to click the \"Start free trial\" button divided by number of unique cookies to view the course overview page. Evaluation metrics a) Gross conversion: Number of user-ids to complete checkout and enroll in the free trial divided by number of unique cookies to click the \"Start free trial\" button. b) Retention: Number of user-ids to remain enrolled past the 14-day boundary (and thus make at least one payment) divided by number of user-ids to complete checkout. c) Net conversion: Number of user-ids to remain enrolled past the 14-day boundary (and thus make at least one payment) divided by the number of unique cookies to click the \"Start free trial\" button. Reasons behind metric selection Number of cookies will be a good population sizing invariant because it is randomly assigned between control and experiment group. Number of cookies, Number of clicks, and Click-through-probability are measured before free trial screener is triggered, so will be invariant. Gross conversion, Retention and Net conversion can be used as an evaluation metric because the numerator of the metric happens after free trial screener is triggered. These are the metric that Udacity is trying to track in this experiment. By adding free trial screener after Start Free Trial button, the experiment could affect the number of user-ids to complete checkout. Results to look for in order to launch the experiment Our evaluation metrics need to be both statistically and practically significant. In other words, we need to be confident that the true difference between experimental and control group is at least what is required to declare practical significance. Since the workload expectations have been set upfront, number of students completing the checkout might go down, so the Gross conversion will decrease. We would expect the Retention to increase. Net conversion might go down, however, it is hard to predict beforehand. Measuring Standard Deviation For each of your evaluation metrics, indicate whether you think the analytic estimate would be comparable to the empirical variability, or whether you expect them to be different (in which case it might be worth doing an empirical estimate if there is time). Briefly give your reasoning in each case. For binomial distribution with probability p and population N, the analytical standard deviation is computed as $sd = \\sqrt\\frac{p(1-p)}{N}$ Analytical Estimate of Standard Deviation given 5000 cookies per day Evaluation Metric Standard Deviation Gross Conversion .02023 Retention .05495 Net Conversion .01560 Analytically computed variability is likely to be close to empirically computed variability when the unit of diversion and unit of analytics are the same - cookie in this case. This is the case for Gross conversion and Net conversion. For the Retention metric, the unit of analytics is user-id, which is not the same as the unit of diversion cookie. The variability of this metric will be much higher. It might be worth doing an empirical estimate of variability for this metric if there is time. Sizing Number of Samples vs. Power Using the analytic estimates of variance, how many pageviews total (across both groups) would you need to collect to adequately power the experiment? Use an alpha of 0.05 and a beta of 0.2. Make sure you have enough power for each metric. I did not use Bonferroni correction, because we are measuring three highly correlated metrics. The sample size needed to adequately power the experiments were calculated using the following link . Evaluation Metrics Baseline Conversion Rate dmin alpha beta sample size # Pageviews Retention .53 0.01 0.05 0.2 39115 4741212 Net Conversion .10931 0.0075 0.05 0.2 27413 685325 Gross Conversion .20625 0.01 0.05 0.2 25835 645875 Duration vs. Exposure What percentage of Udacity's traffic would you divert to this experiment (assuming there were no other experiments you wanted to run simultaneously)? Is the change risky enough that you wouldn't want to run on all traffic? Given the percentage you chose, how long would the experiment take to run, using the analytic estimates of variance? Evaluation Metrics Traffic diverted Duration (days) Retention 1 119 Net Conversion 1 18 Gross Conversion 1 17 If we divert 100% of Udacity's traffic, the experiment will still run for 119 days. This is an unreasonably long time. However, if we drop Retention and just measure Net conversion and Gross conversion, the experiment can be run in 18 days with enough pageviews to adequately power the experiment. The experiment constitutes a minimal risk to both students and Udacity. Entire traffic can be directed to this experiment if there are no other parallel experiment. Even if we divert 50% of Udacity's traffic the experiment can be done in 36 days. Experiment Analysis Sanity Checks For each of your invariant metrics, give the 95% confidence interval for the value you expect to observe, the actual observed value, and whether the metric passes your sanity check. Invariant metrics Lower bound Upper bound Observed Passses Number of cookies 0.4988 0.5012 0.5006 Yes Number of clicks on \"Start free trial\" 0.4959 0.5041 0.5005 Yes Click through probability on \"Start free trial\" -0.0013 0.0013 0.0001 Yes Result Analysis Effect Size Tests For each of your evaluation metrics, give a 95% confidence interval around the difference between the experiment and control groups. Indicate whether each metric is statistically and practically significant. Evaluation metrics Lower bound Upper bound Observed Statistical significance Practical significance Retention 0.008104 0.05409 0.03109 Yes No Net conversion -0.01160 0.001857 -0.0049 No No Gross conversion -0.02912 -0.01199 -0.02055 Yes Yes Statistical significance was determined based on whether or not the Confidence interval bound contained 0. Practical significance was determined based on minimum detectable effect ($d_{min}$) parameter. Sign Tests For each of your evaluation metrics, do a sign test using the day-by-day data, and report the p-value of the sign test and whether the result is statistically significant. We performed the sign test using this calculator . Sign test. If there is no change, there is 0.5 probability of positive change on each day (Null hypothesis), then: Evaluation metrics # days with positive change # days two-tail P value Retention 13 23 0.6776 Net conversion 10 23 0.6776 Gross conversion 4 23 0.0026 Summary State whether you used the Bonferroni correction, and explain why or why not. If there are any discrepancies between the effect size hypothesis tests and the sign tests, describe the discrepancy and why you think it arose. We did not use Bonferroni correction for sign test because we were only measuring one metric at a time. The effect size test for Retention is statistically significant, whereas sign test is not. There are two possible reasons. 1) We did not run the experiment long enough to have adequate page views, and hence enough Power for this metric. 2) Sign test is a non-parametric test and has lower power than the effect size test. Effect size test and sign test for Net conversion are not statistically significant whereas for Gross conversion both the tests are statistically significant. Recommendation There was a statistically and practically significant decrease in Gross conversion, but no significant change in Net conversion. The \"free trial screener\" decreased the number of students who completed checkout, but did not affect the number of students who remain enrolled past 14 days boundary. My recommendation will be to not launch the change. Follow-Up Experiment Give a high-level description of the follow up experiment you would run, what your hypothesis would be, what metrics you would want to measure, what your unit of diversion would be, and your reasoning for these choices. Udacity can test a change where they add a \" Book Welcome Videochat \" button after enrolling in the course. So, if the student clicks Start free trial and subsequently checkout and enroll, they will be required to attend a video chat appointment with a Udacity coach within the first 14 days free trial. The hypothesis is that talking to Udacity coach will provide student with a personal touch, boost student morale's, set clear expectations about the course and benefits of completing the course with past examples. If the hypothesis is held true Udacity will boost student's enthusiasm and provide momentum to complete the course. The unit of diversion will be user-id because the experiment is being done after student enrolls in the course. We want each student to have consistent experience independent of platform and device. The same user-id cannot book video chat appointment twice. Invariant metrics a) Number of cookies b) Number of clicks c) Click-through-probability d) Number of user-ids e) Gross conversion User-ids are being explicitly randomized between control and experiment group. One user-id can correspond to multiple cookies, so cookies should be split evenly as well. User-id and cookies will serve as good population sizing invariant. Number of clicks, Click-through-probability, and Gross conversion is all measured before our experiment and hence should be invariant metrics. Evaluation metrics a) Retention b) Net conversion Retention and Net conversion are the metrics that Udacity is trying to measure in this experiment. The experiment will affect the number of user-ids to remain enrolled past the 14-day boundary. References 1) A/B testing by Google 2) How not to run A/B test 3) Sign and binomial test 4) Sample size per variation for A/B test 5) Bootstrap explained $(document).ready(function(){ $('div.prompt').hide(); $('div.back-to-top').hide(); $('nav#menubar').hide(); $('.breadcrumb').hide(); $('.hidden-print').hide(); }); June 11, 2016 Contact author: hadaarjan@gmail.com if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) { var mathjaxscript = document.createElement('script'); mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#'; mathjaxscript.type = 'text/javascript'; mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; mathjaxscript[(window.opera ? \"innerHTML\" : \"text\")] = \"MathJax.Hub.Config({\" + \" config: ['MMLorHTML.js'],\" + \" TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },\" + \" jax: ['input/TeX','input/MathML','output/HTML-CSS'],\" + \" extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],\" + \" displayAlign: 'center',\" + \" displayIndent: '0em',\" + \" showMathMenu: true,\" + \" tex2jax: { \" + \" inlineMath: [ ['$','$'] ], \" + \" displayMath: [ ['$$','$$'] ],\" + \" processEscapes: true,\" + \" preview: 'TeX',\" + \" }, \" + \" 'HTML-CSS': { \" + \" linebreaks: { automatic: true, width: '95% container' }, \" + \" styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }\" + \" } \" + \"}); \"; (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript); }","tags":"Data-Analyst-Nanodegree","url":"A/B-testing.html"},{"title":"Identify Fraud From Enron Data","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI colors. */ .ansibold { font-weight: bold; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; border-left-width: 1px; padding-left: 5px; background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%); } div.cell.jupyter-soft-selected { border-left-color: #90CAF9; border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected { border-color: #ababab; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%); } @media print { div.cell.selected { border-color: transparent; } } div.cell.selected.jupyter-soft-selected { border-left-width: 0; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%); } .edit_mode div.cell.selected { border-color: #66BB6A; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%); } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ padding: 0.4em; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */ /* .CodeMirror-lines */ padding: 0; border: 0; border-radius: 0; } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html td, .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } .highlight .hll { background-color: #ffffcc } .highlight { background: #f8f8f8; } .highlight .c { color: #408080; font-style: italic } /* Comment */ .highlight .err { border: 1px solid #FF0000 } /* Error */ .highlight .k { color: #008000; font-weight: bold } /* Keyword */ .highlight .o { color: #666666 } /* Operator */ .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight .gd { color: #A00000 } /* Generic.Deleted */ .highlight .ge { font-style: italic } /* Generic.Emph */ .highlight .gr { color: #FF0000 } /* Generic.Error */ .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight .gi { color: #00A000 } /* Generic.Inserted */ .highlight .go { color: #888888 } /* Generic.Output */ .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight .gs { font-weight: bold } /* Generic.Strong */ .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight .gt { color: #0044DD } /* Generic.Traceback */ .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight .kp { color: #008000 } /* Keyword.Pseudo */ .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight .kt { color: #B00040 } /* Keyword.Type */ .highlight .m { color: #666666 } /* Literal.Number */ .highlight .s { color: #BA2121 } /* Literal.String */ .highlight .na { color: #7D9029 } /* Name.Attribute */ .highlight .nb { color: #008000 } /* Name.Builtin */ .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight .no { color: #880000 } /* Name.Constant */ .highlight .nd { color: #AA22FF } /* Name.Decorator */ .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight .nf { color: #0000FF } /* Name.Function */ .highlight .nl { color: #A0A000 } /* Name.Label */ .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight .nv { color: #19177C } /* Name.Variable */ .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight .w { color: #bbbbbb } /* Text.Whitespace */ .highlight .mb { color: #666666 } /* Literal.Number.Bin */ .highlight .mf { color: #666666 } /* Literal.Number.Float */ .highlight .mh { color: #666666 } /* Literal.Number.Hex */ .highlight .mi { color: #666666 } /* Literal.Number.Integer */ .highlight .mo { color: #666666 } /* Literal.Number.Oct */ .highlight .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight .sc { color: #BA2121 } /* Literal.String.Char */ .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight .sx { color: #008000 } /* Literal.String.Other */ .highlight .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight .ss { color: #19177C } /* Literal.String.Symbol */ .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight .fm { color: #0000FF } /* Name.Function.Magic */ .highlight .vc { color: #19177C } /* Name.Variable.Class */ .highlight .vg { color: #19177C } /* Name.Variable.Global */ .highlight .vi { color: #19177C } /* Name.Variable.Instance */ .highlight .vm { color: #19177C } /* Name.Variable.Magic */ .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */ /* Temporary definitions which will become obsolete with Notebook release 5.0 */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-bold { font-weight: bold; } In 2000, Enron was one of the largest companies in the United States. By 2002, it had collapsed into bankruptcy due to widespread corporate fraud. In the resulting Federal investigation, a significant amount of typically confidential information entered into the public record, including tens of thousands of emails and detailed financial data for top executives. Here, I build a supervised learning algorithm to identify fraudulent employees using Enron dataset. Understanding the Dataset and Question Summarize for us the goal of this project and how machine learning is useful in trying to accomplish it. As part of your answer, give some background on the dataset and how it can be used to answer the project question. Were there any outliers in the data when you got it, and how did you handle those? Introduction The Enron fraud is the largest case of corporate fraud in American history. Founded in 1985, Enron Corporation went bankrupt by end of 2001 due to widespread corporate fraud and corruption. Before its fall, Fortune magazine had named Enron \"America's most innovative company\" for six consecutive years. So what happened? Who were the culprits? In this project, I will play detective and build a classification algorithm to predict a person of interest identifier (POI) based on email and financial features in the combined dataset. A POI is anyone who has been indicted, settled without admitting the guilt and testified in exchange for immunity. We will check our predicted POI against actual POI in the dataset to evaluate our prediction. In [1]: import numpy as np import pandas as pd import sys import pickle sys . path . append ( \"../tools/\" ) from feature_format import featureFormat , targetFeatureSplit from tester_plus import dump_classifier_and_data /Users/arjanhada/anaconda3/envs/py2/lib/python2.7/site-packages/sklearn/cross_validation.py:44: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model_selection module into which all the refactored classes and functions are moved. Also note that the interface of the new CV iterators are different from that of this module. This module will be removed in 0.20. \"This module will be removed in 0.20.\", DeprecationWarning) In [2]: ### Load the dictionary containing the dataset with open ( \"final_project_dataset.pkl\" , \"r\" ) as data_file : data_dict = pickle . load ( data_file ) In [3]: enron_data = pd . DataFrame . from_dict ( data_dict , orient = 'index' ) Data Exploration Lets print few lines from the dataset. In [4]: enron_data . head () Out[4]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } salary to_messages deferral_payments total_payments exercised_stock_options bonus restricted_stock shared_receipt_with_poi restricted_stock_deferred total_stock_value ... loan_advances from_messages other from_this_person_to_poi poi director_fees deferred_income long_term_incentive email_address from_poi_to_this_person ALLEN PHILLIP K 201955 2902 2869717 4484442 1729541 4175000 126027 1407 -126027 1729541 ... NaN 2195 152 65 False NaN -3081055 304805 phillip.allen@enron.com 47 BADUM JAMES P NaN NaN 178980 182466 257817 NaN NaN NaN NaN 257817 ... NaN NaN NaN NaN False NaN NaN NaN NaN NaN BANNANTINE JAMES M 477 566 NaN 916197 4046157 NaN 1757552 465 -560222 5243487 ... NaN 29 864523 0 False NaN -5104 NaN james.bannantine@enron.com 39 BAXTER JOHN C 267102 NaN 1295738 5634343 6680544 1200000 3942714 NaN NaN 10623258 ... NaN NaN 2660303 NaN False NaN -1386055 1586055 NaN NaN BAY FRANKLIN R 239671 NaN 260455 827696 NaN 400000 145796 NaN -82782 63014 ... NaN NaN 69 NaN False NaN -201641 NaN frank.bay@enron.com NaN 5 rows × 21 columns In [5]: print \"There are a total of {} people in the dataset.\" . format ( len ( enron_data . index )) print \"Out of which {} are POI and {} Non-POI.\" . format ( enron_data [ 'poi' ] . value_counts ()[ True ], enron_data [ 'poi' ] . value_counts ()[ False ]) print \"Total number of email plus financial features are {}. 'poi' column is our label.\" \\ . format ( len ( enron_data . columns ) - 1 ) There are a total of 146 people in the dataset. Out of which 18 are POI and 128 Non-POI. Total number of email plus financial features are 20. 'poi' column is our label. Enron dataset is really messy and has a lot of missing values (NaN). All the features have missing values. Some features have more than 50% of their values missing, as we can see from the frequency of NaN from the table below. NaNs are coerced to 0 for training our algorithm later. In [6]: enron_data . describe () . transpose () Out[6]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } count unique top freq salary 146 95 NaN 51 to_messages 146 87 NaN 60 deferral_payments 146 40 NaN 107 total_payments 146 126 NaN 21 exercised_stock_options 146 102 NaN 44 bonus 146 42 NaN 64 restricted_stock 146 98 NaN 36 shared_receipt_with_poi 146 84 NaN 60 restricted_stock_deferred 146 19 NaN 128 total_stock_value 146 125 NaN 20 expenses 146 95 NaN 51 loan_advances 146 5 NaN 142 from_messages 146 65 NaN 60 other 146 93 NaN 53 from_this_person_to_poi 146 42 NaN 60 poi 146 2 False 128 director_fees 146 18 NaN 129 deferred_income 146 45 NaN 97 long_term_incentive 146 53 NaN 80 email_address 146 112 NaN 35 from_poi_to_this_person 146 58 NaN 60 In [7]: enron_data . replace ( to_replace = 'NaN' , value = 0.0 , inplace = True ) Outlier investigation Visualization is one of the most powerful tools for finding outliers. Upon plotting salary against bonus, there is an outlier that pops out immediately - \"TOTAL\" (move the cursor and examine the points in scatterplot). The spreadsheet added up all the data points for us and we need to take that point out. Upon closer examination, I found one more entry which is not the name of a real person \"THE TRAVEL AGENCY IN THE PARK\". The entry is dropped from the dataset. The entries which have all the features as 'NaN' are also dropped from the dataset. In [8]: # Import plotly and and set your credentials from plotly import tools #tools.set_credentials_file(username='*******', api_key='*********') In [9]: import plotly.plotly as py import plotly.graph_objs as go # Make scatterplot before outlier removal trace0 = go . Scatter ( x = enron_data . salary , y = enron_data . bonus , text = enron_data . index , mode = 'markers' ) # Remove Outlier enron_data . drop ([ 'TOTAL' ], axis = 0 , inplace = True ) # Make scatterplot after outlier removal trace1 = go . Scatter ( x = enron_data . salary , y = enron_data . bonus , text = enron_data . index , mode = 'markers' ) # Layout the plots together side by side fig = tools . make_subplots ( rows = 1 , cols = 2 , subplot_titles = ( 'Before outlier removal' , 'After outlier removal' )) fig . append_trace ( trace0 , 1 , 1 ) fig . append_trace ( trace1 , 1 , 2 ) fig [ 'layout' ][ 'xaxis1' ] . update ( title = 'salary' ) fig [ 'layout' ][ 'xaxis2' ] . update ( title = 'salary' ) fig [ 'layout' ][ 'yaxis1' ] . update ( title = 'bonus' ) fig [ 'layout' ][ 'yaxis2' ] . update ( title = 'bonus' ) py . iplot ( fig ) This is the format of your plot grid: [ (1,1) x1,y1 ] [ (1,2) x2,y2 ] Out[9]: In [10]: enron_data . drop ([ 'THE TRAVEL AGENCY IN THE PARK' ], axis = 0 , inplace = True ) Optimize Feature Selection/Engineering What features did you end up using in your POI identifier, and what selection process did you use to pick them? Did you have to do any scaling? Why or why not? As part of the assignment, you should attempt to engineer your own feature that does not come ready-made in the dataset -- explain what feature you tried to make, and the rationale behind it. In your feature selection step, if you used an algorithm like a decision tree, please also give the feature importances of the features that you use, and if you used an automated feature selection function like SelectKBest, please report the feature scores and reasons for your choice of parameter values. Feature engineering Feature engineering involves using human intuition to hypothesize what feature might contain pattern that can be exploited using machine learning, coding up the new feature, visualizing and repeating the same process again. Our hypothesis here - \"POI's sent email to each other at a rate higher than for Non-POI's.\" I coded up two new features fraction of emails this person gets from poi (fraction_from_poi) and fraction of emails this person send to poi (fraction_to_poi). number of emails from this person to POI/total number of message from this person $$fraction\\_from\\_poi =\\frac{number\\ of\\ emails\\ from\\ POI\\ to\\ this\\ person}{total\\ number\\ of\\ message\\ to\\ this\\ person} = \\frac{from\\_poi\\_to\\_this\\_person}{to\\_messages}$$$$fraction\\_to\\_poi = \\frac{number\\ of\\ emails\\ from\\ this\\ person\\ to\\ POI}{total\\ number\\ of\\ message\\ from\\ this\\ person} = \\frac{from\\_this\\_person\\_to\\_poi}{from\\_messages}$$ When I visualize these new features, we can see that these new features provide discriminating power between POI and Non-POI. There is a good amount of feature space in the lower part of plot (on right) below 0.2 where there are no POIs. In [11]: #Create new feature(s) enron_data [ \"fraction_from_poi\" ] = enron_data [ \"from_poi_to_this_person\" ] . \\ divide ( enron_data [ \"to_messages\" ], fill_value = 0 ) enron_data [ \"fraction_to_poi\" ] = enron_data [ \"from_this_person_to_poi\" ] . \\ divide ( enron_data [ \"from_messages\" ], fill_value = 0 ) In [12]: enron_data [ \"fraction_from_poi\" ] = enron_data [ \"fraction_from_poi\" ] . fillna ( 0.0 ) enron_data [ \"fraction_to_poi\" ] = enron_data [ \"fraction_to_poi\" ] . fillna ( 0.0 ) In [13]: from bokeh.plotting import figure , show from bokeh.io import output_notebook from bokeh.layouts import row from bokeh.models import ColumnDataSource output_notebook () colormap = { False : 'blue' , True : 'red' } colors = [ colormap [ x ] for x in enron_data [ 'poi' ]] labelmap = { False : 'Non-POI' , True : 'POI' } labels = [ labelmap [ x ] for x in enron_data [ 'poi' ]] source = ColumnDataSource ( dict ( x1 = enron_data [ \"from_poi_to_this_person\" ], y1 = enron_data [ \"from_this_person_to_poi\" ], x2 = enron_data [ \"fraction_from_poi\" ], y2 = enron_data [ \"fraction_to_poi\" ], color = colors , label = labels )) # Before feature engineering s1 = figure ( plot_width = 450 , plot_height = 400 ) s1 . xaxis . axis_label = 'no. of emails from POI to this person' s1 . yaxis . axis_label = 'no. of emails from this person to POI' s1 . circle ( 'x1' , 'y1' , size = 10 , alpha = 0.5 , color = 'color' , legend = 'label' , source = source ) # After feature engineering s2 = figure ( plot_width = 450 , plot_height = 400 ) s2 . xaxis . axis_label = 'fraction of emails this person gets from POI' s2 . yaxis . axis_label = 'fraction of emails this person sends to POI' s2 . circle ( 'x2' , 'y2' , size = 10 , alpha = 0.5 , color = 'color' , legend = 'label' , source = source ) show ( row ( s1 , s2 )) Loading BokehJS ... var element = $('#1f0ca88a-a670-4296-9358-43cbf5154065'); (function(global) { function now() { return new Date(); } var force = true; if (typeof (window._bokeh_onload_callbacks) === \"undefined\" || force === true) { window._bokeh_onload_callbacks = []; window._bokeh_is_loading = undefined; } if (typeof (window._bokeh_timeout) === \"undefined\" || force === true) { window._bokeh_timeout = Date.now() + 5000; window._bokeh_failed_load = false; } var NB_LOAD_WARNING = {'data': {'text/html': \"<div style='background-color: #fdd'>\\n\"+ \"<p>\\n\"+ \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+ \"may be due to a slow or bad network connection. Possible fixes:\\n\"+ \"</p>\\n\"+ \"<ul>\\n\"+ \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+ \"<li>use INLINE resources instead, as so:</li>\\n\"+ \"</ul>\\n\"+ \"<code>\\n\"+ \"from bokeh.resources import INLINE\\n\"+ \"output_notebook(resources=INLINE)\\n\"+ \"</code>\\n\"+ \"</div>\"}}; function display_loaded() { if (window.Bokeh !== undefined) { var el = document.getElementById(\"c62d888c-75b4-4792-aa2b-88df37dbd870\"); el.textContent = \"BokehJS \" + Bokeh.version + \" successfully loaded.\"; } else if (Date.now() < window._bokeh_timeout) { setTimeout(display_loaded, 100) } } function run_callbacks() { try { window._bokeh_onload_callbacks.forEach(function(callback) { callback() }); } finally { delete window._bokeh_onload_callbacks } console.info(\"Bokeh: all callbacks have finished\"); } function load_libs(js_urls, callback) { window._bokeh_onload_callbacks.push(callback); if (window._bokeh_is_loading > 0) { console.log(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now()); return null; } if (js_urls == null || js_urls.length === 0) { run_callbacks(); return null; } console.log(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now()); window._bokeh_is_loading = js_urls.length; for (var i = 0; i < js_urls.length; i++) { var url = js_urls[i]; var s = document.createElement('script'); s.src = url; s.async = false; s.onreadystatechange = s.onload = function() { window._bokeh_is_loading--; if (window._bokeh_is_loading === 0) { console.log(\"Bokeh: all BokehJS libraries loaded\"); run_callbacks() } }; s.onerror = function() { console.warn(\"failed to load library \" + url); }; console.log(\"Bokeh: injecting script tag for BokehJS library: \", url); document.getElementsByTagName(\"head\")[0].appendChild(s); } };var element = document.getElementById(\"c62d888c-75b4-4792-aa2b-88df37dbd870\"); if (element == null) { console.log(\"Bokeh: ERROR: autoload.js configured with elementid 'c62d888c-75b4-4792-aa2b-88df37dbd870' but no matching script tag was found. \") return false; } var js_urls = [\"https://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.js\", \"https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.6.min.js\"]; var inline_js = [ function(Bokeh) { Bokeh.set_log_level(\"info\"); }, function(Bokeh) { }, function(Bokeh) { document.getElementById(\"c62d888c-75b4-4792-aa2b-88df37dbd870\").textContent = \"BokehJS is loading...\"; }, function(Bokeh) { console.log(\"Bokeh: injecting CSS: https://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.css\"); Bokeh.embed.inject_css(\"https://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.css\"); console.log(\"Bokeh: injecting CSS: https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.6.min.css\"); Bokeh.embed.inject_css(\"https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.6.min.css\"); } ]; function run_inline_js() { if ((window.Bokeh !== undefined) || (force === true)) { for (var i = 0; i < inline_js.length; i++) { inline_js[i](window.Bokeh); }if (force === true) { display_loaded(); }} else if (Date.now() < window._bokeh_timeout) { setTimeout(run_inline_js, 100); } else if (!window._bokeh_failed_load) { console.log(\"Bokeh: BokehJS failed to load within specified timeout.\"); window._bokeh_failed_load = true; } else if (force !== true) { var cell = $(document.getElementById(\"c62d888c-75b4-4792-aa2b-88df37dbd870\")).parents('.cell').data().cell; cell.output_area.append_execute_result(NB_LOAD_WARNING) } } if (window._bokeh_is_loading === 0) { console.log(\"Bokeh: BokehJS loaded, going straight to plotting\"); run_inline_js(); } else { load_libs(js_urls, function() { console.log(\"Bokeh: BokehJS plotting callback run at\", now()); run_inline_js(); }); } }(this)); (function(global) { function now() { return new Date(); } var force = false; if (typeof (window._bokeh_onload_callbacks) === \"undefined\" || force === true) { window._bokeh_onload_callbacks = []; window._bokeh_is_loading = undefined; } if (typeof (window._bokeh_timeout) === \"undefined\" || force === true) { window._bokeh_timeout = Date.now() + 0; window._bokeh_failed_load = false; } var NB_LOAD_WARNING = {'data': {'text/html': \"<div style='background-color: #fdd'>\\n\"+ \"<p>\\n\"+ \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+ \"may be due to a slow or bad network connection. Possible fixes:\\n\"+ \"</p>\\n\"+ \"<ul>\\n\"+ \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+ \"<li>use INLINE resources instead, as so:</li>\\n\"+ \"</ul>\\n\"+ \"<code>\\n\"+ \"from bokeh.resources import INLINE\\n\"+ \"output_notebook(resources=INLINE)\\n\"+ \"</code>\\n\"+ \"</div>\"}}; function display_loaded() { if (window.Bokeh !== undefined) { var el = document.getElementById(\"c52c0df8-e360-41aa-b8bf-060e3473d2db\"); el.textContent = \"BokehJS \" + Bokeh.version + \" successfully loaded.\"; } else if (Date.now() < window._bokeh_timeout) { setTimeout(display_loaded, 100) } } function run_callbacks() { try { window._bokeh_onload_callbacks.forEach(function(callback) { callback() }); } finally { delete window._bokeh_onload_callbacks } console.info(\"Bokeh: all callbacks have finished\"); } function load_libs(js_urls, callback) { window._bokeh_onload_callbacks.push(callback); if (window._bokeh_is_loading > 0) { console.log(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now()); return null; } if (js_urls == null || js_urls.length === 0) { run_callbacks(); return null; } console.log(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now()); window._bokeh_is_loading = js_urls.length; for (var i = 0; i < js_urls.length; i++) { var url = js_urls[i]; var s = document.createElement('script'); s.src = url; s.async = false; s.onreadystatechange = s.onload = function() { window._bokeh_is_loading--; if (window._bokeh_is_loading === 0) { console.log(\"Bokeh: all BokehJS libraries loaded\"); run_callbacks() } }; s.onerror = function() { console.warn(\"failed to load library \" + url); }; console.log(\"Bokeh: injecting script tag for BokehJS library: \", url); document.getElementsByTagName(\"head\")[0].appendChild(s); } };var element = document.getElementById(\"c52c0df8-e360-41aa-b8bf-060e3473d2db\"); if (element == null) { console.log(\"Bokeh: ERROR: autoload.js configured with elementid 'c52c0df8-e360-41aa-b8bf-060e3473d2db' but no matching script tag was found. \") return false; } var js_urls = []; var inline_js = [ function(Bokeh) { (function() { var fn = function() { var docs_json = {\"127802df-8918-4e52-84f6-ff9b9c2049a9\":{\"roots\":{\"references\":[{\"attributes\":{\"data_source\":{\"id\":\"24830875-f8af-4e67-9dc4-9fe6663bb2eb\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"79ddcb69-3df8-40e7-b851-8370719ac4d7\",\"type\":\"Circle\"},\"hover_glyph\":null,\"muted_glyph\":null,\"nonselection_glyph\":{\"id\":\"a21ed8ca-a363-4ab9-a79b-ef71b378b5e7\",\"type\":\"Circle\"},\"selection_glyph\":null},\"id\":\"ed3d6590-b5d2-4be6-8016-6508cc0de71c\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"active_drag\":\"auto\",\"active_inspect\":\"auto\",\"active_scroll\":\"auto\",\"active_tap\":\"auto\",\"tools\":[{\"id\":\"bd8a61f5-033e-42fa-b68c-7d0e8eceac60\",\"type\":\"PanTool\"},{\"id\":\"16e04f8d-a286-4a57-8f78-aa388ca8d7e8\",\"type\":\"WheelZoomTool\"},{\"id\":\"1f8cdd2e-0fda-420a-b0cf-f3d206a294b4\",\"type\":\"BoxZoomTool\"},{\"id\":\"afade5df-a542-4001-9407-e5ddfcac12b3\",\"type\":\"SaveTool\"},{\"id\":\"8b2d22d9-755e-4dfa-9d44-a737a5d758a1\",\"type\":\"ResetTool\"},{\"id\":\"1ed9abd2-207c-41c9-a2eb-c94248b736ad\",\"type\":\"HelpTool\"}]},\"id\":\"8d39f375-d034-442c-8938-33c25af08a4e\",\"type\":\"Toolbar\"},{\"attributes\":{\"dimension\":1,\"plot\":{\"id\":\"3a6c2e92-493e-48b2-9b37-8ae01ac8c3ee\",\"subtype\":\"Figure\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"39c22b92-f2c0-4e3d-a5ba-07742f3458cc\",\"type\":\"BasicTicker\"}},\"id\":\"4f93427c-671c-4483-a36d-689bc95bf816\",\"type\":\"Grid\"},{\"attributes\":{},\"id\":\"39c22b92-f2c0-4e3d-a5ba-07742f3458cc\",\"type\":\"BasicTicker\"},{\"attributes\":{\"axis_label\":\"fraction of emails this person sends to POI\",\"formatter\":{\"id\":\"2848e762-14db-4632-ab34-689e233b683b\",\"type\":\"BasicTickFormatter\"},\"plot\":{\"id\":\"3a6c2e92-493e-48b2-9b37-8ae01ac8c3ee\",\"subtype\":\"Figure\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"39c22b92-f2c0-4e3d-a5ba-07742f3458cc\",\"type\":\"BasicTicker\"}},\"id\":\"0114f13f-d13c-49d1-9a30-b0723a2e72ee\",\"type\":\"LinearAxis\"},{\"attributes\":{\"plot\":null,\"text\":\"\"},\"id\":\"7448328a-9f22-4a93-a57f-92239ade82ec\",\"type\":\"Title\"},{\"attributes\":{},\"id\":\"fcf544ab-5dfa-4771-9199-b18c261c6da1\",\"type\":\"BasicTicker\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"x2\",\"y1\",\"x1\",\"color\",\"y2\",\"label\"],\"data\":{\"color\":[\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"red\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"red\",\"blue\",\"blue\",\"blue\",\"blue\",\"red\",\"blue\",\"red\",\"blue\",\"blue\",\"blue\",\"red\",\"blue\",\"blue\",\"blue\",\"blue\",\"red\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"red\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"red\",\"blue\",\"blue\",\"blue\",\"blue\",\"red\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"red\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"red\",\"red\",\"blue\",\"red\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"red\",\"red\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"red\",\"blue\",\"blue\",\"red\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"red\",\"blue\"],\"label\":[\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"Non-POI\",\"POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"POI\",\"Non-POI\",\"POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"Non-POI\",\"POI\",\"Non-POI\"],\"x1\":{\"__ndarray__\":\"AAAAAACAR0AAAAAAAAAAAAAAAAAAgENAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYkAAAAAAAIBsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQQAAAAAAAAAAAAAAAAAAAN0AAAAAAAAA5QAAAAAAAAAAAAAAAAACAYUAAAAAAAAAqQAAAAAAAAAAAAAAAAAAAAAAAAAAAAIBjQAAAAAAA4GhAAAAAAAAAPUAAAAAAAABNQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG5AAAAAAAAAJEAAAAAAAAAAAAAAAAAAAAAAAAAAAADAXEAAAAAAAIBQQAAAAAAAAFBAAAAAAAAAAAAAAAAAABBzQAAAAAAAAAAAAAAAAAAAJEAAAAAAAIBnQAAAAAAAAAAAAAAAAACAWkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARUAAAAAAAAAAAAAAAAAAAPA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAQG5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAACRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIBmQAAAAAAAAEBAAAAAAAAAEEAAAAAAAAAwQAAAAAAAgEFAAAAAAAAAAAAAAAAAAABEQAAAAAAAAAAAAAAAAAAARkAAAAAAAIBBQAAAAAAAACRAAAAAAAAAPEAAAAAAAAA5QAAAAAAAAAAAAAAAAACAREAAAAAAAIBhQAAAAAAAAAAAAAAAAABgb0AAAAAAAIBKQAAAAAAAAAAAAAAAAACAgEAAAAAAAMBeQAAAAAAAwFBAAAAAAAAAAAAAAAAAAAAkQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBAAAAAAAAAOUAAAAAAAABKQAAAAAAAAFdAAAAAAAAAS0AAAAAAAABNQAAAAAAAAAAAAAAAAAAAQ0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAChAAAAAAAAAJkAAAAAAAAAAAAAAAAAAADRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEAAAAAAAIBOQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgGlAAAAAAAAAAAAAAAAAAABFQAAAAAAAgEFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgFdAAAAAAACAUkAAAAAAAAA4QAAAAAAAACpAAAAAAACAQ0AAAAAAAAA8QAAAAAAAAFZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgEJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACRAAAAAAAAAKEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMUAAAAAAAAAAAAAAAAAAADZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQGdAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"dtype\":\"float64\",\"shape\":[144]},\"x2\":{\"__ndarray__\":\"H/an2JyVkD8AAAAAAAAAAN3kOUC7o7E/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQSukv3QolD/fTq65hDedPwAAAAAAAAAAAAAAAAAAAADiUny6l2OFPwAAAAAAAAAAxkVmks9PjT9bv1Kg1q+EPwAAAAAAAAAAQnFFhCBKsz9LE/hQo+qBPwAAAAAAAAAAAAAAAAAAAADWE2Ub7aumP5cbPNXim7M/uHzLt3zLtz98Ezx5IGSfPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHcYFHVyecE/CIZki2jOij8AAAAAAAAAAAAAAAAAAAAAVcKdVMKdxD9d7+TqwtmVP00W2iZxDJ4/AAAAAAAAAADoPnYdklu+PwAAAAAAAAAAF1100UUXrT/Mr27K1NHLPwAAAAAAAAAAf0jg7YcEvj8AAAAAAAAAAAAAAAAAAAAAGYiBGIiBmD8AAAAAAAAAABIYgREYgVE/AAAAAAAAAAAAAAAAAAAAAI/3w/+o6rI/AAAAAAAAAAAAAAAAAAAAADyfHjdjf6g/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHthHU0R/rj8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABcj0Ou//ymP5+YjUZgW58/TeQV++aXfD8QBEEQBEGgP+OYIiosD4s/AAAAAAAAAAAIH3zwwQefPwAAAAAAAAAAnxjJYzoskz8NNaXQauyoPwAAAAAAALQ/55xzzjnnrD805ow5Y864PwAAAAAAAAAAiaa1xeY5gj8uwmMTFXuGPwAAAAAAAAAAdWQV6rbynj9OfQkcatyWPwAAAAAAAAAA3ODIQOmesj/0LVFF63mdP2+K13TUT5g/AAAAAAAAAAAWOoMVOoOFPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM58NamRh3U/FcMct1fdkT+E6PFdOIieP3rNkKWXTJw//XmVxRntrj+CSAdPMziZPwAAAAAAAAAAX3XCbeobqD8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeWlpaWlrY/f9y6vAOOdD8AAAAAAAAAAMIU+awbTJE/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoOhoSMHtfz/H2o07UDqpPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIxrLufNQL8/AAAAAAAAAABLODFC5sKnP4IS3mjq/Jo/AAAAAAAAAAAAAAAAAAAAAGZb+mpG4p0/pTiIbxgCdD/Wh8b60Fh/P+py+4MMla0/+IN0NYBJsD+cbiWaO/6BP750njFD2Jg/AAAAAAAAAAAAAAAAAAAAAI9TYESLoIw/AAAAAAAAAAAAAAAAAAAAAGQhC1nIQpY/0LrBFPmsuz8AAAAAAAAAAAAAAAAAAAAALPSAkoDxmT8AAAAAAAAAAClcj8L1KKw/AAAAAAAAAAAAAAAAAAAAAGRE6LnPpJ8/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"dtype\":\"float64\",\"shape\":[144]},\"y1\":{\"__ndarray__\":\"AAAAAABAUEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgeEAAAAAAAABbQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPA/AAAAAAAAIEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAALkAAAAAAAADwPwAAAAAAAAAAAAAAAAAAAAAAAAAAAMBRQAAAAAAAADlAAAAAAAAAHEAAAAAAAAAoQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACZAAAAAAAAAAAAAAAAAAAAQQAAAAAAAAAAAAAAAAAAAEEAAAAAAAAiDQAAAAAAAADRAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAAAAAAAAAACEAAAAAAAAAmQAAAAAAAAAAAAAAAAAAACEAAAAAAAAAAAAAAAAAAAAAAAAAAAACAQkAAAAAAAAAAAAAAAAAAACBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADtAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIBOQAAAAAAAADVAAAAAAAAAHEAAAAAAAAAAAAAAAAAAAENAAAAAAAAAAAAAAAAAAADwPwAAAAAAAAAAAAAAAAAALkAAAAAAAAAUQAAAAAAAADFAAAAAAAAAFEAAAAAAAAAzQAAAAAAAAAAAAAAAAABgZUAAAAAAADB4QAAAAAAAAAAAAAAAAABAaEAAAAAAAAAuQAAAAAAAAAAAAAAAAACweUAAAAAAAAAwQAAAAAAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAQGhAAAAAAAAA8D8AAAAAAAA6QAAAAAAAAAAAAAAAAAAA8D8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIQAAAAAAAAPA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAgEhAAAAAAAAAAAAAAAAAAAAQQAAAAAAAAEhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwFRAAAAAAABAUEAAAAAAAAAYQAAAAAAAACxAAAAAAAAAMkAAAAAAAAA3QAAAAAAAAD5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAACpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"dtype\":\"float64\",\"shape\":[144]},\"y2\":{\"__ndarray__\":\"qRnMbs5Snj8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAXZLbZcDAtj8zKBUm3o/MPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJZ7GmG5p6E/mpmZmZmZyT+SJEmSJEnCPwAAAAAAAAAAchzHcRzH4T/6GJyPwfmYPwAAAAAAAAAAAAAAAAAAAACDaSZK20KxP47jOI7jOMY/3t3d3d3d3T/Wh8b60FjPPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJqZmZmZmdE/AAAAAAAAAAAIH3zwwQe/PwAAAAAAAAAA0LrBFPmsqz9mmWWWWWbJP4lHiqm+h5Y/AAAAAAAAAAAcx3Ecx3HMPwAAAAAAAAAA27Zt27Ztyz8AAAAAAADgPwAAAAAAAAAAAAAAAAAA0D8AAAAAAAAAAAAAAAAAAAAAk18s+cWS3z8AAAAAAAAAAAAAAAAAAOA/AAAAAAAAAAAAAAAAAAAAAJIkSZIkSdI/AAAAAAAAAAAAAAAAAAAAAKOLLrroouM/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA2D8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwVIx4NhegPwAAAAAAAOU/Q3kN5TWU1z8AAAAAAAAAAMcoy/5gVqI/AAAAAAAAAABoL6G9hPaiPwAAAAAAAAAAWyJwSkihjD/T0tLS0tLCPwAAAAAAAPA/eQ3lNZTX0D9u27Zt27bVPwAAAAAAAAAAujrZQ8lfiD/EQN7MyVCtPwAAAAAAAAAA2ktoL6G9vD8uGYJ1tHnPPwAAAAAAAAAAX8XP/utZxD8cx3Ecx3HcPxzHcRzHccw/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkNEwARkNgz8AAAAAAAAAADhidnLBHLI/FDuxEzuxsz9VVVVVVVXhPwAAAAAAAAAAlnsaYbmnoT8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF2zBFmzBpj8AAAAAAAAAAGIndmIndtI/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQusEU+azLPwAAAAAAALA/AAAAAAAAAAAAAAAAAAAAAJxNYZxNYcw/AAAAAAAAAAAcx3Ecx3HMP7sStStRu+I/AAAAAAAAAAAAAAAAAAAAALOx00+cs58/s9LoERVkqz+XlpaWlpamP5dv+ZZv+dY/CtejcD0K5z8AAAAAAADQP3Icx3Ecx9E/AAAAAAAAAAAAAAAAAAAAAFFeQ3kN5dU/AAAAAAAAAAAAAAAAAAAAAGwor6G8huI/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAN7d3d3d3c0/AAAAAAAAAAAAAAAAAAAAACchir/IGaY/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"dtype\":\"float64\",\"shape\":[144]}}},\"id\":\"24830875-f8af-4e67-9dc4-9fe6663bb2eb\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"bottom_units\":\"screen\",\"fill_alpha\":{\"value\":0.5},\"fill_color\":{\"value\":\"lightgrey\"},\"left_units\":\"screen\",\"level\":\"overlay\",\"line_alpha\":{\"value\":1.0},\"line_color\":{\"value\":\"black\"},\"line_dash\":[4,4],\"line_width\":{\"value\":2},\"plot\":null,\"render_mode\":\"css\",\"right_units\":\"screen\",\"top_units\":\"screen\"},\"id\":\"c8238680-b992-41a4-95a0-6b7ba36bfa69\",\"type\":\"BoxAnnotation\"},{\"attributes\":{},\"id\":\"fb0ed18c-02a3-4e3a-a5e1-17a1c04ded1b\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{\"axis_label\":\"fraction of emails this person gets from POI\",\"formatter\":{\"id\":\"fb0ed18c-02a3-4e3a-a5e1-17a1c04ded1b\",\"type\":\"BasicTickFormatter\"},\"plot\":{\"id\":\"3a6c2e92-493e-48b2-9b37-8ae01ac8c3ee\",\"subtype\":\"Figure\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"da025c33-af8a-45fb-807d-7f8736f81d09\",\"type\":\"BasicTicker\"}},\"id\":\"6bc85a24-3377-42cd-91af-74ca0ce6eb98\",\"type\":\"LinearAxis\"},{\"attributes\":{\"plot\":{\"id\":\"3a6c2e92-493e-48b2-9b37-8ae01ac8c3ee\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"fcaccdbd-cb71-4c9e-94ff-3faf32b53b6d\",\"type\":\"PanTool\"},{\"attributes\":{\"overlay\":{\"id\":\"c8238680-b992-41a4-95a0-6b7ba36bfa69\",\"type\":\"BoxAnnotation\"},\"plot\":{\"id\":\"3a6c2e92-493e-48b2-9b37-8ae01ac8c3ee\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"99fde8f9-2b1f-4024-a193-d5b4e8b65c7c\",\"type\":\"BoxZoomTool\"},{\"attributes\":{\"plot\":{\"id\":\"52a25e03-5cb0-4ad1-8b82-995a1fe56eef\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"8b2d22d9-755e-4dfa-9d44-a737a5d758a1\",\"type\":\"ResetTool\"},{\"attributes\":{\"items\":[{\"id\":\"de465836-31e1-477a-95e6-c94ecec375dd\",\"type\":\"LegendItem\"}],\"plot\":{\"id\":\"52a25e03-5cb0-4ad1-8b82-995a1fe56eef\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"685278d6-1e81-42b1-8b6f-121680c7f21a\",\"type\":\"Legend\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.5},\"fill_color\":{\"field\":\"color\"},\"line_alpha\":{\"value\":0.5},\"line_color\":{\"field\":\"color\"},\"size\":{\"units\":\"screen\",\"value\":10},\"x\":{\"field\":\"x2\"},\"y\":{\"field\":\"y2\"}},\"id\":\"79ddcb69-3df8-40e7-b851-8370719ac4d7\",\"type\":\"Circle\"},{\"attributes\":{},\"id\":\"afccf3d5-41d3-486c-bc8d-1d3542464698\",\"type\":\"ToolEvents\"},{\"attributes\":{},\"id\":\"f51b2d46-b314-4253-876f-46bbbfd371c0\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.5},\"fill_color\":{\"field\":\"color\"},\"line_alpha\":{\"value\":0.5},\"line_color\":{\"field\":\"color\"},\"size\":{\"units\":\"screen\",\"value\":10},\"x\":{\"field\":\"x1\"},\"y\":{\"field\":\"y1\"}},\"id\":\"c17b756a-2fe8-4bac-905c-4b7b27f6492a\",\"type\":\"Circle\"},{\"attributes\":{\"plot\":{\"id\":\"3a6c2e92-493e-48b2-9b37-8ae01ac8c3ee\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"9e192d53-b1f2-43b7-a22d-00bfa97e77cc\",\"type\":\"HelpTool\"},{\"attributes\":{\"active_drag\":\"auto\",\"active_inspect\":\"auto\",\"active_scroll\":\"auto\",\"active_tap\":\"auto\",\"tools\":[{\"id\":\"fcaccdbd-cb71-4c9e-94ff-3faf32b53b6d\",\"type\":\"PanTool\"},{\"id\":\"4294ab5f-a002-455a-8a4c-fd51daf3c98c\",\"type\":\"WheelZoomTool\"},{\"id\":\"99fde8f9-2b1f-4024-a193-d5b4e8b65c7c\",\"type\":\"BoxZoomTool\"},{\"id\":\"222a420b-56f4-4893-86b7-53d0ced2a013\",\"type\":\"SaveTool\"},{\"id\":\"dc88120f-5a90-4d7a-80d9-8c5c32191339\",\"type\":\"ResetTool\"},{\"id\":\"9e192d53-b1f2-43b7-a22d-00bfa97e77cc\",\"type\":\"HelpTool\"}]},\"id\":\"64297413-f737-4d1b-9d68-3cf0ab631488\",\"type\":\"Toolbar\"},{\"attributes\":{\"plot\":null,\"text\":\"\"},\"id\":\"ffb282a1-c100-4e61-a89f-10316dad2df9\",\"type\":\"Title\"},{\"attributes\":{\"plot\":{\"id\":\"3a6c2e92-493e-48b2-9b37-8ae01ac8c3ee\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"4294ab5f-a002-455a-8a4c-fd51daf3c98c\",\"type\":\"WheelZoomTool\"},{\"attributes\":{},\"id\":\"1a18b73f-b69b-4d7f-a55c-4a94f55d20b2\",\"type\":\"ToolEvents\"},{\"attributes\":{\"axis_label\":\"no. of emails from this person to POI\",\"formatter\":{\"id\":\"f51b2d46-b314-4253-876f-46bbbfd371c0\",\"type\":\"BasicTickFormatter\"},\"plot\":{\"id\":\"52a25e03-5cb0-4ad1-8b82-995a1fe56eef\",\"subtype\":\"Figure\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"fcf544ab-5dfa-4771-9199-b18c261c6da1\",\"type\":\"BasicTicker\"}},\"id\":\"da3e075d-dbbf-42f8-a42d-d2cebe4b2df3\",\"type\":\"LinearAxis\"},{\"attributes\":{\"below\":[{\"id\":\"090b2a98-4a7d-4ecb-93eb-a029b48e0fa0\",\"type\":\"LinearAxis\"}],\"left\":[{\"id\":\"da3e075d-dbbf-42f8-a42d-d2cebe4b2df3\",\"type\":\"LinearAxis\"}],\"plot_height\":400,\"plot_width\":450,\"renderers\":[{\"id\":\"090b2a98-4a7d-4ecb-93eb-a029b48e0fa0\",\"type\":\"LinearAxis\"},{\"id\":\"5d05cf41-04d9-49c4-9aa3-dfaeebbbfc1f\",\"type\":\"Grid\"},{\"id\":\"da3e075d-dbbf-42f8-a42d-d2cebe4b2df3\",\"type\":\"LinearAxis\"},{\"id\":\"9f94c0f2-979e-4839-98e1-f08eabdfe21a\",\"type\":\"Grid\"},{\"id\":\"a34c2a91-da92-46f5-94a9-15c3adc9183e\",\"type\":\"BoxAnnotation\"},{\"id\":\"685278d6-1e81-42b1-8b6f-121680c7f21a\",\"type\":\"Legend\"},{\"id\":\"9007bd36-6b69-4e4b-9b1f-0171a5667203\",\"type\":\"GlyphRenderer\"}],\"title\":{\"id\":\"7448328a-9f22-4a93-a57f-92239ade82ec\",\"type\":\"Title\"},\"tool_events\":{\"id\":\"1a18b73f-b69b-4d7f-a55c-4a94f55d20b2\",\"type\":\"ToolEvents\"},\"toolbar\":{\"id\":\"8d39f375-d034-442c-8938-33c25af08a4e\",\"type\":\"Toolbar\"},\"x_range\":{\"id\":\"d271de14-9bd9-4082-867e-69368ee266e2\",\"type\":\"DataRange1d\"},\"x_scale\":{\"id\":\"20475263-fda5-4792-aaef-8f59700eed3c\",\"type\":\"LinearScale\"},\"y_range\":{\"id\":\"aa380f2e-a3fb-46b3-81d9-cfd273f0d406\",\"type\":\"DataRange1d\"},\"y_scale\":{\"id\":\"22fd3b73-f038-4c9e-b18b-39e3a6014fab\",\"type\":\"LinearScale\"}},\"id\":\"52a25e03-5cb0-4ad1-8b82-995a1fe56eef\",\"subtype\":\"Figure\",\"type\":\"Plot\"},{\"attributes\":{\"plot\":{\"id\":\"52a25e03-5cb0-4ad1-8b82-995a1fe56eef\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"1ed9abd2-207c-41c9-a2eb-c94248b736ad\",\"type\":\"HelpTool\"},{\"attributes\":{},\"id\":\"20475263-fda5-4792-aaef-8f59700eed3c\",\"type\":\"LinearScale\"},{\"attributes\":{\"children\":[{\"id\":\"52a25e03-5cb0-4ad1-8b82-995a1fe56eef\",\"subtype\":\"Figure\",\"type\":\"Plot\"},{\"id\":\"3a6c2e92-493e-48b2-9b37-8ae01ac8c3ee\",\"subtype\":\"Figure\",\"type\":\"Plot\"}]},\"id\":\"e2683ec1-cbf8-4675-8c31-51c595472fbf\",\"type\":\"Row\"},{\"attributes\":{\"overlay\":{\"id\":\"a34c2a91-da92-46f5-94a9-15c3adc9183e\",\"type\":\"BoxAnnotation\"},\"plot\":{\"id\":\"52a25e03-5cb0-4ad1-8b82-995a1fe56eef\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"1f8cdd2e-0fda-420a-b0cf-f3d206a294b4\",\"type\":\"BoxZoomTool\"},{\"attributes\":{\"items\":[{\"id\":\"34203478-6789-4226-834d-a879ea79284c\",\"type\":\"LegendItem\"}],\"plot\":{\"id\":\"3a6c2e92-493e-48b2-9b37-8ae01ac8c3ee\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"1f4abc2b-d47e-4096-9531-c737d00641cb\",\"type\":\"Legend\"},{\"attributes\":{\"label\":{\"field\":\"label\"},\"renderers\":[{\"id\":\"9007bd36-6b69-4e4b-9b1f-0171a5667203\",\"type\":\"GlyphRenderer\"}]},\"id\":\"de465836-31e1-477a-95e6-c94ecec375dd\",\"type\":\"LegendItem\"},{\"attributes\":{},\"id\":\"4d57ce2a-a94f-4456-b3cd-f99e1f0cdb91\",\"type\":\"LinearScale\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.1},\"fill_color\":{\"value\":\"#1f77b4\"},\"line_alpha\":{\"value\":0.1},\"line_color\":{\"value\":\"#1f77b4\"},\"size\":{\"units\":\"screen\",\"value\":10},\"x\":{\"field\":\"x1\"},\"y\":{\"field\":\"y1\"}},\"id\":\"81fcc1fe-d137-4cd6-9187-437d989fc662\",\"type\":\"Circle\"},{\"attributes\":{\"below\":[{\"id\":\"6bc85a24-3377-42cd-91af-74ca0ce6eb98\",\"type\":\"LinearAxis\"}],\"left\":[{\"id\":\"0114f13f-d13c-49d1-9a30-b0723a2e72ee\",\"type\":\"LinearAxis\"}],\"plot_height\":400,\"plot_width\":450,\"renderers\":[{\"id\":\"6bc85a24-3377-42cd-91af-74ca0ce6eb98\",\"type\":\"LinearAxis\"},{\"id\":\"f45af758-45bc-4254-8ae7-66431a4f7d55\",\"type\":\"Grid\"},{\"id\":\"0114f13f-d13c-49d1-9a30-b0723a2e72ee\",\"type\":\"LinearAxis\"},{\"id\":\"4f93427c-671c-4483-a36d-689bc95bf816\",\"type\":\"Grid\"},{\"id\":\"c8238680-b992-41a4-95a0-6b7ba36bfa69\",\"type\":\"BoxAnnotation\"},{\"id\":\"1f4abc2b-d47e-4096-9531-c737d00641cb\",\"type\":\"Legend\"},{\"id\":\"ed3d6590-b5d2-4be6-8016-6508cc0de71c\",\"type\":\"GlyphRenderer\"}],\"title\":{\"id\":\"ffb282a1-c100-4e61-a89f-10316dad2df9\",\"type\":\"Title\"},\"tool_events\":{\"id\":\"afccf3d5-41d3-486c-bc8d-1d3542464698\",\"type\":\"ToolEvents\"},\"toolbar\":{\"id\":\"64297413-f737-4d1b-9d68-3cf0ab631488\",\"type\":\"Toolbar\"},\"x_range\":{\"id\":\"4beb8765-750d-47e5-97ba-450f0e265a58\",\"type\":\"DataRange1d\"},\"x_scale\":{\"id\":\"4d57ce2a-a94f-4456-b3cd-f99e1f0cdb91\",\"type\":\"LinearScale\"},\"y_range\":{\"id\":\"cce62636-078a-4adc-825b-20a3278e1b25\",\"type\":\"DataRange1d\"},\"y_scale\":{\"id\":\"a77817db-7848-4bb1-9e10-1c7f4521da41\",\"type\":\"LinearScale\"}},\"id\":\"3a6c2e92-493e-48b2-9b37-8ae01ac8c3ee\",\"subtype\":\"Figure\",\"type\":\"Plot\"},{\"attributes\":{\"bottom_units\":\"screen\",\"fill_alpha\":{\"value\":0.5},\"fill_color\":{\"value\":\"lightgrey\"},\"left_units\":\"screen\",\"level\":\"overlay\",\"line_alpha\":{\"value\":1.0},\"line_color\":{\"value\":\"black\"},\"line_dash\":[4,4],\"line_width\":{\"value\":2},\"plot\":null,\"render_mode\":\"css\",\"right_units\":\"screen\",\"top_units\":\"screen\"},\"id\":\"a34c2a91-da92-46f5-94a9-15c3adc9183e\",\"type\":\"BoxAnnotation\"},{\"attributes\":{},\"id\":\"2848e762-14db-4632-ab34-689e233b683b\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{},\"id\":\"1c906be0-ddc3-416c-a32b-58305d59fe36\",\"type\":\"BasicTicker\"},{\"attributes\":{\"plot\":{\"id\":\"3a6c2e92-493e-48b2-9b37-8ae01ac8c3ee\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"dc88120f-5a90-4d7a-80d9-8c5c32191339\",\"type\":\"ResetTool\"},{\"attributes\":{\"label\":{\"field\":\"label\"},\"renderers\":[{\"id\":\"ed3d6590-b5d2-4be6-8016-6508cc0de71c\",\"type\":\"GlyphRenderer\"}]},\"id\":\"34203478-6789-4226-834d-a879ea79284c\",\"type\":\"LegendItem\"},{\"attributes\":{\"dimension\":1,\"plot\":{\"id\":\"52a25e03-5cb0-4ad1-8b82-995a1fe56eef\",\"subtype\":\"Figure\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"fcf544ab-5dfa-4771-9199-b18c261c6da1\",\"type\":\"BasicTicker\"}},\"id\":\"9f94c0f2-979e-4839-98e1-f08eabdfe21a\",\"type\":\"Grid\"},{\"attributes\":{\"plot\":{\"id\":\"52a25e03-5cb0-4ad1-8b82-995a1fe56eef\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"16e04f8d-a286-4a57-8f78-aa388ca8d7e8\",\"type\":\"WheelZoomTool\"},{\"attributes\":{},\"id\":\"22fd3b73-f038-4c9e-b18b-39e3a6014fab\",\"type\":\"LinearScale\"},{\"attributes\":{},\"id\":\"da025c33-af8a-45fb-807d-7f8736f81d09\",\"type\":\"BasicTicker\"},{\"attributes\":{},\"id\":\"a77817db-7848-4bb1-9e10-1c7f4521da41\",\"type\":\"LinearScale\"},{\"attributes\":{\"plot\":{\"id\":\"3a6c2e92-493e-48b2-9b37-8ae01ac8c3ee\",\"subtype\":\"Figure\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"da025c33-af8a-45fb-807d-7f8736f81d09\",\"type\":\"BasicTicker\"}},\"id\":\"f45af758-45bc-4254-8ae7-66431a4f7d55\",\"type\":\"Grid\"},{\"attributes\":{},\"id\":\"5cbd2796-2002-4d2b-9204-0aa273ee681b\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.1},\"fill_color\":{\"value\":\"#1f77b4\"},\"line_alpha\":{\"value\":0.1},\"line_color\":{\"value\":\"#1f77b4\"},\"size\":{\"units\":\"screen\",\"value\":10},\"x\":{\"field\":\"x2\"},\"y\":{\"field\":\"y2\"}},\"id\":\"a21ed8ca-a363-4ab9-a79b-ef71b378b5e7\",\"type\":\"Circle\"},{\"attributes\":{\"data_source\":{\"id\":\"24830875-f8af-4e67-9dc4-9fe6663bb2eb\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"c17b756a-2fe8-4bac-905c-4b7b27f6492a\",\"type\":\"Circle\"},\"hover_glyph\":null,\"muted_glyph\":null,\"nonselection_glyph\":{\"id\":\"81fcc1fe-d137-4cd6-9187-437d989fc662\",\"type\":\"Circle\"},\"selection_glyph\":null},\"id\":\"9007bd36-6b69-4e4b-9b1f-0171a5667203\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"plot\":{\"id\":\"52a25e03-5cb0-4ad1-8b82-995a1fe56eef\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"bd8a61f5-033e-42fa-b68c-7d0e8eceac60\",\"type\":\"PanTool\"},{\"attributes\":{\"callback\":null},\"id\":\"4beb8765-750d-47e5-97ba-450f0e265a58\",\"type\":\"DataRange1d\"},{\"attributes\":{\"callback\":null},\"id\":\"cce62636-078a-4adc-825b-20a3278e1b25\",\"type\":\"DataRange1d\"},{\"attributes\":{\"plot\":{\"id\":\"3a6c2e92-493e-48b2-9b37-8ae01ac8c3ee\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"222a420b-56f4-4893-86b7-53d0ced2a013\",\"type\":\"SaveTool\"},{\"attributes\":{\"plot\":{\"id\":\"52a25e03-5cb0-4ad1-8b82-995a1fe56eef\",\"subtype\":\"Figure\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"1c906be0-ddc3-416c-a32b-58305d59fe36\",\"type\":\"BasicTicker\"}},\"id\":\"5d05cf41-04d9-49c4-9aa3-dfaeebbbfc1f\",\"type\":\"Grid\"},{\"attributes\":{\"plot\":{\"id\":\"52a25e03-5cb0-4ad1-8b82-995a1fe56eef\",\"subtype\":\"Figure\",\"type\":\"Plot\"}},\"id\":\"afade5df-a542-4001-9407-e5ddfcac12b3\",\"type\":\"SaveTool\"},{\"attributes\":{\"axis_label\":\"no. of emails from POI to this person\",\"formatter\":{\"id\":\"5cbd2796-2002-4d2b-9204-0aa273ee681b\",\"type\":\"BasicTickFormatter\"},\"plot\":{\"id\":\"52a25e03-5cb0-4ad1-8b82-995a1fe56eef\",\"subtype\":\"Figure\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"1c906be0-ddc3-416c-a32b-58305d59fe36\",\"type\":\"BasicTicker\"}},\"id\":\"090b2a98-4a7d-4ecb-93eb-a029b48e0fa0\",\"type\":\"LinearAxis\"},{\"attributes\":{\"callback\":null},\"id\":\"aa380f2e-a3fb-46b3-81d9-cfd273f0d406\",\"type\":\"DataRange1d\"},{\"attributes\":{\"callback\":null},\"id\":\"d271de14-9bd9-4082-867e-69368ee266e2\",\"type\":\"DataRange1d\"}],\"root_ids\":[\"e2683ec1-cbf8-4675-8c31-51c595472fbf\"]},\"title\":\"Bokeh Application\",\"version\":\"0.12.6\"}}; var render_items = [{\"docid\":\"127802df-8918-4e52-84f6-ff9b9c2049a9\",\"elementid\":\"c52c0df8-e360-41aa-b8bf-060e3473d2db\",\"modelid\":\"e2683ec1-cbf8-4675-8c31-51c595472fbf\"}]; Bokeh.embed.embed_items(docs_json, render_items); }; if (document.readyState != \"loading\") fn(); else document.addEventListener(\"DOMContentLoaded\", fn); })(); }, function(Bokeh) { } ]; function run_inline_js() { if ((window.Bokeh !== undefined) || (force === true)) { for (var i = 0; i < inline_js.length; i++) { inline_js[i](window.Bokeh); }if (force === true) { display_loaded(); }} else if (Date.now() < window._bokeh_timeout) { setTimeout(run_inline_js, 100); } else if (!window._bokeh_failed_load) { console.log(\"Bokeh: BokehJS failed to load within specified timeout.\"); window._bokeh_failed_load = true; } else if (force !== true) { var cell = $(document.getElementById(\"c52c0df8-e360-41aa-b8bf-060e3473d2db\")).parents('.cell').data().cell; cell.output_area.append_execute_result(NB_LOAD_WARNING) } } if (window._bokeh_is_loading === 0) { console.log(\"Bokeh: BokehJS loaded, going straight to plotting\"); run_inline_js(); } else { load_libs(js_urls, function() { console.log(\"Bokeh: BokehJS plotting callback run at\", now()); run_inline_js(); }); } }(this)); Feature Scaling I have used decision tree as my final algorithm. Algorithms like decision tree and linear regression don't require feature scaling, whereas Support Vector Machines (SVM) and k-means clustering does. SVM and k-means clustering calculate Euclidean distance between points. If one of the features has a large range, the distance will be governed by this particular feature. These classifiers are affine transformation variant . In case of linear regression , there is a coefficient with each feature. If a feature has large ranges that do not effect the label, regression algorithm will make the corresponding coefficients small. Even in case of tree based algorithms , we don't have to worry about one dimension, when we are doing something with the other. These classifers are affine transformation invariant . Feature Selection In [14]: # Store to my_dataset for easy export below. # create a dictionary from the dataframe my_dataset = enron_data . to_dict ( 'index' ) Features $\\neq$ Information. We want to have the minimum number of features than capture trends and patterns in our data. We want to get rid of features that don't give us any information. Machine learning algorithm is just going to be as good as the features we put into it. It is critical that the methodology deployed for feature selection must be scientific and exhaustive without room for intuition. First I manually removed features which had more than 50% of the values missing (NaN), then I performed SelectKBest on remaining features and selected eight features with scores greater than 2. In [15]: from sklearn.feature_selection import SelectKBest , f_classif features_list = [ \"poi\" , \"bonus\" , \"exercised_stock_options\" , \"expenses\" , \"other\" , \"restricted_stock\" , \"salary\" , \"shared_receipt_with_poi\" , \"total_payments\" , \"total_stock_value\" , \"fraction_to_poi\" , \"fraction_from_poi\" ] data = featureFormat ( my_dataset , features_list , sort_keys = True ) labels , features = targetFeatureSplit ( data ) # Perform feature selection selector = SelectKBest ( f_classif , k = 5 ) selector . fit ( features , labels ) # Get the raw p-values for each feature, and transform from p-values into scores scores = - np . log10 ( selector . pvalues_ ) # Bokeh Barplots from bkcharts import Bar , show data = { 'scores' : scores , 'features' : features_list [ 1 :]} bar = Bar ( data , label = 'features' , values = 'scores' , title = \"Select K Best\" , legend = None , plot_width = 450 , plot_height = 450 ) show ( bar ) (function(global) { function now() { return new Date(); } var force = false; if (typeof (window._bokeh_onload_callbacks) === \"undefined\" || force === true) { window._bokeh_onload_callbacks = []; window._bokeh_is_loading = undefined; } if (typeof (window._bokeh_timeout) === \"undefined\" || force === true) { window._bokeh_timeout = Date.now() + 0; window._bokeh_failed_load = false; } var NB_LOAD_WARNING = {'data': {'text/html': \"<div style='background-color: #fdd'>\\n\"+ \"<p>\\n\"+ \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+ \"may be due to a slow or bad network connection. Possible fixes:\\n\"+ \"</p>\\n\"+ \"<ul>\\n\"+ \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+ \"<li>use INLINE resources instead, as so:</li>\\n\"+ \"</ul>\\n\"+ \"<code>\\n\"+ \"from bokeh.resources import INLINE\\n\"+ \"output_notebook(resources=INLINE)\\n\"+ \"</code>\\n\"+ \"</div>\"}}; function display_loaded() { if (window.Bokeh !== undefined) { var el = document.getElementById(\"7df42b6b-1575-4251-afd0-607e47e97678\"); el.textContent = \"BokehJS \" + Bokeh.version + \" successfully loaded.\"; } else if (Date.now() < window._bokeh_timeout) { setTimeout(display_loaded, 100) } } function run_callbacks() { try { window._bokeh_onload_callbacks.forEach(function(callback) { callback() }); } finally { delete window._bokeh_onload_callbacks } console.info(\"Bokeh: all callbacks have finished\"); } function load_libs(js_urls, callback) { window._bokeh_onload_callbacks.push(callback); if (window._bokeh_is_loading > 0) { console.log(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now()); return null; } if (js_urls == null || js_urls.length === 0) { run_callbacks(); return null; } console.log(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now()); window._bokeh_is_loading = js_urls.length; for (var i = 0; i < js_urls.length; i++) { var url = js_urls[i]; var s = document.createElement('script'); s.src = url; s.async = false; s.onreadystatechange = s.onload = function() { window._bokeh_is_loading--; if (window._bokeh_is_loading === 0) { console.log(\"Bokeh: all BokehJS libraries loaded\"); run_callbacks() } }; s.onerror = function() { console.warn(\"failed to load library \" + url); }; console.log(\"Bokeh: injecting script tag for BokehJS library: \", url); document.getElementsByTagName(\"head\")[0].appendChild(s); } };var element = document.getElementById(\"7df42b6b-1575-4251-afd0-607e47e97678\"); if (element == null) { console.log(\"Bokeh: ERROR: autoload.js configured with elementid '7df42b6b-1575-4251-afd0-607e47e97678' but no matching script tag was found. \") return false; } var js_urls = []; var inline_js = [ function(Bokeh) { (function() { var fn = function() { var docs_json = {\"d50dd91e-73c4-48b9-a180-1f6987487404\":{\"roots\":{\"references\":[{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"4105de49-cb0a-49a5-b3fb-1a98b77f5972\",\"type\":\"Rect\"},{\"attributes\":{},\"id\":\"5990a4dd-e8eb-49ae-bec5-8a2137bc0359\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{},\"id\":\"1ae521dd-f7c9-4f72-95e7-7ab662cbdaf8\",\"type\":\"CategoricalTicker\"},{\"attributes\":{\"callback\":null,\"end\":6.0273750405400115},\"id\":\"77d7fa1d-2673-49c6-8850-0754c8d71edf\",\"type\":\"Range1d\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"fd80e043-df17-4833-992b-6f5fed7b9f14\",\"type\":\"Rect\"},{\"attributes\":{\"data_source\":{\"id\":\"8e6f394c-2b07-42f7-b202-be25a271be59\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"d9a628c2-e289-4572-9da4-5de5baf5aae4\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"1ca105b0-8127-441b-89e5-82291a737065\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"fraction_from_poi\"}],\"color\":[\"#f22c40\"],\"features\":[\"fraction_from_poi\"],\"fill_alpha\":[0.8],\"height\":[1.10173509818475],\"label\":[{\"features\":\"fraction_from_poi\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"fraction_from_poi\"],\"y\":[0.550867549092375]}},\"id\":\"8e6f394c-2b07-42f7-b202-be25a271be59\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"444de6dd-5c0f-48a2-b759-c20e4e7f22a5\",\"type\":\"Rect\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"d9a628c2-e289-4572-9da4-5de5baf5aae4\",\"type\":\"Rect\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"fraction_to_poi\"}],\"color\":[\"#f22c40\"],\"features\":[\"fraction_to_poi\"],\"fill_alpha\":[0.8],\"height\":[4.076292220311065],\"label\":[{\"features\":\"fraction_to_poi\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"fraction_to_poi\"],\"y\":[2.0381461101555325]}},\"id\":\"85368f7a-b28d-4171-bb0b-ef46aa2f149f\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"c46b7c8e-51c4-4d33-9457-b8fcae9464da\",\"type\":\"Rect\"},{\"attributes\":{\"plot\":{\"id\":\"a42ca201-6fe9-41a2-bd98-33445c734118\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"588955d9-bd9d-4c5f-8f56-e14338899dab\",\"type\":\"HelpTool\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"40c25ac1-d810-4fb2-8c19-6399f9754df8\",\"type\":\"Rect\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"245b0cd2-9b94-4a46-97ec-7f50c9fe5851\",\"type\":\"Rect\"},{\"attributes\":{\"data_source\":{\"id\":\"85368f7a-b28d-4171-bb0b-ef46aa2f149f\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"4105de49-cb0a-49a5-b3fb-1a98b77f5972\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"a4e8ee39-d0c3-47a5-928e-5dff8d965176\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"data_source\":{\"id\":\"edd46f70-c992-45c4-8e83-de7885f6e6db\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"7807eeb6-d3b6-4e22-80d0-6b980e3a97dd\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"11540e9b-2f49-403f-b70d-30937ea925ed\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"below\":[{\"id\":\"fb89e9bd-81e9-4c27-b7e0-80e911c37f83\",\"type\":\"CategoricalAxis\"}],\"css_classes\":null,\"left\":[{\"id\":\"618cd295-beef-46f6-a6e9-9579ac04715a\",\"type\":\"LinearAxis\"}],\"plot_height\":450,\"plot_width\":450,\"renderers\":[{\"id\":\"6d5cd68b-9b9c-436a-8893-be304ad0d51d\",\"type\":\"BoxAnnotation\"},{\"id\":\"cf1c4282-ef5e-49a1-888b-a26c5b52695e\",\"type\":\"GlyphRenderer\"},{\"id\":\"0a15f12a-3299-44aa-a094-8db404b2a0b8\",\"type\":\"GlyphRenderer\"},{\"id\":\"6507b169-6e84-4eb8-b24a-1867d548612b\",\"type\":\"GlyphRenderer\"},{\"id\":\"6babe7b5-07f2-493e-b823-2b6f0ffe3876\",\"type\":\"GlyphRenderer\"},{\"id\":\"11540e9b-2f49-403f-b70d-30937ea925ed\",\"type\":\"GlyphRenderer\"},{\"id\":\"6fc486a8-7c9f-4dd3-b2be-2cfd1324b9ea\",\"type\":\"GlyphRenderer\"},{\"id\":\"aa32c510-3193-49da-aeb6-394b0310c006\",\"type\":\"GlyphRenderer\"},{\"id\":\"23b55104-7353-48f2-92c0-7e7182f8f46d\",\"type\":\"GlyphRenderer\"},{\"id\":\"acd08c0a-2bfb-4e32-afad-caf9187c9001\",\"type\":\"GlyphRenderer\"},{\"id\":\"a4e8ee39-d0c3-47a5-928e-5dff8d965176\",\"type\":\"GlyphRenderer\"},{\"id\":\"1ca105b0-8127-441b-89e5-82291a737065\",\"type\":\"GlyphRenderer\"},{\"id\":\"fb89e9bd-81e9-4c27-b7e0-80e911c37f83\",\"type\":\"CategoricalAxis\"},{\"id\":\"618cd295-beef-46f6-a6e9-9579ac04715a\",\"type\":\"LinearAxis\"},{\"id\":\"6985aa67-0a08-47eb-856c-53a614921f2b\",\"type\":\"Grid\"}],\"title\":{\"id\":\"e1e20b3c-3e97-4ad7-bed7-1556dab1c1ea\",\"type\":\"Title\"},\"tool_events\":{\"id\":\"f52e8416-5268-4f59-8d3f-0b58560e02f9\",\"type\":\"ToolEvents\"},\"toolbar\":{\"id\":\"dd91336a-8acf-4e09-9303-e91e6c3902d8\",\"type\":\"Toolbar\"},\"x_range\":{\"id\":\"97bc54e7-cac6-46a0-88e8-eda1a5acd8bc\",\"type\":\"FactorRange\"},\"x_scale\":{\"id\":\"7a12749b-1df6-428d-a7e4-67b692bbd2c6\",\"type\":\"CategoricalScale\"},\"y_range\":{\"id\":\"77d7fa1d-2673-49c6-8850-0754c8d71edf\",\"type\":\"Range1d\"},\"y_scale\":{\"id\":\"569cfa94-4d72-4767-9386-7189ee8c7537\",\"type\":\"LinearScale\"}},\"id\":\"a42ca201-6fe9-41a2-bd98-33445c734118\",\"subtype\":\"Chart\",\"type\":\"Plot\"},{\"attributes\":{\"callback\":null,\"factors\":[\"bonus\",\"exercised_stock_options\",\"expenses\",\"fraction_from_poi\",\"fraction_to_poi\",\"other\",\"restricted_stock\",\"salary\",\"shared_receipt_with_poi\",\"total_payments\",\"total_stock_value\"]},\"id\":\"97bc54e7-cac6-46a0-88e8-eda1a5acd8bc\",\"type\":\"FactorRange\"},{\"attributes\":{},\"id\":\"7a12749b-1df6-428d-a7e4-67b692bbd2c6\",\"type\":\"CategoricalScale\"},{\"attributes\":{\"data_source\":{\"id\":\"cf28a220-5a63-4beb-a5bd-73acdf3723eb\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"80043643-a106-4e15-aaef-cbc234f22805\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"0a15f12a-3299-44aa-a094-8db404b2a0b8\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"plot\":{\"id\":\"a42ca201-6fe9-41a2-bd98-33445c734118\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"3bacbe03-c09a-4f3a-8bf3-4d40b42fbb7d\",\"type\":\"SaveTool\"},{\"attributes\":{},\"id\":\"0a89c26d-e124-4129-9f85-913a7add15d5\",\"type\":\"CategoricalTickFormatter\"},{\"attributes\":{\"plot\":{\"id\":\"a42ca201-6fe9-41a2-bd98-33445c734118\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"01900988-bab0-4087-a386-a99398724ecb\",\"type\":\"WheelZoomTool\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"expenses\"}],\"color\":[\"#f22c40\"],\"features\":[\"expenses\"],\"fill_alpha\":[0.8],\"height\":[1.8309666095033812],\"label\":[{\"features\":\"expenses\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"expenses\"],\"y\":[0.9154833047516906]}},\"id\":\"b386af63-43dd-4908-aa62-2347c7d66c4b\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"bc84c748-6b50-4db8-a168-3fe5c8d6a58e\",\"type\":\"Rect\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"restricted_stock\"}],\"color\":[\"#f22c40\"],\"features\":[\"restricted_stock\"],\"fill_alpha\":[0.8],\"height\":[2.543208542735528],\"label\":[{\"features\":\"restricted_stock\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"restricted_stock\"],\"y\":[1.271604271367764]}},\"id\":\"edd46f70-c992-45c4-8e83-de7885f6e6db\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"bottom_units\":\"screen\",\"fill_alpha\":{\"value\":0.5},\"fill_color\":{\"value\":\"lightgrey\"},\"left_units\":\"screen\",\"level\":\"overlay\",\"line_alpha\":{\"value\":1.0},\"line_color\":{\"value\":\"black\"},\"line_dash\":[4,4],\"line_width\":{\"value\":2},\"plot\":null,\"render_mode\":\"css\",\"right_units\":\"screen\",\"top_units\":\"screen\"},\"id\":\"6d5cd68b-9b9c-436a-8893-be304ad0d51d\",\"type\":\"BoxAnnotation\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"exercised_stock_options\"}],\"color\":[\"#f22c40\"],\"features\":[\"exercised_stock_options\"],\"fill_alpha\":[0.8],\"height\":[5.740357181466678],\"label\":[{\"features\":\"exercised_stock_options\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"exercised_stock_options\"],\"y\":[2.870178590733339]}},\"id\":\"cf28a220-5a63-4beb-a5bd-73acdf3723eb\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"overlay\":{\"id\":\"6d5cd68b-9b9c-436a-8893-be304ad0d51d\",\"type\":\"BoxAnnotation\"},\"plot\":{\"id\":\"a42ca201-6fe9-41a2-bd98-33445c734118\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"962af262-d1d4-4d48-a49d-47ee8d5913e2\",\"type\":\"BoxZoomTool\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"80043643-a106-4e15-aaef-cbc234f22805\",\"type\":\"Rect\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"bonus\"}],\"color\":[\"#f22c40\"],\"features\":[\"bonus\"],\"fill_alpha\":[0.8],\"height\":[4.958094860652936],\"label\":[{\"features\":\"bonus\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"bonus\"],\"y\":[2.479047430326468]}},\"id\":\"8bf19ab1-5fda-4b27-9aa5-66ef41bbdb14\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"data_source\":{\"id\":\"f5bd2b97-4ed7-4e98-82f3-de6f629d21ca\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"bc84c748-6b50-4db8-a168-3fe5c8d6a58e\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"23b55104-7353-48f2-92c0-7e7182f8f46d\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"axis_label\":\"Features\",\"formatter\":{\"id\":\"0a89c26d-e124-4129-9f85-913a7add15d5\",\"type\":\"CategoricalTickFormatter\"},\"major_label_orientation\":0.7853981633974483,\"plot\":{\"id\":\"a42ca201-6fe9-41a2-bd98-33445c734118\",\"subtype\":\"Chart\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"1ae521dd-f7c9-4f72-95e7-7ab662cbdaf8\",\"type\":\"CategoricalTicker\"}},\"id\":\"fb89e9bd-81e9-4c27-b7e0-80e911c37f83\",\"type\":\"CategoricalAxis\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"salary\"}],\"color\":[\"#f22c40\"],\"features\":[\"salary\"],\"fill_alpha\":[0.8],\"height\":[4.458636238488813],\"label\":[{\"features\":\"salary\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"salary\"],\"y\":[2.2293181192444065]}},\"id\":\"81014260-555c-49ca-85e7-d6936c5bcf51\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"shared_receipt_with_poi\"}],\"color\":[\"#f22c40\"],\"features\":[\"shared_receipt_with_poi\"],\"fill_alpha\":[0.8],\"height\":[2.40386464353768],\"label\":[{\"features\":\"shared_receipt_with_poi\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"shared_receipt_with_poi\"],\"y\":[1.20193232176884]}},\"id\":\"943874e7-2000-4b91-8626-d46acbb49bb6\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"total_payments\"}],\"color\":[\"#f22c40\"],\"features\":[\"total_payments\"],\"fill_alpha\":[0.8],\"height\":[2.4449870742699775],\"label\":[{\"features\":\"total_payments\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"total_payments\"],\"y\":[1.2224935371349888]}},\"id\":\"f5bd2b97-4ed7-4e98-82f3-de6f629d21ca\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"active_drag\":\"auto\",\"active_inspect\":\"auto\",\"active_scroll\":\"auto\",\"active_tap\":\"auto\",\"tools\":[{\"id\":\"e5659882-255c-4048-86c7-c9d7c01e70d1\",\"type\":\"PanTool\"},{\"id\":\"01900988-bab0-4087-a386-a99398724ecb\",\"type\":\"WheelZoomTool\"},{\"id\":\"962af262-d1d4-4d48-a49d-47ee8d5913e2\",\"type\":\"BoxZoomTool\"},{\"id\":\"3bacbe03-c09a-4f3a-8bf3-4d40b42fbb7d\",\"type\":\"SaveTool\"},{\"id\":\"cb545981-b25d-44d6-95aa-7b0a2b2973f1\",\"type\":\"ResetTool\"},{\"id\":\"588955d9-bd9d-4c5f-8f56-e14338899dab\",\"type\":\"HelpTool\"}]},\"id\":\"dd91336a-8acf-4e09-9303-e91e6c3902d8\",\"type\":\"Toolbar\"},{\"attributes\":{\"data_source\":{\"id\":\"be273377-aaf0-4a2a-8cab-0e2db7f39e99\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"444de6dd-5c0f-48a2-b759-c20e4e7f22a5\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"6babe7b5-07f2-493e-b823-2b6f0ffe3876\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"axis_label\":\"Sum( Scores )\",\"formatter\":{\"id\":\"5990a4dd-e8eb-49ae-bec5-8a2137bc0359\",\"type\":\"BasicTickFormatter\"},\"plot\":{\"id\":\"a42ca201-6fe9-41a2-bd98-33445c734118\",\"subtype\":\"Chart\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"0b28094b-cf46-49cd-a906-2977248e0ca5\",\"type\":\"BasicTicker\"}},\"id\":\"618cd295-beef-46f6-a6e9-9579ac04715a\",\"type\":\"LinearAxis\"},{\"attributes\":{\"data_source\":{\"id\":\"8bf19ab1-5fda-4b27-9aa5-66ef41bbdb14\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"40c25ac1-d810-4fb2-8c19-6399f9754df8\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"cf1c4282-ef5e-49a1-888b-a26c5b52695e\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"other\"}],\"color\":[\"#f22c40\"],\"features\":[\"other\"],\"fill_alpha\":[0.8],\"height\":[1.3707765246201635],\"label\":[{\"features\":\"other\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"other\"],\"y\":[0.6853882623100818]}},\"id\":\"be273377-aaf0-4a2a-8cab-0e2db7f39e99\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"dimension\":1,\"plot\":{\"id\":\"a42ca201-6fe9-41a2-bd98-33445c734118\",\"subtype\":\"Chart\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"0b28094b-cf46-49cd-a906-2977248e0ca5\",\"type\":\"BasicTicker\"}},\"id\":\"6985aa67-0a08-47eb-856c-53a614921f2b\",\"type\":\"Grid\"},{\"attributes\":{\"data_source\":{\"id\":\"81014260-555c-49ca-85e7-d6936c5bcf51\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"219d1da3-5195-4dc3-95fd-42eacc8e9032\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"6fc486a8-7c9f-4dd3-b2be-2cfd1324b9ea\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"219d1da3-5195-4dc3-95fd-42eacc8e9032\",\"type\":\"Rect\"},{\"attributes\":{\"data_source\":{\"id\":\"b386af63-43dd-4908-aa62-2347c7d66c4b\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"245b0cd2-9b94-4a46-97ec-7f50c9fe5851\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"6507b169-6e84-4eb8-b24a-1867d548612b\",\"type\":\"GlyphRenderer\"},{\"attributes\":{},\"id\":\"569cfa94-4d72-4767-9386-7189ee8c7537\",\"type\":\"LinearScale\"},{\"attributes\":{\"data_source\":{\"id\":\"943874e7-2000-4b91-8626-d46acbb49bb6\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"c46b7c8e-51c4-4d33-9457-b8fcae9464da\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"aa32c510-3193-49da-aeb6-394b0310c006\",\"type\":\"GlyphRenderer\"},{\"attributes\":{},\"id\":\"0b28094b-cf46-49cd-a906-2977248e0ca5\",\"type\":\"BasicTicker\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"total_stock_value\"}],\"color\":[\"#f22c40\"],\"features\":[\"total_stock_value\"],\"fill_alpha\":[0.8],\"height\":[5.61900858422821],\"label\":[{\"features\":\"total_stock_value\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"total_stock_value\"],\"y\":[2.809504292114105]}},\"id\":\"9c69c6e5-7d00-498c-81d6-55d469a750c9\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"plot\":{\"id\":\"a42ca201-6fe9-41a2-bd98-33445c734118\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"e5659882-255c-4048-86c7-c9d7c01e70d1\",\"type\":\"PanTool\"},{\"attributes\":{\"plot\":{\"id\":\"a42ca201-6fe9-41a2-bd98-33445c734118\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"cb545981-b25d-44d6-95aa-7b0a2b2973f1\",\"type\":\"ResetTool\"},{\"attributes\":{\"plot\":null,\"text\":\"Select K Best\"},\"id\":\"e1e20b3c-3e97-4ad7-bed7-1556dab1c1ea\",\"type\":\"Title\"},{\"attributes\":{\"data_source\":{\"id\":\"9c69c6e5-7d00-498c-81d6-55d469a750c9\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"fd80e043-df17-4833-992b-6f5fed7b9f14\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"acd08c0a-2bfb-4e32-afad-caf9187c9001\",\"type\":\"GlyphRenderer\"},{\"attributes\":{},\"id\":\"f52e8416-5268-4f59-8d3f-0b58560e02f9\",\"type\":\"ToolEvents\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"7807eeb6-d3b6-4e22-80d0-6b980e3a97dd\",\"type\":\"Rect\"}],\"root_ids\":[\"a42ca201-6fe9-41a2-bd98-33445c734118\"]},\"title\":\"Bokeh Application\",\"version\":\"0.12.6\"}}; var render_items = [{\"docid\":\"d50dd91e-73c4-48b9-a180-1f6987487404\",\"elementid\":\"7df42b6b-1575-4251-afd0-607e47e97678\",\"modelid\":\"a42ca201-6fe9-41a2-bd98-33445c734118\"}]; Bokeh.embed.embed_items(docs_json, render_items); }; if (document.readyState != \"loading\") fn(); else document.addEventListener(\"DOMContentLoaded\", fn); })(); }, function(Bokeh) { } ]; function run_inline_js() { if ((window.Bokeh !== undefined) || (force === true)) { for (var i = 0; i < inline_js.length; i++) { inline_js[i](window.Bokeh); }if (force === true) { display_loaded(); }} else if (Date.now() < window._bokeh_timeout) { setTimeout(run_inline_js, 100); } else if (!window._bokeh_failed_load) { console.log(\"Bokeh: BokehJS failed to load within specified timeout.\"); window._bokeh_failed_load = true; } else if (force !== true) { var cell = $(document.getElementById(\"7df42b6b-1575-4251-afd0-607e47e97678\")).parents('.cell').data().cell; cell.output_area.append_execute_result(NB_LOAD_WARNING) } } if (window._bokeh_is_loading === 0) { console.log(\"Bokeh: BokehJS loaded, going straight to plotting\"); run_inline_js(); } else { load_libs(js_urls, function() { console.log(\"Bokeh: BokehJS plotting callback run at\", now()); run_inline_js(); }); } }(this)); Finally, I used 'feature_importances' attribute of my Decision Tree classifier to select four features (bonus, exercised_stock_options, fraction_to_poi and shared_receipt_with_poi) that maximized my F1 score. Implementing my final algorithm without the newly engineered feature fraction_to_poi, dropped my F1-score by 74% (from 0.47547 to 0.12157). This also shows the effect of this feature on the final algorithm performance. In [16]: features_list = [ \"poi\" , \"bonus\" , \"exercised_stock_options\" , \"fraction_to_poi\" , \"shared_receipt_with_poi\" ] data = featureFormat ( my_dataset , features_list , sort_keys = True ) labels , features = targetFeatureSplit ( data ) In [17]: # These are feature importance I obtained from running my final classiifer and testing it with tester.py. # Check Algorithm Performance section below. feature_importances = [ 0.13442256 , 0.0433088 , 0.48651064 , 0.335758 ] from bkcharts import Bar , show data = { 'importance' : feature_importances , 'features' : features_list [ 1 :]} bar = Bar ( data , label = 'features' , values = 'importance' , title = \"Feature importances from fitted Decision Tree\" , legend = None , plot_width = 400 , plot_height = 400 ) show ( bar ) (function(global) { function now() { return new Date(); } var force = false; if (typeof (window._bokeh_onload_callbacks) === \"undefined\" || force === true) { window._bokeh_onload_callbacks = []; window._bokeh_is_loading = undefined; } if (typeof (window._bokeh_timeout) === \"undefined\" || force === true) { window._bokeh_timeout = Date.now() + 0; window._bokeh_failed_load = false; } var NB_LOAD_WARNING = {'data': {'text/html': \"<div style='background-color: #fdd'>\\n\"+ \"<p>\\n\"+ \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+ \"may be due to a slow or bad network connection. Possible fixes:\\n\"+ \"</p>\\n\"+ \"<ul>\\n\"+ \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+ \"<li>use INLINE resources instead, as so:</li>\\n\"+ \"</ul>\\n\"+ \"<code>\\n\"+ \"from bokeh.resources import INLINE\\n\"+ \"output_notebook(resources=INLINE)\\n\"+ \"</code>\\n\"+ \"</div>\"}}; function display_loaded() { if (window.Bokeh !== undefined) { var el = document.getElementById(\"f0ceef28-a8ad-4360-9c71-51b28c40ae1f\"); el.textContent = \"BokehJS \" + Bokeh.version + \" successfully loaded.\"; } else if (Date.now() < window._bokeh_timeout) { setTimeout(display_loaded, 100) } } function run_callbacks() { try { window._bokeh_onload_callbacks.forEach(function(callback) { callback() }); } finally { delete window._bokeh_onload_callbacks } console.info(\"Bokeh: all callbacks have finished\"); } function load_libs(js_urls, callback) { window._bokeh_onload_callbacks.push(callback); if (window._bokeh_is_loading > 0) { console.log(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now()); return null; } if (js_urls == null || js_urls.length === 0) { run_callbacks(); return null; } console.log(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now()); window._bokeh_is_loading = js_urls.length; for (var i = 0; i < js_urls.length; i++) { var url = js_urls[i]; var s = document.createElement('script'); s.src = url; s.async = false; s.onreadystatechange = s.onload = function() { window._bokeh_is_loading--; if (window._bokeh_is_loading === 0) { console.log(\"Bokeh: all BokehJS libraries loaded\"); run_callbacks() } }; s.onerror = function() { console.warn(\"failed to load library \" + url); }; console.log(\"Bokeh: injecting script tag for BokehJS library: \", url); document.getElementsByTagName(\"head\")[0].appendChild(s); } };var element = document.getElementById(\"f0ceef28-a8ad-4360-9c71-51b28c40ae1f\"); if (element == null) { console.log(\"Bokeh: ERROR: autoload.js configured with elementid 'f0ceef28-a8ad-4360-9c71-51b28c40ae1f' but no matching script tag was found. \") return false; } var js_urls = []; var inline_js = [ function(Bokeh) { (function() { var fn = function() { var docs_json = {\"8a87c448-c0a8-43af-a5cf-44bb86ac44f8\":{\"roots\":{\"references\":[{\"attributes\":{},\"id\":\"76746626-d524-4b10-b42d-3ccee20a8811\",\"type\":\"CategoricalScale\"},{\"attributes\":{\"callback\":null,\"end\":0.510836172},\"id\":\"cd5384a4-3b69-46a8-a8ad-833889a2dbb9\",\"type\":\"Range1d\"},{\"attributes\":{\"overlay\":{\"id\":\"6b3ad186-0675-4d9e-bc73-e1a665c9166e\",\"type\":\"BoxAnnotation\"},\"plot\":{\"id\":\"e6b7dfa2-4b0f-4a6f-8f9d-0015cda7b6c7\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"acfc23be-1be2-4ed9-92c0-54a6a4bc4417\",\"type\":\"BoxZoomTool\"},{\"attributes\":{},\"id\":\"3c08d2d9-3212-4eb2-8131-56040bdc2c4e\",\"type\":\"CategoricalTickFormatter\"},{\"attributes\":{\"plot\":null,\"text\":\"Feature importances from fitted Decision Tree\"},\"id\":\"90b57fa1-97c6-4811-9bac-652518504eb1\",\"type\":\"Title\"},{\"attributes\":{\"plot\":{\"id\":\"e6b7dfa2-4b0f-4a6f-8f9d-0015cda7b6c7\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"6eaca5a1-ed8d-4a07-b3d0-a8e48a058b26\",\"type\":\"WheelZoomTool\"},{\"attributes\":{\"bottom_units\":\"screen\",\"fill_alpha\":{\"value\":0.5},\"fill_color\":{\"value\":\"lightgrey\"},\"left_units\":\"screen\",\"level\":\"overlay\",\"line_alpha\":{\"value\":1.0},\"line_color\":{\"value\":\"black\"},\"line_dash\":[4,4],\"line_width\":{\"value\":2},\"plot\":null,\"render_mode\":\"css\",\"right_units\":\"screen\",\"top_units\":\"screen\"},\"id\":\"6b3ad186-0675-4d9e-bc73-e1a665c9166e\",\"type\":\"BoxAnnotation\"},{\"attributes\":{\"active_drag\":\"auto\",\"active_inspect\":\"auto\",\"active_scroll\":\"auto\",\"active_tap\":\"auto\",\"tools\":[{\"id\":\"8005fd1b-41ac-4b08-b04b-718737281a6f\",\"type\":\"PanTool\"},{\"id\":\"6eaca5a1-ed8d-4a07-b3d0-a8e48a058b26\",\"type\":\"WheelZoomTool\"},{\"id\":\"acfc23be-1be2-4ed9-92c0-54a6a4bc4417\",\"type\":\"BoxZoomTool\"},{\"id\":\"d290afc2-b7e7-4631-87d4-45d7562bf794\",\"type\":\"SaveTool\"},{\"id\":\"f64471fb-5d9d-4ae3-b539-7a2e35d4dc64\",\"type\":\"ResetTool\"},{\"id\":\"45d918f1-354f-4b12-ab73-6606b030d7e6\",\"type\":\"HelpTool\"}]},\"id\":\"4c3c11c7-56aa-4c59-8ef3-887b6d5b722e\",\"type\":\"Toolbar\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"fraction_to_poi\"}],\"color\":[\"#f22c40\"],\"features\":[\"fraction_to_poi\"],\"fill_alpha\":[0.8],\"height\":[0.48651064],\"label\":[{\"features\":\"fraction_to_poi\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"fraction_to_poi\"],\"y\":[0.24325532]}},\"id\":\"e3b1a3d9-bd02-40b1-8ef8-4c3e7aeba02d\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"73b1d5c0-bbad-409d-b4a5-5ac69a5ca136\",\"type\":\"Rect\"},{\"attributes\":{},\"id\":\"dfc2b8db-6094-4a6f-8305-0d79b583a06f\",\"type\":\"BasicTicker\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"exercised_stock_options\"}],\"color\":[\"#f22c40\"],\"features\":[\"exercised_stock_options\"],\"fill_alpha\":[0.8],\"height\":[0.0433088],\"label\":[{\"features\":\"exercised_stock_options\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"exercised_stock_options\"],\"y\":[0.0216544]}},\"id\":\"180061bd-f08e-4fd3-9f8f-97187cf03ce6\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"below\":[{\"id\":\"31bca2c6-77b7-4981-9834-d13ea72fe1dc\",\"type\":\"CategoricalAxis\"}],\"css_classes\":null,\"left\":[{\"id\":\"4f564e5b-8f2f-477f-88ce-c5e52169dd82\",\"type\":\"LinearAxis\"}],\"plot_height\":400,\"plot_width\":400,\"renderers\":[{\"id\":\"6b3ad186-0675-4d9e-bc73-e1a665c9166e\",\"type\":\"BoxAnnotation\"},{\"id\":\"c85570f4-2e0e-433c-b894-3756b6824168\",\"type\":\"GlyphRenderer\"},{\"id\":\"91996bb4-9756-4444-ad28-368bf991a9cb\",\"type\":\"GlyphRenderer\"},{\"id\":\"e6ab32a6-2ea8-47ee-aa17-3a4b99b23753\",\"type\":\"GlyphRenderer\"},{\"id\":\"45b05717-4fdd-487b-8e91-73e19627079a\",\"type\":\"GlyphRenderer\"},{\"id\":\"31bca2c6-77b7-4981-9834-d13ea72fe1dc\",\"type\":\"CategoricalAxis\"},{\"id\":\"4f564e5b-8f2f-477f-88ce-c5e52169dd82\",\"type\":\"LinearAxis\"},{\"id\":\"24b9170a-5d86-4a74-b22f-bc0a5e9db0bb\",\"type\":\"Grid\"}],\"title\":{\"id\":\"90b57fa1-97c6-4811-9bac-652518504eb1\",\"type\":\"Title\"},\"tool_events\":{\"id\":\"547128c1-6736-4ee7-b1d8-49868b7ffdbd\",\"type\":\"ToolEvents\"},\"toolbar\":{\"id\":\"4c3c11c7-56aa-4c59-8ef3-887b6d5b722e\",\"type\":\"Toolbar\"},\"x_range\":{\"id\":\"bfc03d53-7283-4411-a8bf-bcd25d29e574\",\"type\":\"FactorRange\"},\"x_scale\":{\"id\":\"76746626-d524-4b10-b42d-3ccee20a8811\",\"type\":\"CategoricalScale\"},\"y_range\":{\"id\":\"cd5384a4-3b69-46a8-a8ad-833889a2dbb9\",\"type\":\"Range1d\"},\"y_scale\":{\"id\":\"d28564f7-cd49-4c8b-86f7-4b4134f387e3\",\"type\":\"LinearScale\"}},\"id\":\"e6b7dfa2-4b0f-4a6f-8f9d-0015cda7b6c7\",\"subtype\":\"Chart\",\"type\":\"Plot\"},{\"attributes\":{\"dimension\":1,\"plot\":{\"id\":\"e6b7dfa2-4b0f-4a6f-8f9d-0015cda7b6c7\",\"subtype\":\"Chart\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"dfc2b8db-6094-4a6f-8305-0d79b583a06f\",\"type\":\"BasicTicker\"}},\"id\":\"24b9170a-5d86-4a74-b22f-bc0a5e9db0bb\",\"type\":\"Grid\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"shared_receipt_with_poi\"}],\"color\":[\"#f22c40\"],\"features\":[\"shared_receipt_with_poi\"],\"fill_alpha\":[0.8],\"height\":[0.335758],\"label\":[{\"features\":\"shared_receipt_with_poi\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"shared_receipt_with_poi\"],\"y\":[0.167879]}},\"id\":\"3acbde0d-461c-4085-94c3-91bd61310201\",\"type\":\"ColumnDataSource\"},{\"attributes\":{},\"id\":\"e625e880-eee3-4538-a58a-28639b33ccaa\",\"type\":\"CategoricalTicker\"},{\"attributes\":{\"callback\":null,\"factors\":[\"bonus\",\"exercised_stock_options\",\"fraction_to_poi\",\"shared_receipt_with_poi\"]},\"id\":\"bfc03d53-7283-4411-a8bf-bcd25d29e574\",\"type\":\"FactorRange\"},{\"attributes\":{\"axis_label\":\"Sum( Importance )\",\"formatter\":{\"id\":\"91bb473a-fb74-454d-8242-ac76040c8746\",\"type\":\"BasicTickFormatter\"},\"plot\":{\"id\":\"e6b7dfa2-4b0f-4a6f-8f9d-0015cda7b6c7\",\"subtype\":\"Chart\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"dfc2b8db-6094-4a6f-8305-0d79b583a06f\",\"type\":\"BasicTicker\"}},\"id\":\"4f564e5b-8f2f-477f-88ce-c5e52169dd82\",\"type\":\"LinearAxis\"},{\"attributes\":{\"axis_label\":\"Features\",\"formatter\":{\"id\":\"3c08d2d9-3212-4eb2-8131-56040bdc2c4e\",\"type\":\"CategoricalTickFormatter\"},\"major_label_orientation\":0.7853981633974483,\"plot\":{\"id\":\"e6b7dfa2-4b0f-4a6f-8f9d-0015cda7b6c7\",\"subtype\":\"Chart\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"e625e880-eee3-4538-a58a-28639b33ccaa\",\"type\":\"CategoricalTicker\"}},\"id\":\"31bca2c6-77b7-4981-9834-d13ea72fe1dc\",\"type\":\"CategoricalAxis\"},{\"attributes\":{\"data_source\":{\"id\":\"3acbde0d-461c-4085-94c3-91bd61310201\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"a3761dbf-ad43-4317-87cc-0f1b5c993c82\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"45b05717-4fdd-487b-8e91-73e19627079a\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"data_source\":{\"id\":\"e3b1a3d9-bd02-40b1-8ef8-4c3e7aeba02d\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"320462c9-46dc-4ff1-b585-1b342654046e\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"e6ab32a6-2ea8-47ee-aa17-3a4b99b23753\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"5a9dcdfa-7339-4c68-ab4f-587762c41d64\",\"type\":\"Rect\"},{\"attributes\":{},\"id\":\"547128c1-6736-4ee7-b1d8-49868b7ffdbd\",\"type\":\"ToolEvents\"},{\"attributes\":{},\"id\":\"d28564f7-cd49-4c8b-86f7-4b4134f387e3\",\"type\":\"LinearScale\"},{\"attributes\":{},\"id\":\"91bb473a-fb74-454d-8242-ac76040c8746\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{\"plot\":{\"id\":\"e6b7dfa2-4b0f-4a6f-8f9d-0015cda7b6c7\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"8005fd1b-41ac-4b08-b04b-718737281a6f\",\"type\":\"PanTool\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"line_color\",\"line_alpha\",\"color\",\"fill_alpha\",\"height\",\"width\",\"y\",\"x\",\"label\"],\"data\":{\"chart_index\":[{\"features\":\"bonus\"}],\"color\":[\"#f22c40\"],\"features\":[\"bonus\"],\"fill_alpha\":[0.8],\"height\":[0.13442256],\"label\":[{\"features\":\"bonus\"}],\"line_alpha\":[1.0],\"line_color\":[\"white\"],\"width\":[0.8],\"x\":[\"bonus\"],\"y\":[0.06721128]}},\"id\":\"c4489940-60d0-40f7-b0ba-212ed072ffe4\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"plot\":{\"id\":\"e6b7dfa2-4b0f-4a6f-8f9d-0015cda7b6c7\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"d290afc2-b7e7-4631-87d4-45d7562bf794\",\"type\":\"SaveTool\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"320462c9-46dc-4ff1-b585-1b342654046e\",\"type\":\"Rect\"},{\"attributes\":{\"plot\":{\"id\":\"e6b7dfa2-4b0f-4a6f-8f9d-0015cda7b6c7\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"f64471fb-5d9d-4ae3-b539-7a2e35d4dc64\",\"type\":\"ResetTool\"},{\"attributes\":{\"data_source\":{\"id\":\"180061bd-f08e-4fd3-9f8f-97187cf03ce6\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"73b1d5c0-bbad-409d-b4a5-5ac69a5ca136\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"91996bb4-9756-4444-ad28-368bf991a9cb\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"data_source\":{\"id\":\"c4489940-60d0-40f7-b0ba-212ed072ffe4\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"5a9dcdfa-7339-4c68-ab4f-587762c41d64\",\"type\":\"Rect\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"c85570f4-2e0e-433c-b894-3756b6824168\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"fill_alpha\":{\"field\":\"fill_alpha\"},\"fill_color\":{\"field\":\"color\"},\"height\":{\"field\":\"height\",\"units\":\"data\"},\"line_color\":{\"field\":\"line_color\"},\"width\":{\"field\":\"width\",\"units\":\"data\"},\"x\":{\"field\":\"x\"},\"y\":{\"field\":\"y\"}},\"id\":\"a3761dbf-ad43-4317-87cc-0f1b5c993c82\",\"type\":\"Rect\"},{\"attributes\":{\"plot\":{\"id\":\"e6b7dfa2-4b0f-4a6f-8f9d-0015cda7b6c7\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"45d918f1-354f-4b12-ab73-6606b030d7e6\",\"type\":\"HelpTool\"}],\"root_ids\":[\"e6b7dfa2-4b0f-4a6f-8f9d-0015cda7b6c7\"]},\"title\":\"Bokeh Application\",\"version\":\"0.12.6\"}}; var render_items = [{\"docid\":\"8a87c448-c0a8-43af-a5cf-44bb86ac44f8\",\"elementid\":\"f0ceef28-a8ad-4360-9c71-51b28c40ae1f\",\"modelid\":\"e6b7dfa2-4b0f-4a6f-8f9d-0015cda7b6c7\"}]; Bokeh.embed.embed_items(docs_json, render_items); }; if (document.readyState != \"loading\") fn(); else document.addEventListener(\"DOMContentLoaded\", fn); })(); }, function(Bokeh) { } ]; function run_inline_js() { if ((window.Bokeh !== undefined) || (force === true)) { for (var i = 0; i < inline_js.length; i++) { inline_js[i](window.Bokeh); }if (force === true) { display_loaded(); }} else if (Date.now() < window._bokeh_timeout) { setTimeout(run_inline_js, 100); } else if (!window._bokeh_failed_load) { console.log(\"Bokeh: BokehJS failed to load within specified timeout.\"); window._bokeh_failed_load = true; } else if (force !== true) { var cell = $(document.getElementById(\"f0ceef28-a8ad-4360-9c71-51b28c40ae1f\")).parents('.cell').data().cell; cell.output_area.append_execute_result(NB_LOAD_WARNING) } } if (window._bokeh_is_loading === 0) { console.log(\"Bokeh: BokehJS loaded, going straight to plotting\"); run_inline_js(); } else { load_libs(js_urls, function() { console.log(\"Bokeh: BokehJS plotting callback run at\", now()); run_inline_js(); }); } }(this)); Pick and Tune an Algorithm What algorithm did you end up using? What other one(s) did you try? How did model performance differ between algorithms? Pick an algorithm Different algorithms were attempted using the four best features:- bonus, exercised_stock_options, fraction_to_poi and shared_receipt_with_poi. In [18]: # Not restricting the maximum width in characters of a column pd . options . display . max_colwidth = 0 data = { \"Algorithms\" :[ \"DecisionTreeClassifier\" , \"RandomForestClassifier\" , \"AdaBoostClassifier\" , \"GaussianNB\" ], \"Parameters\" :[ \"criterion='entropy', max_depth =2, min_samples_split=2, min_samples_leaf=6\" , \"n_estimators=150, min_samples_split=5\" , \"n_estimators=150\" , \"Default\" ], \"Accuracy\" :[ 0.83962 , 0.85031 , 0.81823 , 0.82769 ], \"Precision\" :[ 0.47848 , 0.52246 , 0.40066 , 0.41215 ], \"Recall\" :[ 0.47250 , 0.31400 , 0.36600 , 0.28150 ], \"F1\" :[ 0.47547 , 0.39225 , 0.38255 , 0.33452 ], \"F2\" :[ 0.47368 , 0.34123 , 0.37244 , 0.30056 ]} algorithms = pd . DataFrame ( data , columns = [ \"Algorithms\" , \"Parameters\" , \"Accuracy\" , \"Precision\" , \"Recall\" , \"F1\" , \"F2\" ]) algorithms Out[18]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } Algorithms Parameters Accuracy Precision Recall F1 F2 0 DecisionTreeClassifier criterion='entropy', max_depth =2, min_samples_split=2, min_samples_leaf=6 0.83962 0.47848 0.4725 0.47547 0.47368 1 RandomForestClassifier n_estimators=150, min_samples_split=5 0.85031 0.52246 0.3140 0.39225 0.34123 2 AdaBoostClassifier n_estimators=150 0.81823 0.40066 0.3660 0.38255 0.37244 3 GaussianNB Default 0.82769 0.41215 0.2815 0.33452 0.30056 What does it mean to tune the parameters of an algorithm, and what can happen if you don't do this well? How did you tune the parameters of your particular algorithm? Hyperparameter optimization Parameter tuning for an algorithm means selecting the good and robust parameter or set of parameters for an algorithm to optimize its performance. Default parameters may not be customized very well for the particular dataset features and might result in poor performance. Scikit learn provides two methods for algorithm parameter tuning/Hyperparameter optimization- GridSearchCV and RandomizedSearchCV. I used GridSearchCV to do exhaustive search over different parameters and find the best parameters. I used the 'f1' as my \"scoring\" parameter to guide the parameter search process to minimize False positives and False negatives. In the \"cv\" parameter, I passed a cross validation object ( StratifiedShuffleSplit ) to validate my search results that best adapt to my dataset characteristics. For my final DecisionTreeClassiifer I tweaked the parameters as shown below :- # Specify parameters of the algorithm clf_params= {'criterion': ['gini', 'entropy'], 'max_depth': [None, 1, 2, 5, 10], 'min_samples_split': [2, 3, 4, 5], 'min_samples_leaf': [1, 2, 3, 4, 5, 6, 7, 8] } # Specify algorithm dt = DecisionTreeClassifier() # GridSearchCV cv = StratifiedShuffleSplit(labels, n_iter = 1000,random_state = 42) clf = GridSearchCV(dt, param_grid = clf_params,cv = cv, scoring = 'f1') clf.fit(features,labels) # pick a winner best_clf = clf.best_estimator_ print best_clf max_depth determines when the splitting of decision tree node stops. min_samples_split monitors the amount of observations in an internal node; if a certain threshold is not reached (e.g min 5 people) no further splitting can be done. Very deep trees fit to quirks in data and perform well on training data, but will perform worse on test (unseen) data. We want our model to generalize better. An example of how my F1-score varied while changing the 'max_depth' parameter of my final DecisionTreeClassifier, while keeping 'min_sample_split' constant at 5. F1-score was obtained using tester.py module. In [19]: from bkcharts import Scatter , show max_depth = [ 1 , 2 , 5 , 10 , 15 , 20 ] F1_score = [ 0.06125 , 0.21550 , 0.39598 , 0.41575 , 0.41767 , 0.42029 ] data = { 'max_depth' : max_depth , 'F1-score' : F1_score } p = Scatter ( data , x = 'max_depth' , y = 'F1-score' , title = \"DecisionTreeClassifier(max_depth = x, min_samples_split=5)\" , xlabel = \"max_depth\" , ylabel = \"F1-score\" , plot_width = 500 , plot_height = 400 ) show ( p ) (function(global) { function now() { return new Date(); } var force = false; if (typeof (window._bokeh_onload_callbacks) === \"undefined\" || force === true) { window._bokeh_onload_callbacks = []; window._bokeh_is_loading = undefined; } if (typeof (window._bokeh_timeout) === \"undefined\" || force === true) { window._bokeh_timeout = Date.now() + 0; window._bokeh_failed_load = false; } var NB_LOAD_WARNING = {'data': {'text/html': \"<div style='background-color: #fdd'>\\n\"+ \"<p>\\n\"+ \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+ \"may be due to a slow or bad network connection. Possible fixes:\\n\"+ \"</p>\\n\"+ \"<ul>\\n\"+ \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+ \"<li>use INLINE resources instead, as so:</li>\\n\"+ \"</ul>\\n\"+ \"<code>\\n\"+ \"from bokeh.resources import INLINE\\n\"+ \"output_notebook(resources=INLINE)\\n\"+ \"</code>\\n\"+ \"</div>\"}}; function display_loaded() { if (window.Bokeh !== undefined) { var el = document.getElementById(\"23d46bb2-ff88-4cb4-87d3-f2db45c6ab73\"); el.textContent = \"BokehJS \" + Bokeh.version + \" successfully loaded.\"; } else if (Date.now() < window._bokeh_timeout) { setTimeout(display_loaded, 100) } } function run_callbacks() { try { window._bokeh_onload_callbacks.forEach(function(callback) { callback() }); } finally { delete window._bokeh_onload_callbacks } console.info(\"Bokeh: all callbacks have finished\"); } function load_libs(js_urls, callback) { window._bokeh_onload_callbacks.push(callback); if (window._bokeh_is_loading > 0) { console.log(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now()); return null; } if (js_urls == null || js_urls.length === 0) { run_callbacks(); return null; } console.log(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now()); window._bokeh_is_loading = js_urls.length; for (var i = 0; i < js_urls.length; i++) { var url = js_urls[i]; var s = document.createElement('script'); s.src = url; s.async = false; s.onreadystatechange = s.onload = function() { window._bokeh_is_loading--; if (window._bokeh_is_loading === 0) { console.log(\"Bokeh: all BokehJS libraries loaded\"); run_callbacks() } }; s.onerror = function() { console.warn(\"failed to load library \" + url); }; console.log(\"Bokeh: injecting script tag for BokehJS library: \", url); document.getElementsByTagName(\"head\")[0].appendChild(s); } };var element = document.getElementById(\"23d46bb2-ff88-4cb4-87d3-f2db45c6ab73\"); if (element == null) { console.log(\"Bokeh: ERROR: autoload.js configured with elementid '23d46bb2-ff88-4cb4-87d3-f2db45c6ab73' but no matching script tag was found. \") return false; } var js_urls = []; var inline_js = [ function(Bokeh) { (function() { var fn = function() { var docs_json = {\"6541eb91-c09c-4df1-9e38-f40cac7807a9\":{\"roots\":{\"references\":[{\"attributes\":{\"data_source\":{\"id\":\"387028c7-66c9-42c7-9f01-94ecd7dd9ecc\",\"type\":\"ColumnDataSource\"},\"glyph\":{\"id\":\"b63ecf1c-a8ea-45b4-bf70-1b0e5417d5fd\",\"type\":\"Circle\"},\"hover_glyph\":null,\"muted_glyph\":null},\"id\":\"05ae91b8-812d-44fb-9839-6d37e7c7fa4f\",\"type\":\"GlyphRenderer\"},{\"attributes\":{},\"id\":\"51210e9e-8b6e-4e98-b7ce-7b7f209a50ba\",\"type\":\"BasicTicker\"},{\"attributes\":{\"location\":\"top_left\",\"plot\":{\"id\":\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"98182724-8e8c-424a-8334-4299b17e04bd\",\"type\":\"Legend\"},{\"attributes\":{},\"id\":\"e6efb2b7-5951-4bd0-a5f1-748e9335aa71\",\"type\":\"LinearScale\"},{\"attributes\":{\"plot\":{\"id\":\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\",\"subtype\":\"Chart\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"bc784e04-496e-4ed6-95fe-77f6b449bf4c\",\"type\":\"BasicTicker\"}},\"id\":\"ca337439-3892-4e96-8250-fcd87a97166b\",\"type\":\"Grid\"},{\"attributes\":{\"below\":[{\"id\":\"a93de768-f8d3-4aec-90f1-faf2cf87208b\",\"type\":\"LinearAxis\"}],\"css_classes\":null,\"left\":[{\"id\":\"f82bd2e3-2e8f-48ef-a4e2-cb3e1ebb543c\",\"type\":\"LinearAxis\"}],\"plot_height\":400,\"plot_width\":500,\"renderers\":[{\"id\":\"bf261506-e03d-44cd-a7e2-505a638a6d6f\",\"type\":\"BoxAnnotation\"},{\"id\":\"05ae91b8-812d-44fb-9839-6d37e7c7fa4f\",\"type\":\"GlyphRenderer\"},{\"id\":\"98182724-8e8c-424a-8334-4299b17e04bd\",\"type\":\"Legend\"},{\"id\":\"a93de768-f8d3-4aec-90f1-faf2cf87208b\",\"type\":\"LinearAxis\"},{\"id\":\"f82bd2e3-2e8f-48ef-a4e2-cb3e1ebb543c\",\"type\":\"LinearAxis\"},{\"id\":\"ca337439-3892-4e96-8250-fcd87a97166b\",\"type\":\"Grid\"},{\"id\":\"73fd86e5-8839-4b85-bbc6-53534a2130fe\",\"type\":\"Grid\"}],\"title\":{\"id\":\"6ca61562-c0f1-4270-9a26-b8042aa5e5eb\",\"type\":\"Title\"},\"tool_events\":{\"id\":\"d0b19c0e-fcaf-4f80-a008-de87509300f9\",\"type\":\"ToolEvents\"},\"toolbar\":{\"id\":\"637c697c-d804-4539-8487-2e2e5487215c\",\"type\":\"Toolbar\"},\"x_range\":{\"id\":\"3ecb8c66-3162-4331-b49e-1d92a749b502\",\"type\":\"Range1d\"},\"x_scale\":{\"id\":\"1c7fa68f-b830-496a-978f-009881a5376f\",\"type\":\"LinearScale\"},\"y_range\":{\"id\":\"cabca773-299a-4405-921f-590070a8171f\",\"type\":\"Range1d\"},\"y_scale\":{\"id\":\"e6efb2b7-5951-4bd0-a5f1-748e9335aa71\",\"type\":\"LinearScale\"}},\"id\":\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\",\"subtype\":\"Chart\",\"type\":\"Plot\"},{\"attributes\":{},\"id\":\"1c7fa68f-b830-496a-978f-009881a5376f\",\"type\":\"LinearScale\"},{\"attributes\":{\"active_drag\":\"auto\",\"active_inspect\":\"auto\",\"active_scroll\":\"auto\",\"active_tap\":\"auto\",\"tools\":[{\"id\":\"378d0a21-376b-441a-9691-d0a53e5a348b\",\"type\":\"PanTool\"},{\"id\":\"6a374f66-4479-4d0a-9b13-a15b97d15890\",\"type\":\"WheelZoomTool\"},{\"id\":\"91ceb27c-0714-499f-af61-db1aadbe07b3\",\"type\":\"BoxZoomTool\"},{\"id\":\"3ae3e91b-babe-4734-9ebb-4e1e9d30e928\",\"type\":\"SaveTool\"},{\"id\":\"8c33d01f-9b6c-46ba-a8d1-ed494b3a4b24\",\"type\":\"ResetTool\"},{\"id\":\"ae2efcff-1959-4216-a7a3-fa817aed8a9f\",\"type\":\"HelpTool\"}]},\"id\":\"637c697c-d804-4539-8487-2e2e5487215c\",\"type\":\"Toolbar\"},{\"attributes\":{},\"id\":\"d0b19c0e-fcaf-4f80-a008-de87509300f9\",\"type\":\"ToolEvents\"},{\"attributes\":{},\"id\":\"bc784e04-496e-4ed6-95fe-77f6b449bf4c\",\"type\":\"BasicTicker\"},{\"attributes\":{},\"id\":\"d6ca821b-4748-419f-b711-5bc7aa7ea179\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{\"callback\":null,\"column_names\":[\"x_values\",\"y_values\"],\"data\":{\"chart_index\":[null,null,null,null,null,null],\"x_values\":[1,2,5,10,15,20],\"y_values\":{\"__ndarray__\":\"XI/C9Shcrz8v3SQGgZXLP2Svd3+8V9k/z/dT46Wb2j/sTKHzGrvaP2d+NQcI5to/\",\"dtype\":\"float64\",\"shape\":[6]}}},\"id\":\"387028c7-66c9-42c7-9f01-94ecd7dd9ecc\",\"type\":\"ColumnDataSource\"},{\"attributes\":{},\"id\":\"d0fe547b-a200-407a-bd28-22dbb80d23c8\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{\"plot\":{\"id\":\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"ae2efcff-1959-4216-a7a3-fa817aed8a9f\",\"type\":\"HelpTool\"},{\"attributes\":{\"plot\":{\"id\":\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"378d0a21-376b-441a-9691-d0a53e5a348b\",\"type\":\"PanTool\"},{\"attributes\":{\"overlay\":{\"id\":\"bf261506-e03d-44cd-a7e2-505a638a6d6f\",\"type\":\"BoxAnnotation\"},\"plot\":{\"id\":\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"91ceb27c-0714-499f-af61-db1aadbe07b3\",\"type\":\"BoxZoomTool\"},{\"attributes\":{\"bottom_units\":\"screen\",\"fill_alpha\":{\"value\":0.5},\"fill_color\":{\"value\":\"lightgrey\"},\"left_units\":\"screen\",\"level\":\"overlay\",\"line_alpha\":{\"value\":1.0},\"line_color\":{\"value\":\"black\"},\"line_dash\":[4,4],\"line_width\":{\"value\":2},\"plot\":null,\"render_mode\":\"css\",\"right_units\":\"screen\",\"top_units\":\"screen\"},\"id\":\"bf261506-e03d-44cd-a7e2-505a638a6d6f\",\"type\":\"BoxAnnotation\"},{\"attributes\":{\"plot\":{\"id\":\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"8c33d01f-9b6c-46ba-a8d1-ed494b3a4b24\",\"type\":\"ResetTool\"},{\"attributes\":{\"axis_label\":\"F1-score\",\"formatter\":{\"id\":\"d0fe547b-a200-407a-bd28-22dbb80d23c8\",\"type\":\"BasicTickFormatter\"},\"plot\":{\"id\":\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\",\"subtype\":\"Chart\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"51210e9e-8b6e-4e98-b7ce-7b7f209a50ba\",\"type\":\"BasicTicker\"}},\"id\":\"f82bd2e3-2e8f-48ef-a4e2-cb3e1ebb543c\",\"type\":\"LinearAxis\"},{\"attributes\":{\"dimension\":1,\"plot\":{\"id\":\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\",\"subtype\":\"Chart\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"51210e9e-8b6e-4e98-b7ce-7b7f209a50ba\",\"type\":\"BasicTicker\"}},\"id\":\"73fd86e5-8839-4b85-bbc6-53534a2130fe\",\"type\":\"Grid\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.7},\"fill_color\":{\"value\":\"#f22c40\"},\"line_color\":{\"value\":\"#f22c40\"},\"size\":{\"units\":\"screen\",\"value\":8},\"x\":{\"field\":\"x_values\"},\"y\":{\"field\":\"y_values\"}},\"id\":\"b63ecf1c-a8ea-45b4-bf70-1b0e5417d5fd\",\"type\":\"Circle\"},{\"attributes\":{\"plot\":null,\"text\":\"DecisionTreeClassifier(max_depth = x, min_samples_split=5)\"},\"id\":\"6ca61562-c0f1-4270-9a26-b8042aa5e5eb\",\"type\":\"Title\"},{\"attributes\":{\"plot\":{\"id\":\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"6a374f66-4479-4d0a-9b13-a15b97d15890\",\"type\":\"WheelZoomTool\"},{\"attributes\":{\"plot\":{\"id\":\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\",\"subtype\":\"Chart\",\"type\":\"Plot\"}},\"id\":\"3ae3e91b-babe-4734-9ebb-4e1e9d30e928\",\"type\":\"SaveTool\"},{\"attributes\":{\"axis_label\":\"max_depth\",\"formatter\":{\"id\":\"d6ca821b-4748-419f-b711-5bc7aa7ea179\",\"type\":\"BasicTickFormatter\"},\"plot\":{\"id\":\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\",\"subtype\":\"Chart\",\"type\":\"Plot\"},\"ticker\":{\"id\":\"bc784e04-496e-4ed6-95fe-77f6b449bf4c\",\"type\":\"BasicTicker\"}},\"id\":\"a93de768-f8d3-4aec-90f1-faf2cf87208b\",\"type\":\"LinearAxis\"},{\"attributes\":{\"callback\":null,\"end\":0.456194,\"start\":0.025345999999999994},\"id\":\"cabca773-299a-4405-921f-590070a8171f\",\"type\":\"Range1d\"},{\"attributes\":{\"callback\":null,\"end\":21.9,\"start\":-0.9000000000000001},\"id\":\"3ecb8c66-3162-4331-b49e-1d92a749b502\",\"type\":\"Range1d\"}],\"root_ids\":[\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\"]},\"title\":\"Bokeh Application\",\"version\":\"0.12.6\"}}; var render_items = [{\"docid\":\"6541eb91-c09c-4df1-9e38-f40cac7807a9\",\"elementid\":\"23d46bb2-ff88-4cb4-87d3-f2db45c6ab73\",\"modelid\":\"4db88aff-fe59-4fb5-b1f4-17562c3d3357\"}]; Bokeh.embed.embed_items(docs_json, render_items); }; if (document.readyState != \"loading\") fn(); else document.addEventListener(\"DOMContentLoaded\", fn); })(); }, function(Bokeh) { } ]; function run_inline_js() { if ((window.Bokeh !== undefined) || (force === true)) { for (var i = 0; i < inline_js.length; i++) { inline_js[i](window.Bokeh); }if (force === true) { display_loaded(); }} else if (Date.now() < window._bokeh_timeout) { setTimeout(run_inline_js, 100); } else if (!window._bokeh_failed_load) { console.log(\"Bokeh: BokehJS failed to load within specified timeout.\"); window._bokeh_failed_load = true; } else if (force !== true) { var cell = $(document.getElementById(\"23d46bb2-ff88-4cb4-87d3-f2db45c6ab73\")).parents('.cell').data().cell; cell.output_area.append_execute_result(NB_LOAD_WARNING) } } if (window._bokeh_is_loading === 0) { console.log(\"Bokeh: BokehJS loaded, going straight to plotting\"); run_inline_js(); } else { load_libs(js_urls, function() { console.log(\"Bokeh: BokehJS plotting callback run at\", now()); run_inline_js(); }); } }(this)); Validate and Evaluate What is validation, and what's a classic mistake you can make if you do it wrong? How did you validate your analysis? Validation is the strategy to evaluate the performance of the model on unseen data. A classic mistake is to evaluate the performance of an algorithm on the same dataset it was trained on. It will make our algorithm perform better than it actually does. This is called overfitting . However, we will have no idea how our algorithm performs on unseen data. We want an algorithm that generalizes well to new data. We can avoid overfitting by randomly splitting our data into training and testing set. This is called crossvalidation. However, with a small dataset like ours, we run into the dilemma of maximizing the training set vs test set. So, I ended up using StratifiedShuffleSplit . StratifiedShuffleSplit will make randomly chosen training and test sets multiple times and average the results over all the tests. Data is first shuffled and then split into a pair of training and test sets. Stratification ensures training and test splits have class distribution (POI:Non-POI) that represents the overall data. Stratification is well suited in our case because of class imbalance (18 POI vs 128 Non-POI). Give at least 2 evaluation metrics and your average performance for each of them. Explain an interpretation of your metrics that says something human-understandable about your algorithm's performance. There are a number of evaluation metrics for classification challenges. In balanced classes , where all the labels are equally represented, we look at the classification accuracy of the model. $$Accuracy = \\frac{Number\\ of\\ labels\\ predicted\\ correctly}{Total\\ number\\ of\\ predicitions} = \\frac{True\\ Positives +True\\ Negatives}{Total\\ Predictions}$$ However, accuracy is not ideal for skewed classes. In our case, number of POI are small compared to non-POI (18 vs 128). We can have high accuracy by classifying many non-POI correctly and still not have a POI classiifed correctly. For imbalanced classes like we have, Precision and Recall are common measures of model performance. $$Precision = \\frac{True\\ Positive}{True\\ Positive + False\\ Positive}\\ \\ \\ \\ \\ Recall = \\frac{True\\ Positive}{True\\ Positive + False\\ Negative}$$ A good precision means that whenever a POI gets flagged in my test set, I know with a lot of confidence that it's very likely to be a real POI and not a false alarm. A low precision indicates a large number of False Positives, where non-POI gets flagged as POI. A good recall means nearly I am able to identify a POI everytime it shows up in test cases. A low recall indicates many False Negatives, where POIs don't get flagged correctly. F1 score conveys a balance between precision and recall. It is the harmonic mean of precision and recall. $$F1\\ score = \\frac{2*(precision*recall)}{precision + recall}$$ A good F1 score means both my false positives and false negatives are low, I can identify my POI's reliably and accurately. If my classifier flags a POI then the person is almost certainly a POI, and if the classifier does not flag someone, then they are almost certainly not a POI. The F2-Score is a weighted average of precision and recall: $$F2\\ score = \\frac{5*(precision*recall)}{4*precision + recall}$$ Algorithm Performance In [20]: from sklearn.tree import DecisionTreeClassifier clf = DecisionTreeClassifier ( criterion = 'entropy' , max_depth = 2 , min_samples_split = 2 , min_samples_leaf = 6 ) In [21]: dump_classifier_and_data ( clf , my_dataset , features_list ) In [22]: # Get confusion matrix (cm) from tester_plus import test_classifier cm = test_classifier ( clf , my_dataset , features_list ) # Seaborn and matplotlib library import seaborn as sns import matplotlib.pyplot as plt % matplotlib inline # View confusion matrix with a heatmap sns . heatmap ( cm , annot = True , fmt = 'd' , cmap = 'Reds' , xticklabels = [ 'no' , 'yes' ], yticklabels = [ 'no' , 'yes' ]) plt . ylabel ( 'True label' ) plt . xlabel ( 'Predicted label' ) plt . title ( 'Confusion matrix for: \\n {}' . format ( clf . __class__ . __name__ )); DecisionTreeClassifier(class_weight=None, criterion='entropy', max_depth=2, max_features=None, max_leaf_nodes=None, min_impurity_split=1e-07, min_samples_leaf=6, min_samples_split=2, min_weight_fraction_leaf=0.0, presort=False, random_state=None, splitter='best') Feature importances [ 0.13511765 0.04337189 0.48606534 0.33544513] Accuracy: 0.83915 Precision: 0.47703 Recall: 0.47250 F1: 0.47476 F2: 0.47340 Total predictions: 13000 True positives: 945 False positives: 1036 False negatives: 1055 True negatives: 9964 Reference 1) Udacity's Intro to Machine Learning 2) Enron wiki 3) scikit-learn 4) Plotly Scatterplot 5) Bokeh Scatterplot 6) Bokeh Barchart 7) Optional code visibility $(document).ready(function(){ $('div.prompt').hide(); $('div.back-to-top').hide(); $('nav#menubar').hide(); $('.breadcrumb').hide(); $('.hidden-print').hide(); }); Created with Jupyter, delivered by Fastly, rendered by Rackspace. November 26, 2016 Contact author: hadaarjan@gmail.com if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) { var mathjaxscript = document.createElement('script'); mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#'; mathjaxscript.type = 'text/javascript'; mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; mathjaxscript[(window.opera ? \"innerHTML\" : \"text\")] = \"MathJax.Hub.Config({\" + \" config: ['MMLorHTML.js'],\" + \" TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },\" + \" jax: ['input/TeX','input/MathML','output/HTML-CSS'],\" + \" extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],\" + \" displayAlign: 'center',\" + \" displayIndent: '0em',\" + \" showMathMenu: true,\" + \" tex2jax: { \" + \" inlineMath: [ ['$','$'] ], \" + \" displayMath: [ ['$$','$$'] ],\" + \" processEscapes: true,\" + \" preview: 'TeX',\" + \" }, \" + \" 'HTML-CSS': { \" + \" linebreaks: { automatic: true, width: '95% container' }, \" + \" styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }\" + \" } \" + \"}); \"; (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript); }","tags":"Data-Analyst-Nanodegree","url":"enron-fraud.html"},{"title":"OSM Data Wrangling","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI colors. */ .ansibold { font-weight: bold; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; border-left-width: 1px; padding-left: 5px; background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%); } div.cell.jupyter-soft-selected { border-left-color: #90CAF9; border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected { border-color: #ababab; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%); } @media print { div.cell.selected { border-color: transparent; } } div.cell.selected.jupyter-soft-selected { border-left-width: 0; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%); } .edit_mode div.cell.selected { border-color: #66BB6A; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%); } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ padding: 0.4em; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */ /* .CodeMirror-lines */ padding: 0; border: 0; border-radius: 0; } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html td, .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } .highlight .hll { background-color: #ffffcc } .highlight { background: #f8f8f8; } .highlight .c { color: #408080; font-style: italic } /* Comment */ .highlight .err { border: 1px solid #FF0000 } /* Error */ .highlight .k { color: #008000; font-weight: bold } /* Keyword */ .highlight .o { color: #666666 } /* Operator */ .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight .gd { color: #A00000 } /* Generic.Deleted */ .highlight .ge { font-style: italic } /* Generic.Emph */ .highlight .gr { color: #FF0000 } /* Generic.Error */ .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight .gi { color: #00A000 } /* Generic.Inserted */ .highlight .go { color: #888888 } /* Generic.Output */ .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight .gs { font-weight: bold } /* Generic.Strong */ .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight .gt { color: #0044DD } /* Generic.Traceback */ .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight .kp { color: #008000 } /* Keyword.Pseudo */ .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight .kt { color: #B00040 } /* Keyword.Type */ .highlight .m { color: #666666 } /* Literal.Number */ .highlight .s { color: #BA2121 } /* Literal.String */ .highlight .na { color: #7D9029 } /* Name.Attribute */ .highlight .nb { color: #008000 } /* Name.Builtin */ .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight .no { color: #880000 } /* Name.Constant */ .highlight .nd { color: #AA22FF } /* Name.Decorator */ .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight .nf { color: #0000FF } /* Name.Function */ .highlight .nl { color: #A0A000 } /* Name.Label */ .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight .nv { color: #19177C } /* Name.Variable */ .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight .w { color: #bbbbbb } /* Text.Whitespace */ .highlight .mb { color: #666666 } /* Literal.Number.Bin */ .highlight .mf { color: #666666 } /* Literal.Number.Float */ .highlight .mh { color: #666666 } /* Literal.Number.Hex */ .highlight .mi { color: #666666 } /* Literal.Number.Integer */ .highlight .mo { color: #666666 } /* Literal.Number.Oct */ .highlight .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight .sc { color: #BA2121 } /* Literal.String.Char */ .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight .sx { color: #008000 } /* Literal.String.Other */ .highlight .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight .ss { color: #19177C } /* Literal.String.Symbol */ .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight .fm { color: #0000FF } /* Name.Function.Magic */ .highlight .vc { color: #19177C } /* Name.Variable.Class */ .highlight .vg { color: #19177C } /* Name.Variable.Global */ .highlight .vi { color: #19177C } /* Name.Variable.Instance */ .highlight .vm { color: #19177C } /* Name.Variable.Magic */ .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */ /* Temporary definitions which will become obsolete with Notebook release 5.0 */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-bold { font-weight: bold; } Openstreetmap (OSM) is free, editable map of the world crafted entirely by croudsourcing approach. To build an intution for this wiki-like map, I would like to take an example from the recent earthquake in Nepal. In only 48 hours after the quake, over 2000 volunteers mapper responded to the crisis by quadrupling the road mileage and adding 30% more buildings. OSM is the biggest crowdsourced project ever. However, since the OSM data is human edited, it comes with it's own challenges for cleaning. For this case study, I will be exploring the OSM map of Austin, TX. I live in the outskirts of Austin. I love the plethora of outdoor activities the city of Austin has to offer. I would like to take this opportunity to contribute to OpenStreetMap.org by wrangling the data and parsing it for for SQLite database entry. In the process, I intend to discover new things about Austin. https://mapzen.com/data/metro-extracts/metro/austin_texas/ Exploring the dataset I downloaded the preselected metro area from Mapzen in XML format and call it austin_texas.osm. This link provides us an explanation of OSM XML format and different sorts of tags we are gonna see in the dataset. Here is a preview of austin_texas.osm dataset. I used iterative parsing to process the dataset and find out what tags and how many of them are there. It gives us an idea of how much data we can expect in the map. {'bounds': 1, 'member': 20203, 'nd': 6984479, 'node': 6355440, 'osm': 1, 'relation': 2358, 'tag': 2377201, 'way': 666267} In particular we will be processing nodes and ways tags and all the subtags that are nested within these tags for database entry. Nodes are point features defined by its latitude, longitude and node id. Ways are paths through a city of one kind or another like Street, Avenue, Drive, Boulevard etc. Before I process the data and add it to database, I checked the \"k\" value for each \" \" and see if there are any potential problems. {'lower': 1297519, 'lower_colon': 1067731, 'other': 11950, 'problemchars': 1} \"lower\", for tags that contain only lowercase letters and are valid, \"lower_colon\", for otherwise valid tags with a colon in their names, \"problemchars\", for tags with problematic characters, and \"other\", for other tags that do not fall into the other three categories The problemchars were later ignored during database entry. Problems Encountered in the Map After auditing the osm file for validity, accuracy, completeness, consistency and uniformity, I noticed five main problems with the data, which I will discuss in the following order: Overabbreviated Street Names (\"W 6th St\") Inconsistent postal codes (\"TX 78724\", \"78640-6137\", \"78681\") \"Incorrect\" postal codes (\"78626\\u200e\",\"Texas\", \"tx\", \"14150\") Inconsistent state name (\"tx\", \"tX\", \"Tx\", \"TX\", \"Texas\") Inconsistent phone number format Username error ('ccjjmartin_atxbuildings', 'ccjjmartin__atxbuildings') Address in second level \"k\" tags pulled from Tiger GPS data and arranged in the following format: tag k=\"tiger:cfcc\" v=\"A41\" tag k=\"tiger:county\" v=\"Bastrop, TX\" tag k=\"tiger:reviewed\" v=\"no\" tag k=\"tiger:zip_left\" v=\"78602\" tag k=\"tiger:name_base\" v=\"Tiger Woods\" tag k=\"tiger:name_type\" v=\"Dr\" tag k=\"tiger:zip_right\" v=\"78602\" Address in second level \"k\" tags pulled from gnis and arranged in the following format: tag k=\"gnis:id\" v=\"1378406\" tag k=\"gnis:Class\" v=\"Populated Place\" tag k=\"gnis:County\" v=\"Travis\" tag k=\"gnis:ST_num\" v=\"48\" tag k=\"import_uuid\" v=\"bb7269ee-502a-5391-8056-e3ce0e66489c\" tag k=\"gnis:ST_alpha\" v=\"TX\" tag k=\"gnis:County_num\" v=\"453\" Overabbreviated Street Names To correct street names, I iterated over each word in an address, correcting them to their respective mappings in update_street.py using the following function: def update(name): words = name.split() for w in range(len(words)): if words[w] in mapping: if words[w-1].lower() not in \\ ['suite', 'ste.', 'ste', 'avenue', 'ave']: # For example, don't update 'Avenue E' to 'Avenue East' words[w] = mapping[words[w]] name = \" \".join(words) return name The function takes a string with street name as an argument and returns the fixed name. The function updated all substrings in problematic address strings, for example: \"Hwy 290 W\" becomes: \"Highway 290 West\" \"W 6th St\" becomes: \"West 6th Street\" \"Barton Springs Rd\" becomes: \"Barton Springs Road\" Postal codes Postal codes didn't follow consistent format. Besides the main 5digit zipcode, there were leading characters ('TX 78724'), trailing characters ('78640-6137', '78626\\u200e'), invalid zipcodes ('Texas', 'tx') and zipcode outside Austin ('14150'). Postal codes were formatted to trim the leading and trailing characters besides 5digit zipcode using update_postcode.py. This 5­digit restriction allows for more consistent queries. import re def update_postcode(zipcode): m = re.search(r'\\d+', zipcode) #returns entire match if m: return m.group() else: return None Postal codes in the database were grouped together using the following aggregators. sqlite> SELECT tags.value, COUNT (*) as count ...> FROM (SELECT * FROM nodes_tags ...> UNION ALL SELECT * FROM ways_tags) tags ...> WHERE tags.key = 'postcode' ...> GROUP BY tags.value ...> ORDER BY count DESC; Here are the top ten results, beginning with the highest count: 78645,10882 78734,5606 78653,3542 78660,3512 78669,3189 78641,2863 78704,2488 78746,2445 78759,2092 78738,1938 Surprisingly, the zipcode with highest frequency is in Leander, TX. The inclusion of surrounding cities, however, isn't unexpected because of the inclusion of surrounding cities in osm data. Somehow, a errorneous zipcode '14150' also got into the dataset. Google search revealed that zipcode '14150' is in Tonawanda, NY. Lets dig deeper into it. sqlite> SELECT * ...> FROM nodes ...> WHERE id = (SELECT id FROM nodes_tags WHERE key = 'postcode' \\ AND value = '14150'); 2152207067,30.5604873,-97.4545532,technogeek,98830,1,15008653,2013-02-12T18:28:31Z The coordinates(latitude, longitude) for the place are actually in Taylor, TX. sqlite> SELECT * FROM nodes_tags WHERE id = 2152207067; 2152207067,name,\"Nyle Maxwell - Taylor\",regular 2152207067,shop,car,regular 2152207067,website,www.nylemaxwellcjd.com,regular 2152207067,street,\"US 79\",addr 2152207067,postcode,14150,addr It turns out the actual address is 14150 U.S. 79, Taylor, TX 76574, United States. The user misinterpreted the address for postcode. The error can easily be rectified in the database with following SQL commands. sqlite> UPDATE nodes_tags SET value = '14150 US 79' WHERE id= 2152207067 \\ AND key = 'street'; sqlite> UPDATE nodes_tags SET value = '76574' WHERE id= 2152207067 \\ AND key = 'postcode'; We can check id = 2152207067 into nodes_tags database again to see if the error has been rectified. 2152207067|name|Nyle Maxwell - Taylor|regular 2152207067|shop|car|regular 2152207067|website|www.nylemaxwellcjd.com|regular 2152207067|street|14150 US 79|addr 2152207067|postcode|76574|addr State name Running audit_state.py with the entire austin_texas.osm dataset revealed the following inconsistencies in the state name. {'78722': 1, 'tx': 694, 'tX': 1, 'Tx': 43, 'TX': 2273, 'Texas': 59} State name was standarized by setting the value to \"TX\" whenever key equals to \"state\". Phone numbers Phone number formats were inconsistent - \"512-241-1732\", \"(512) 244-2222\", \"512 258 8114\", \"(512) 528-0027\", \"+1 512 219 5008\", \"+1 (512) 469-7000\". Phonenumbers were standardized using update_phonenumber.py module. import phonenumbers def update_phonenumber(phonenumber): '''fix and standardize phone numbers using phonenumbers module''' matches = \\ [match.number for match in phonenumbers.PhoneNumberMatcher(phonenumber, \"US\")] updated_matches = \\ [phonenumbers.format_number(match,phonenumbers.PhoneNumberFormat.NATIONAL) for match in matches] phonenumber = ';'.join(updated_matches) return phonenumber Phonenumbers were converted, where necessary, to national format: (512) XXX-XXXX. user Once the data was imported to SQL, some basic querying also revealed username inconsistency. The user \"Chris Martin's\" had two username - 'ccjjmartin_atxbuildings' and 'ccjjmartin_atxbuildings'. I updated the second username to first one in both the nodes and ways table. sqlite> UPDATE nodes SET user = 'ccjjmartin_atxbuildings' ...> WHERE user = 'ccjjmartin__atxbuildings'; sqlite> UPDATE ways SET user = 'ccjjmartin_atxbuildings' ...> WHERE user = 'ccjjmartin__atxbuildings'; Data Overview After auditing the data, it was prepped for insertion into SQLite database. To do so, I parsed the data in OSM XML format to tabular format(.csv files) using data_sql.py function. These csv files were then imported to SQLite database osm.db3 as tables following schema.md. This section contains basic statistics about the dataset, the SQL queries used to gather them, and some additional ideas about the data in context. File sizes austin_texas.osm 1.3 GB sample.osm 27 MB osm.db3 3758 MB nodes.csv 570 MB nodes_tags.csv 11 MB ways.csv 46 MB ways_nodes.csv 161 MB ways_tags.csv 65 MB Number of nodes sqlite> SELECT COUNT(*) FROM Nodes; 635440 Number of ways sqlite> SELECT COUNT(*) FROM Ways; 666267 Number of unique users sqlite> SELECT COUNT(DISTINCT(e.uid)) FROM (SELECT uid FROM nodes UNION ALL SELECT uid FROM ways) e; 1133 Total number of users sqlite> SELECT COUNT(*) as num ...> FROM (SELECT user FROM nodes UNION ALL SELECT user FROM ways) 7021707 Top 10 contributing users sqlite> SELECT e.user, COUNT(*) as num ...> FROM (SELECT user FROM nodes UNION ALL SELECT user FROM ways) e ...> GROUP BY e.user ...> ORDER BY num DESC ...> LIMIT 10; patisilva_atxbuildings,2743718 ccjjmartin_atxbuildings,2240585 wilsaj_atxbuildings,359155 jseppi_atxbuildings,300983 woodpeck_fixbot,223478 kkt_atxbuildings,157853 lyzidiamond_atxbuildings,156384 richlv,50216 johnclary_axtbuildings,48232 varmint,35374 The word \"bot\" appears in some usernames. These accounts are used for automated edits in contrast to manual edits for other accounts. Number of users appearing only once (having 1 post) sqlite> SELECT COUNT(*) ...> FROM ...> (SELECT e.user, COUNT(*) as num ...> FROM (SELECT user FROM nodes UNION ALL SELECT user FROM ways) e ...> GROUP BY e.user ...> HAVING num=1) u; 250 Additional Data Exploration Contributor statistics Here are some user percentage statistics: Top user contribution percentage (\"patisilva_atxbuildings\") 39.07% Combined top 2 users' contribution (\"patisilva_atxbuildings\" and \"ccjjmartin_atxbuildings\") 70.98% Combined top 10 users contribution 89.95% Top 10 appearing amenities sqlite> SELECT value, COUNT (*) as num \\ ...> FROM nodes_tags \\ ...> WHERE key = 'amenity' \\ ...> GROUP BY value \\ ...> ORDER BY num DESC \\ ...> LIMIT 10\" Biggest religion sqlite> SELECT value, COUNT (*) as num \\ ...> FROM nodes_tags \\ ...> WHERE key = 'religion' \\ ...> GROUP BY value \\ ...> ORDER BY num DESC \\ ...> LIMIT 10\" Most popular cuisines (no surprise here) sqlite> SELECT value, COUNT (*) as num \\ ...> FROM nodes_tags \\ ...> WHERE key = 'cuisine' \\ ...> GROUP BY value \\ ...> ORDER BY num DESC \\ ...> LIMIT 10\" Conclusion and Recommendations The review of this data followed an interative cycle of auditing, creating a cleaning plan, programatically executing the plan and manually correcting. I believe the data has been well cleaned for the purpose of this exercise. However, there is a lot of work that needs to be done to complete the map. There is clearly a lot of missing data. Below, I recommend additional ideas for improving and analyzing the data. It is amazing that several users have entered a fair amount of TIGER (Topologically Integrated Geographic Encoding and Referencing) GPS data and GNIS (Geographic Names Information System) data into Openstreetmap.org. However, we currently lack a data processor to process TIGER GPS data and GNIS data . Benefits With a data processing system for TIGER and GNIS data, a huge amount of cleaned data can be entered into Openstreetmap.org. Challenges How do we build a robust data processing system ? With user entered data, there is bound to be variations and typgraphical errors. It will also be nice to have a well agreed form of data for input, as there are variations even within TIGER GPS data and GNIS data entered. Also, OSM I believe, is about the community of volunteers from all around the globe. These mappers are updating the map as their world changes around them. The user statistics are however, skewed. In our case, we saw that top 10 users created around ~90% of the map. If the user data were displayed more prominently, it would likely motivate other users to submit more edits for the map. Gamified approach to fixing OSM bugs as adopted by MapRoulette and crowdsourced streetview approach by Mapillary are commendable. Benefits Mapping, fixing bugs, analyzing data will be quite fast with an army of mappers working on it. This crowdsourcing approach would considerably reduce the cost. Imagine having to pay minimum US wage for the task. Challenges A common operational procedure has to be defined for managing the gamification approach, e.g incentives for users, tracking user activity, quality assurance etc. How do we get users from around the world to contribute on diverse geographical regions? How do we provide support on regional challenges? Reference 1) OpenStreetMap wiki 2) Mapzen 3) Example of use of OSM technology in Nepal Earthquake 4) SQL sample project 5) phonenumbers python library 6) SQLite tutorial 7) Plotly Bar Charts if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) { var mathjaxscript = document.createElement('script'); mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#'; mathjaxscript.type = 'text/javascript'; mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; mathjaxscript[(window.opera ? \"innerHTML\" : \"text\")] = \"MathJax.Hub.Config({\" + \" config: ['MMLorHTML.js'],\" + \" TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },\" + \" jax: ['input/TeX','input/MathML','output/HTML-CSS'],\" + \" extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],\" + \" displayAlign: 'center',\" + \" displayIndent: '0em',\" + \" showMathMenu: true,\" + \" tex2jax: { \" + \" inlineMath: [ ['$','$'] ], \" + \" displayMath: [ ['$$','$$'] ],\" + \" processEscapes: true,\" + \" preview: 'TeX',\" + \" }, \" + \" 'HTML-CSS': { \" + \" linebreaks: { automatic: true, width: '95% container' }, \" + \" styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }\" + \" } \" + \"}); \"; (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript); }","tags":"Data-Analyst-Nanodegree","url":"osm-data-wrangling.html"},{"title":"Titanic Survival Exploration","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI colors. */ .ansibold { font-weight: bold; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; border-left-width: 1px; padding-left: 5px; background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%); } div.cell.jupyter-soft-selected { border-left-color: #90CAF9; border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected { border-color: #ababab; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%); } @media print { div.cell.selected { border-color: transparent; } } div.cell.selected.jupyter-soft-selected { border-left-width: 0; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%); } .edit_mode div.cell.selected { border-color: #66BB6A; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%); } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ padding: 0.4em; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */ /* .CodeMirror-lines */ padding: 0; border: 0; border-radius: 0; } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html td, .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } .highlight .hll { background-color: #ffffcc } .highlight { background: #f8f8f8; } .highlight .c { color: #408080; font-style: italic } /* Comment */ .highlight .err { border: 1px solid #FF0000 } /* Error */ .highlight .k { color: #008000; font-weight: bold } /* Keyword */ .highlight .o { color: #666666 } /* Operator */ .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight .gd { color: #A00000 } /* Generic.Deleted */ .highlight .ge { font-style: italic } /* Generic.Emph */ .highlight .gr { color: #FF0000 } /* Generic.Error */ .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight .gi { color: #00A000 } /* Generic.Inserted */ .highlight .go { color: #888888 } /* Generic.Output */ .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight .gs { font-weight: bold } /* Generic.Strong */ .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight .gt { color: #0044DD } /* Generic.Traceback */ .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight .kp { color: #008000 } /* Keyword.Pseudo */ .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight .kt { color: #B00040 } /* Keyword.Type */ .highlight .m { color: #666666 } /* Literal.Number */ .highlight .s { color: #BA2121 } /* Literal.String */ .highlight .na { color: #7D9029 } /* Name.Attribute */ .highlight .nb { color: #008000 } /* Name.Builtin */ .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight .no { color: #880000 } /* Name.Constant */ .highlight .nd { color: #AA22FF } /* Name.Decorator */ .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight .nf { color: #0000FF } /* Name.Function */ .highlight .nl { color: #A0A000 } /* Name.Label */ .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight .nv { color: #19177C } /* Name.Variable */ .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight .w { color: #bbbbbb } /* Text.Whitespace */ .highlight .mb { color: #666666 } /* Literal.Number.Bin */ .highlight .mf { color: #666666 } /* Literal.Number.Float */ .highlight .mh { color: #666666 } /* Literal.Number.Hex */ .highlight .mi { color: #666666 } /* Literal.Number.Integer */ .highlight .mo { color: #666666 } /* Literal.Number.Oct */ .highlight .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight .sc { color: #BA2121 } /* Literal.String.Char */ .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight .sx { color: #008000 } /* Literal.String.Other */ .highlight .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight .ss { color: #19177C } /* Literal.String.Symbol */ .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight .fm { color: #0000FF } /* Name.Function.Magic */ .highlight .vc { color: #19177C } /* Name.Variable.Class */ .highlight .vg { color: #19177C } /* Name.Variable.Global */ .highlight .vi { color: #19177C } /* Name.Variable.Instance */ .highlight .vm { color: #19177C } /* Name.Variable.Magic */ .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */ /* Temporary definitions which will become obsolete with Notebook release 5.0 */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-bold { font-weight: bold; } In 1912, the largest ship afloat at the time- RMS Titanic sank after colliding with an iceberg. Of the 2224 passengers and crew abroad 1502 died. In this project, we will explore the training dataset (train) from kaggle . This dataset contains demographic and passenger information about 891 of the 2224 passengers and crew abroad. The most interesting question here is what features made people more likely to survive the sinking? Based on the available feature information can we build a classification algorithm that can reasonably predict survival? I will start my analysis by exploring individual features, and a combination of features to see how they correlate to survival. To make the analysis vivid, I will use the interactive plotting library - plotly ( Take the mouse cursor to the plots for interactivity ). Finally, I will build a logarithmic regression and random forest model to predict survival; and evaluate the accuracy of the model. In the dataframe, each row represents a passenger on the Titanic, and each column represents some information about them. Let's take a look at what the columns represent: Survived : Outcome of survival (0 = No; 1 = Yes) Pclass : Socio-economic class (1 = Upper class; 2 = Middle class; 3 = Lower class) Name : Name of passenger Sex : Sex of the passenger Age : Age of the passenger (Some entries contain NaN ) SibSp : Number of siblings and spouses of the passenger aboard Parch : Number of parents and children of the passenger aboard Ticket : Ticket number of the passenger Fare : Fare paid by the passenger Cabin Cabin number of the passenger (Some entries contain NaN ) Embarked : Port of embarkation of the passenger (C = Cherbourg; Q = Queenstown; S = Southampton) Getting started In [1]: # Import pandas and numpy import pandas as pd import numpy as np In [2]: # Import plotly import plotly.plotly as py import plotly.graph_objs as go from plotly import figure_factory as FF In [3]: # Load the titanic train dataset to create dataFrame # From https://www.kaggle.com/c/titanic/data train_data = \"data/train.csv\" train = pd . read_csv ( train_data ) In [4]: #Print the `head` of the dataframe train . head () Out[4]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } PassengerId Survived Pclass Name Sex Age SibSp Parch Ticket Fare Cabin Embarked 0 1 0 3 Braund, Mr. Owen Harris male 22.0 1 0 A/5 21171 7.2500 NaN S 1 2 1 1 Cumings, Mrs. John Bradley (Florence Briggs Th... female 38.0 1 0 PC 17599 71.2833 C85 C 2 3 1 3 Heikkinen, Miss. Laina female 26.0 0 0 STON/O2. 3101282 7.9250 NaN S 3 4 1 1 Futrelle, Mrs. Jacques Heath (Lily May Peel) female 35.0 1 0 113803 53.1000 C123 S 4 5 0 3 Allen, Mr. William Henry male 35.0 0 0 373450 8.0500 NaN S Understanding the data Before we move on with the actual analysis, we will use pandas .shape and .describe() method to understand our data better. We will also examine how well individual features- like Sex, Age, Pclass, Fare, Port of embarkation predict survival. In [5]: print train . shape (891, 12) In [6]: train . describe () Out[6]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } PassengerId Survived Pclass Age SibSp Parch Fare count 891.000000 891.000000 891.000000 714.000000 891.000000 891.000000 891.000000 mean 446.000000 0.383838 2.308642 29.699118 0.523008 0.381594 32.204208 std 257.353842 0.486592 0.836071 14.526497 1.102743 0.806057 49.693429 min 1.000000 0.000000 1.000000 0.420000 0.000000 0.000000 0.000000 25% 223.500000 0.000000 2.000000 20.125000 0.000000 0.000000 7.910400 50% 446.000000 0.000000 3.000000 28.000000 0.000000 0.000000 14.454200 75% 668.500000 1.000000 3.000000 38.000000 1.000000 0.000000 31.000000 max 891.000000 1.000000 3.000000 80.000000 8.000000 6.000000 512.329200 How does the distribution of survival look like? In [7]: # 0 = deceased, 1 = survived print ( train [ \"Survived\" ] . value_counts ()) 0 549 1 342 Name: Survived, dtype: int64 In [8]: # Passengers that survived vs passengers that passed away deceased = train [ \"Survived\" ] . value_counts ( normalize = True )[ 0 ] survived = train [ \"Survived\" ] . value_counts ( normalize = True )[ 1 ] x0 = [ 'deceased' , 'survived' ] y0 = [ deceased , survived ] data = [ go . Bar ( x = x0 , y = y0 )] layout = go . Layout ( autosize = False , width = 300 , height = 400 , yaxis = dict ( title = 'Normalized counts' ), title = 'Distribution of survival' ) fig0 = go . Figure ( data = data , layout = layout ) py . iplot ( fig0 ) Out[8]: The majority of passengers (61.6%) didn't survive the sinking ship. Who was more likely to survive female or Male? In [9]: # Normalized male survival male_survival = train [ \"Survived\" ][ train [ \"Sex\" ] == 'male' ] . value_counts ( normalize = True ) # Normalized female survival female_survival = train [ \"Survived\" ][ train [ \"Sex\" ] == 'female' ] . value_counts ( normalize = True ) # Survival by Sex x0 = [ 'male' , 'female' ] y0 = [ male_survival [ 1 ], female_survival [ 1 ]] data = [ go . Bar ( x = x0 , y = y0 )] layout = go . Layout ( autosize = False , width = 300 , height = 400 , yaxis = dict ( title = 'Survival Rates' ), title = 'Survival by Sex' ) fig1 = go . Figure ( data = data , layout = layout ) py . iplot ( fig1 ) Out[9]: Examining the survival statistics, 74.2% of all females from the dataset survived the ship sinking, whereas only 18.9% of males survived the ship sinking. How does the distribution of age look among survivors and non-survivors? It's logical to think that children were saved first. Age could be another variable to predict survival. We will handle missing values with Age in the later section - Clean and format the data. For now, missing values have been excluded from the plot. In [10]: #Age distribution of those who passed away ages_deceased = train [ \"Age\" ][ train [ \"Survived\" ] == 0 ] #Age distribution of survivors ages_survived = train [ \"Age\" ][ train [ \"Survived\" ] == 1 ] #Boxplot to show age distribution of deceased vs survived trace_deceased = go . Box ( x = ages_deceased , name = \"deceased\" ) trace_survived = go . Box ( x = ages_survived , name = \"survived\" ) survival_by_age_data = [ trace_deceased , trace_survived ] layout = go . Layout ( xaxis = dict ( title = 'Age' ), title = \"Survival by Age\" , width = 600 , height = 400 ) fig2 = go . Figure ( data = survival_by_age_data , layout = layout ) py . iplot ( fig2 ) Out[10]: The age distribution for those who survived is shifted more towards the left. Albeit modestly, age does seem to correlate with survival. We will further test this assumption by creating a \"child\" column. How does survival rate change across Pclass? It's also logical to think that passenger class might affect the outcome, as first class cabins were closer to the deck of the ship. In [11]: # Normalized Pclass survival Pclass1 = train [ \"Survived\" ][ train [ \"Pclass\" ] == 1 ] . value_counts ( normalize = True ) Pclass2 = train [ \"Survived\" ][ train [ \"Pclass\" ] == 2 ] . value_counts ( normalize = True ) Pclass3 = train [ \"Survived\" ][ train [ \"Pclass\" ] == 3 ] . value_counts ( normalize = True ) # Survival by Pclass- Barplot x0 = [ 'Pclass 1' , 'Pclass 2' , 'Pclass 3' ] y0 = [ Pclass1 [ 1 ], Pclass2 [ 1 ], Pclass3 [ 1 ]] data = [ go . Bar ( x = x0 , y = y0 )] layout = go . Layout ( autosize = False , width = 400 , height = 400 , yaxis = dict ( title = 'Survival Rates' ), title = 'Survival by Pclass' ) fig3 = go . Figure ( data = data , layout = layout ) py . iplot ( fig3 ) Out[11]: Examining the survival statistics, survival rates for Pclass1 > Pclass2 > Pclass3. 63%, 47.3% and 24.2% of Pclass1, Pclass2 and Pclass3 survived respectively. How does the distribution of fare look among survivors and non-survivors? Fare is highly correlated with Pclass. It could be another variable to influence survival. In [12]: #Fare paid by those who passed away fares_deceased = train [ \"Fare\" ][ train [ \"Survived\" ] == 0 ] #Fare paid by survivors fares_survived = train [ \"Fare\" ][ train [ \"Survived\" ] == 1 ] #Survival by fare - Boxplot trace0 = go . Box ( x = fares_deceased , name = \"deceased\" ) trace1 = go . Box ( x = fares_survived , name = \"survived\" ) fare_by_survival_data = [ trace0 , trace1 ] layout = go . Layout ( xaxis = dict ( title = 'Fare' ), title = \"Survival by Fare\" , width = 600 , height = 400 ) fig4 = go . Figure ( data = fare_by_survival_data , layout = layout ) py . iplot ( fig4 ) Out[12]: The fare distribution for those who survived is shifted more towards the right. Most survivors definitely paid higher than non-survivors. Does Port of embarkation play a role? We will handle missing values with 'Embarked' column in the later section - Clean and format the data. For now, missing values have been excluded from the plot, to examine the data without any bias. In [13]: # Normalized Pclass survival S = train [ \"Survived\" ][ train [ \"Embarked\" ] == \"S\" ] . value_counts ( normalize = True ) C = train [ \"Survived\" ][ train [ \"Embarked\" ] == \"C\" ] . value_counts ( normalize = True ) Q = train [ \"Survived\" ][ train [ \"Embarked\" ] == \"Q\" ] . value_counts ( normalize = True ) # Survival by Embarked - Boxplot x0 = [ 'S' , 'C' , 'Q' ] y0 = [ S [ 1 ], C [ 1 ], Q [ 1 ]] data = [ go . Bar ( x = x0 , y = y0 )] layout = go . Layout ( autosize = False , width = 400 , height = 400 , yaxis = dict ( title = 'Survival Rates' ), title = 'Survival by Embarked' ) fig5 = go . Figure ( data = data , layout = layout ) py . iplot ( fig5 ) Out[13]: Multiple variable (2d) explorations We will now explore multiple combination of variables to see how well they correlate with survival. How does survival rate varied by Class and Gender? In [14]: # Normalized Pclass survival by gender Pclass1_male = train [ \"Survived\" ][( train [ \"Pclass\" ] == 1 ) & ( train [ \"Sex\" ] == \"male\" )] . value_counts ( normalize = True ) Pclass2_male = train [ \"Survived\" ][( train [ \"Pclass\" ] == 2 ) & ( train [ \"Sex\" ] == \"male\" )] . value_counts ( normalize = True ) Pclass3_male = train [ \"Survived\" ][( train [ \"Pclass\" ] == 3 ) & ( train [ \"Sex\" ] == \"male\" )] . value_counts ( normalize = True ) Pclass1_female = train [ \"Survived\" ][( train [ \"Pclass\" ] == 1 ) & ( train [ \"Sex\" ] == \"female\" )] . value_counts ( normalize = True ) Pclass2_female = train [ \"Survived\" ][( train [ \"Pclass\" ] == 2 ) & ( train [ \"Sex\" ] == \"female\" )] . value_counts ( normalize = True ) Pclass3_female = train [ \"Survived\" ][( train [ \"Pclass\" ] == 3 ) & ( train [ \"Sex\" ] == \"female\" )] . value_counts ( normalize = True ) # Survival by Class and Gender- Grouped Barplot trace0 = go . Bar ( x = [ 'Pclass 1' , 'Pclass 2' , 'Pclass 3' ], y = [ Pclass1_male [ 1 ], Pclass2_male [ 1 ], Pclass3_male [ 1 ]], name = 'male' ) trace1 = go . Bar ( x = [ 'Pclass 1' , 'Pclass 2' , 'Pclass 3' ], y = [ Pclass1_female [ 1 ], Pclass2_female [ 1 ], Pclass3_female [ 1 ]], name = 'female' ) data = [ trace0 , trace1 ] layout = go . Layout ( autosize = False , width = 500 , height = 400 , barmode = 'group' , yaxis = dict ( title = 'Survival Rates' ), title = 'Survival by Class and Gender' ) fig6 = go . Figure ( data = data , layout = layout ) py . iplot ( fig6 ) Out[14]: In each Pclass, females tended to survive over their male counterparts. For both males and females, people in higher fare class tickets had higher survival rates. Was there chivalry at work - Women and Child first ? We saw that age influenced survival. It is logical to think that children were saved first. We created a new column with a categorical variable Child. Child will take a value 1 for ages < 10 and a value of 0 for ages >= 10. In [15]: # Create the column Child and assign 1 to passengers under 10, # 0 to those 10 or older and NaN if age is NaN def is_child ( age ): \"\"\"Defines what age is considered a child\"\"\" if age < 10 : return float ( 1 ) elif age >= 10 : return float ( 0 ) else : return float ( 'NaN' ) # apply the function to 'Age' column of the dataframe train [ 'Child' ] = train [ 'Age' ] . apply ( is_child ) In [16]: # Print normalized Survival Rates for passengers under 10 children = train [ 'Survived' ][ train [ 'Child' ] == 1 ] . value_counts ( normalize = True ) # Print normalized Survival Rates for passengers 10 or older adult = train [ 'Survived' ][ train [ 'Child' ] == 0 ] . value_counts ( normalize = True ) # Plot survival of children vs adults x0 = [ 'children' , 'adult' ] y0 = [ children [ 1 ], adult [ 1 ]] data = [ go . Bar ( x = x0 , y = y0 )] layout = go . Layout ( autosize = False , width = 300 , height = 400 , yaxis = dict ( title = 'Survival Rates' ), title = 'Children vs Adults' ) fig7 = go . Figure ( data = data , layout = layout ) py . iplot ( fig7 ) Out[16]: In [17]: # Normalised survival by sex and age male_child = train [ \"Survived\" ][( train [ \"Sex\" ] == 'male' ) & ( train [ \"Child\" ] == 1 )] . value_counts ( normalize = True ) male_adult = train [ \"Survived\" ][( train [ \"Sex\" ] == 'male' ) & ( train [ \"Child\" ] == 0 )] . value_counts ( normalize = True ) female_child = train [ \"Survived\" ][( train [ \"Sex\" ] == 'female' ) & ( train [ \"Child\" ] == 1 )] . value_counts ( normalize = True ) female_adult = train [ \"Survived\" ][( train [ \"Sex\" ] == 'female' ) & ( train [ \"Child\" ] == 0 )] . value_counts ( normalize = True ) trace0 = go . Bar ( x = [ 'male' , 'female' ], y = [ male_child [ 1 ], female_child [ 1 ]], name = 'child (<10)' ) trace1 = go . Bar ( x = [ 'male' , 'female' ], y = [ male_adult [ 1 ], female_adult [ 1 ]], name = 'adult' ) data = [ trace0 , trace1 ] layout = go . Layout ( autosize = False , width = 500 , height = 400 , barmode = 'group' , yaxis = dict ( title = 'Survival Rates' ), title = 'Women and Children First' ) fig8 = go . Figure ( data = data , layout = layout ) py . iplot ( fig8 ) Out[17]: There was chivalry at work - women and children first. Clean and format the train data Until now, we have been examining, the effect of one or two variable on survival. Machine learning algorithms automate this task by using multiple features to output a classification model or classifier. The use of classifier will be more exhaustive and more precise than our manual exploration above. Before we move on to use classification algorithms, we will have to clean the data so as to take maximum advantage of all the relevant features. The data isn't perfectly clean as we saw with train.describe() earlier. There are some missing values. Also not all columns were shown with .describe(). Only numeric columns were shown. We don't want to remove rows with missing data , as more data help us train our algorithm better. We also don't want to get rid of non-numeric columns. Non-numeric like 'Sex', as we saw were very important in predicting survival. Missing data - Age The Age column has missing values NaN. The count for the column is 714, whereas other columns have a count of 891. We will impute the missing values in Age column with median of the column. Median age before imputation is 28. It lies right in the peak of distribution. In [18]: age_bf_imputation = train [ 'Age' ] . dropna () # Impute the missing value with the median train [ 'Age' ] = train [ 'Age' ] . fillna ( train [ 'Age' ] . median ()) hist_data = [ age_bf_imputation , train [ 'Age' ]] group_labels = [ 'Before imputation' , 'After imputation' ] colors = [ '#333F44' , '#37AA9C' ] # Create distplot fig9 = FF . create_distplot ( hist_data , group_labels , show_hist = False , colors = colors ) #Add title fig9 [ 'layout' ] . update ( title = 'Age distribution' ) # Plot #iplot(fig9, validate=False) py . iplot ( fig9 ) Out[18]: In [19]: # Confirm missing values have been taken care of train [ 'Age' ] . isnull () . values . any () Out[19]: False Missing data - Embarked In [20]: print ( train [ 'Embarked' ] . unique ()) ['S' 'C' 'Q' nan] The embarked column also has missing values - nan. We impute the missing values with most common port of embarkation Southampton(S). In [21]: embarked_bf_imputation = go . Histogram ( x = train [ 'Embarked' ] . dropna (), histnorm = 'count' , name = 'Before Imputation' , ) # Impute the Embarked variable train [ 'Embarked' ] = train [ 'Embarked' ] . fillna ( 'S' ) embarked_af_imputation = go . Histogram ( x = train [ 'Embarked' ], name = 'After Imputation' ) embarked_bf_af_imputation = [ embarked_bf_imputation , embarked_af_imputation ] #Layout layout = go . Layout ( autosize = False , width = 500 , height = 400 , bargap = 0.5 , barmode = 'group' , title = 'Passenger distribution by Port of Embarkation' ) fig10 = go . Figure ( data = embarked_bf_af_imputation , layout = layout ) #Plot #iplot(fig10) py . iplot ( fig10 ) Out[21]: Notice the increase in passenger number from 644 to 646 in Southampton(S) port after imputation. In [22]: # Confirm missing values from Embarked column have been taken care of train [ 'Embarked' ] . isnull () . values . any () Out[22]: False Convert non-numeric columns - Sex and Embarked Sex and Embarked variable are categorical, but in non-numeric format. We will have to convert non-numeric columns to numeric ones so that classifier can handle it. To do so, we have to find unique classes in non-numeric column and encode each class a unique integer. In [23]: print ( train [ 'Sex' ] . unique ()) ['male' 'female'] In [24]: ### Convert categorical variable Sex to integer form sex_to_integers = { 'male' : 0 , 'female' : 1 } train [ 'Sex' ] = train [ 'Sex' ] . apply ( sex_to_integers . get ) In [25]: print ( train [ 'Embarked' ] . unique ()) ['S' 'C' 'Q'] In [26]: #Convert categorical variable Embarked to integer form embarked_to_integers = { 'S' : 0 , 'C' : 1 , 'Q' : 2 } train [ 'Embarked' ] = train [ 'Embarked' ] . apply ( embarked_to_integers . get ) How accurately can we predict survival based on available features? Logistic Regression In our case, the dependent variable is categorical. We only care about two outcomes either 0(deceased) or 1(survived). Logistic regression uses a logit function to squeeze the output values to 0 or 1. Sklearn has a class for logistic regression that we can use. In [27]: # Import the `LogisticRegression` and cross validation from sklearn.linear_model import LogisticRegression from sklearn import model_selection # The features we'll use to predict survival predictors = [ \"Pclass\" , \"Sex\" , \"Age\" , \"SibSp\" , \"Parch\" , \"Fare\" , \"Embarked\" ] # Initialize our algorithm logreg = LogisticRegression ( random_state = 1 ) # Compute the accuracy score for all the cross validation folds. scores = model_selection . cross_val_score ( logreg , train [ predictors ], train [ \"Survived\" ], cv = 3 ) # Take the mean of the scores (because we have one for each fold) print \"Accuracy and the 95 % c onfidence interval of the estimate are: {0:.3f} (+/- {0:.2f})\" . format ( \\ scores . mean (), scores . std () * 2 ) Accuracy and the 95% confidence interval of the estimate are: 0.788 (+/- 0.79) One parameter used in the evaluation of classification algorithm is accuracy. Accuracy measures the fraction of items in a class labelled correctly. We obtained an accuracy of 78.8%. Random Forest Random forest fits multiple (very deep) classification trees with slightly randomized input data, and slightly randomized split points using the training set. It uses averaging to improve the predictive accuracy and control over-fitting. In [28]: # Import the `RandomForestClassifier` from sklearn.ensemble import RandomForestClassifier predictors = [ \"Pclass\" , \"Sex\" , \"Age\" , \"SibSp\" , \"Parch\" , \"Fare\" , \"Embarked\" ] #Build our forest forest = RandomForestClassifier ( max_depth = 10 , min_samples_split = 2 , n_estimators = 25 , random_state = 1 ) forest . fit ( train [ predictors ], train [ \"Survived\" ]) feature_importances = forest . feature_importances_ In [29]: #Plot the importance of each feature feature_data = [ go . Bar ( x = predictors , y = feature_importances )] feature_layout = go . Layout ( autosize = False , width = 400 , height = 400 , yaxis = dict ( title = 'Importance' ), title = 'Importance of features' ) fig11 = go . Figure ( data = feature_data , layout = feature_layout ) #iplot(fig11) py . iplot ( fig11 ) Out[29]: In [30]: # Compute the accuracy score for all the cross validation folds. kf = model_selection . KFold ( train . shape [ 0 ], random_state = 1 ) scores = model_selection . cross_val_score ( forest , train [ predictors ], train [ \"Survived\" ], cv = kf ) # Take the mean of the scores (because we have one for each fold) print \"Accuracy and the 95 % c onfidence interval of the estimate are: {0:.3f} (+/- {0:.2f})\" . format ( \\ scores . mean (), scores . std () * 2 ) Accuracy and the 95% confidence interval of the estimate are: 0.834 (+/- 0.83) Conclusion We have built a useful classifier for predicting the survival of passengers aboard the RMS Titanic. We also saw that Sex, Fare, Age, and Pclass are the four most important features in determining the survivors of the ship sinking. The accuracy of our random forest classifier is 83.4%. Also, we measured the accuracy of our classifier on the same dataset we trained it on. It will be interesting to see how well our classifier performs on the test dataset. Similarly, it is important to evaluate our classifiers based on other metrics namely, Precision and Recall. Precision measures the results relevancy, whereas recall measures how many truly relevant results are returned. We can improve the accuracy of our algorithm by engineering new features. Feature engineering involves creatively combining different variables to engineer a new one. The title of the passenger from their names. Was any particular title more likely to survive? Family size from variables SibSp and Parch. Did having more women and children in the family made the whole family more likely to survive? There are limitations with the dataset too. There was several missing values in the 'Age' column and 'Embarked' column. We did our best approximation to fill in the missing values, however, our approximation might be biasing the prediction. In addition, the dataset contained information about 891 out of 2224 passengers and crew abroad. Even when combined with 418 passengers information, the numbers still don't add up to 2224. Also, the current data doesn't distinguish between passengers and crew. Reference 1) Udacity's Intro to Data Analysis 2) Plotly 3) Titanic Survival Exploration 4) sklearn 5) Kaggle Titanic 6) Udacity's Intro to Machine Learning $(document).ready(function(){ $('div.prompt').hide(); $('div.back-to-top').hide(); $('nav#menubar').hide(); $('.breadcrumb').hide(); $('.hidden-print').hide(); }); November 12, 2016 Contact author: hadaarjan@gmail.com if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) { var mathjaxscript = document.createElement('script'); mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#'; mathjaxscript.type = 'text/javascript'; mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; mathjaxscript[(window.opera ? \"innerHTML\" : \"text\")] = \"MathJax.Hub.Config({\" + \" config: ['MMLorHTML.js'],\" + \" TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },\" + \" jax: ['input/TeX','input/MathML','output/HTML-CSS'],\" + \" extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],\" + \" displayAlign: 'center',\" + \" displayIndent: '0em',\" + \" showMathMenu: true,\" + \" tex2jax: { \" + \" inlineMath: [ ['$','$'] ], \" + \" displayMath: [ ['$$','$$'] ],\" + \" processEscapes: true,\" + \" preview: 'TeX',\" + \" }, \" + \" 'HTML-CSS': { \" + \" linebreaks: { automatic: true, width: '95% container' }, \" + \" styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }\" + \" } \" + \"}); \"; (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript); }","tags":"Data-Analyst-Nanodegree","url":"titanic-survival-exploration.html"},{"title":"Test a Perceptual Phenomenon","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI colors. */ .ansibold { font-weight: bold; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; border-left-width: 1px; padding-left: 5px; background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%); } div.cell.jupyter-soft-selected { border-left-color: #90CAF9; border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected { border-color: #ababab; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%); } @media print { div.cell.selected { border-color: transparent; } } div.cell.selected.jupyter-soft-selected { border-left-width: 0; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%); } .edit_mode div.cell.selected { border-color: #66BB6A; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%); } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ padding: 0.4em; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */ /* .CodeMirror-lines */ padding: 0; border: 0; border-radius: 0; } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html td, .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } .highlight .hll { background-color: #ffffcc } .highlight { background: #f8f8f8; } .highlight .c { color: #408080; font-style: italic } /* Comment */ .highlight .err { border: 1px solid #FF0000 } /* Error */ .highlight .k { color: #008000; font-weight: bold } /* Keyword */ .highlight .o { color: #666666 } /* Operator */ .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight .gd { color: #A00000 } /* Generic.Deleted */ .highlight .ge { font-style: italic } /* Generic.Emph */ .highlight .gr { color: #FF0000 } /* Generic.Error */ .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight .gi { color: #00A000 } /* Generic.Inserted */ .highlight .go { color: #888888 } /* Generic.Output */ .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight .gs { font-weight: bold } /* Generic.Strong */ .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight .gt { color: #0044DD } /* Generic.Traceback */ .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight .kp { color: #008000 } /* Keyword.Pseudo */ .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight .kt { color: #B00040 } /* Keyword.Type */ .highlight .m { color: #666666 } /* Literal.Number */ .highlight .s { color: #BA2121 } /* Literal.String */ .highlight .na { color: #7D9029 } /* Name.Attribute */ .highlight .nb { color: #008000 } /* Name.Builtin */ .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight .no { color: #880000 } /* Name.Constant */ .highlight .nd { color: #AA22FF } /* Name.Decorator */ .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight .nf { color: #0000FF } /* Name.Function */ .highlight .nl { color: #A0A000 } /* Name.Label */ .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight .nv { color: #19177C } /* Name.Variable */ .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight .w { color: #bbbbbb } /* Text.Whitespace */ .highlight .mb { color: #666666 } /* Literal.Number.Bin */ .highlight .mf { color: #666666 } /* Literal.Number.Float */ .highlight .mh { color: #666666 } /* Literal.Number.Hex */ .highlight .mi { color: #666666 } /* Literal.Number.Integer */ .highlight .mo { color: #666666 } /* Literal.Number.Oct */ .highlight .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight .sc { color: #BA2121 } /* Literal.String.Char */ .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight .sx { color: #008000 } /* Literal.String.Other */ .highlight .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight .ss { color: #19177C } /* Literal.String.Symbol */ .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight .fm { color: #0000FF } /* Name.Function.Magic */ .highlight .vc { color: #19177C } /* Name.Variable.Class */ .highlight .vg { color: #19177C } /* Name.Variable.Global */ .highlight .vi { color: #19177C } /* Name.Variable.Instance */ .highlight .vm { color: #19177C } /* Name.Variable.Magic */ .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */ /* Temporary definitions which will become obsolete with Notebook release 5.0 */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-bold { font-weight: bold; } In a Stroop task, participants are presented with a list of words, with each word displayed in a color of ink. The participant's task is to say out loud the color of the ink in which the word is printed. The task has two conditions: a congruent words condition, and an incongruent words condition. In the congruent words condition, the words being displayed are color words whose names match the colors in which they are printed: for example RED , BLUE . In the incongruent words condition, the words displayed are color words whose names do not match the colors in which they are printed: for example PURPLE , ORANGE . In each case, we measure the time it takes to name the ink colors in equally-sized lists. Each participant will go through and record a time from each condition. Questions For Investigation 1. What is our independent variable? What is our dependent variable? Independent variable:- Congruent words and Incongruent words Dependent variable:- Time it takes to name the ink colors in equally-sized lists of congruent and incongruent words 2. What is an appropriate set of hypotheses for this task? What kind of statistical test do you expect to perform? Justify your choices. Hypothesis testing Null hypothesis states that there are no differences between the response time for congruent words (Congruent) vs incongruent words (Incongruent). The mean difference between paired observations is zero. $$H_0: \\mu_{Congruent} - \\mu_{Incongruent} = 0$$ where $\\mu_{Congruent}$ is the population mean of response time for congruent words and $\\mu_{Incongruent}$ is the population mean of response time for incongruent words. Alternative hypothesis states that the difference between the response time for congruent words vs incongruent words is not zero. $$H_{A}: \\mu_{Congruent} - \\mu_{Incongruent} \\neq 0$$ Dependent t-tests for paired samples The dependent t-test compares the mean of two paired groups to see if there are statistically significant differences between these means. The experimental design, in this case, is \"within-subjects\". The same subjects were tested for congruent and incongruent words. By using the same subject to test two different condition, we eliminate the individual differences that occur between subjects. If we get a significant result, we can reject the null hypothesis and accept the alternative hypothesis that there are statistically significant differences between the mean time taken to name ink color between two test conditions. Import the libraries needed In [1]: #Importing the libraries needed for reading the data and plotting import pandas as pd import numpy as np from math import sqrt % matplotlib inline import matplotlib.pyplot as plt import seaborn as sns sns . set_style ( \"white\" ) #sns.set_context('notebook', font_scale = 1.5) Loading data into pandas dataframe In [2]: #Read the data into a pandas dataframe and add a subject column stroop_data = pd . read_csv ( 'data/stroopdata.csv' ) stroop_data [ 'Subject' ] = stroop_data . index + 1 stroop_data . head () Out[2]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } Congruent Incongruent Subject 0 12.079 19.278 1 1 16.791 18.741 2 2 9.564 21.214 3 3 8.630 15.687 4 4 14.669 22.803 5 The best way to visualize this data is a slopegraph. I could not find a easy way to make slopegraph in python. So I am going to cheat a little bit here and make the slopegraph in Tableau. In [3]: #Write the dataframe to csv file for Tableau visualization. stroop_data . to_csv ( 'data/stroop_data.csv' , index = False ) In [4]: %% HTML var divElement = document.getElementById('viz1499542163575'); var vizElement = divElement.getElementsByTagName('object')[0]; vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px'; var scriptElement = document.createElement('script'); scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js'; vizElement.parentNode.insertBefore(scriptElement, vizElement); var divElement = document.getElementById('viz1499542163575'); var vizElement = divElement.getElementsByTagName('object')[0]; vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px'; var scriptElement = document.createElement('script'); scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js'; vizElement.parentNode.insertBefore(scriptElement, vizElement); In [5]: #Include an additional column that shows the difference between #response time for congruent and incongruent words stroop_data [ 'Difference' ] = stroop_data [ 'Congruent' ] - stroop_data [ 'Incongruent' ] stroop_data Out[5]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } Congruent Incongruent Subject Difference 0 12.079 19.278 1 -7.199 1 16.791 18.741 2 -1.950 2 9.564 21.214 3 -11.650 3 8.630 15.687 4 -7.057 4 14.669 22.803 5 -8.134 5 12.238 20.878 6 -8.640 6 14.692 24.572 7 -9.880 7 8.987 17.394 8 -8.407 8 9.401 20.762 9 -11.361 9 14.480 26.282 10 -11.802 10 22.328 24.524 11 -2.196 11 15.298 18.644 12 -3.346 12 15.073 17.510 13 -2.437 13 16.929 20.330 14 -3.401 14 18.200 35.255 15 -17.055 15 12.130 22.158 16 -10.028 16 18.495 25.139 17 -6.644 17 10.639 20.429 18 -9.790 18 11.344 17.425 19 -6.081 19 12.369 34.288 20 -21.919 20 12.944 23.894 21 -10.950 21 14.233 17.960 22 -3.727 22 19.710 22.058 23 -2.348 23 16.004 21.157 24 -5.153 3. Report some descriptive statistics regarding this dataset. Include at least one measure of central tendency and at least one measure of variability. In [6]: stroop_data [[ 'Congruent' , 'Incongruent' , 'Difference' ]] . describe () Out[6]: .dataframe thead tr:only-child th { text-align: right; } .dataframe thead th { text-align: left; } .dataframe tbody tr th { vertical-align: top; } Congruent Incongruent Difference count 24.000000 24.000000 24.000000 mean 14.051125 22.015917 -7.964792 std 3.559358 4.797057 4.864827 min 8.630000 15.687000 -21.919000 25% 11.895250 18.716750 -10.258500 50% 14.356500 21.017500 -7.666500 75% 16.200750 24.051500 -3.645500 max 22.328000 35.255000 -1.950000 We can see that the mean, median, minimum and maximum response time for incongruent words are higher than the congruent words. Participants took more time to name the color of incongruent words compared to congruent words. 4. Provide one or two visualizations that show the distribution of the sample data. Write one or two sentences noting what you observe about the plot or plots. In [7]: #Distribution of time taken to name ink colors #with a kernel density estimate,histogram and rug plot sns . distplot ( stroop_data [ 'Congruent' ], rug = True , label = \"congruent\" ); sns . distplot ( stroop_data [ 'Incongruent' ], rug = True , label = \"incongruent\" ); plt . xlabel ( \"Time taken to name ink colors\" ); plt . ylabel ( \"Frequency\" ); plt . title ( \"Response time for congruent vs incongruent words\" ); plt . legend (); In [8]: sns . boxplot ( data = stroop_data [[ 'Congruent' , 'Incongruent' ]], orient = \"h\" ); plt . ylabel ( \"Time taken to name ink colors\" ); Distribution of response time for incongruent words are higher than the congruent words The distribution of time taken to name ink color for congruent words is between 8.63s to 22.328s, whereas the distribution of time taken to name ink color for incongruent words is between 15.687s to 35.255s. Also for each participant, the response time for incongruent word is always higher than congruent words. The difference in mean and median between response time for incongruent words vs congruent words are 7.965s and 7.666s. 5. Now, perform the statistical test and report your results. What is your confidence level and your critical statistic value? Do you reject the null hypothesis or fail to reject it? Come to a conclusion in terms of the experiment task. Did the results match up with your expectations? I will go through the series of steps usually involved in hypothesis testing. Degrees of freedom is the number of independent pieces of information available to estimate another piece of information. It is the number of information that can be freely varied without violating any given restrictions. The degree of freedom in our case is n − 1, where n represents the number of pairs (subjects in this case). In [9]: # Degrees of freedom n = 24 df = n - 1 df Out[9]: 23 Paired t-test t statistic to test whether the means are different can be calculated as follows: $t_{statistic} = \\frac{\\bar x_{D} - \\mu_0}{s_{D}/\\sqrt{n}}$ where $\\bar x_{D}$ is the mean of difference between all the pairs and $s_D$ is the sample standard deviation of the difference betweeen all the pairs. The constant $\\mu_0$ in our case is 0, since $H_0: \\mu_{Congruent} - \\mu_{Incongruent} = 0$ In [10]: # Point estimates # Computes mean of the difference mean_of_the_differences = stroop_data [ 'Difference' ] . mean () # Computes std deviation of the difference stdev_of_the_differences = stroop_data [ 'Difference' ] . std () print \"mean of the differences: {:.4f}\" . format ( mean_of_the_differences ) print \"standard deviation of the difference: {:.4f}\" . format ( stdev_of_the_differences ) mean of the differences: -7.9648 standard deviation of the difference: 4.8648 In [11]: #t-statistic se = stdev_of_the_differences / float ( sqrt ( n )) t_statistic = mean_of_the_differences / float ( se ) print \"t-statistic: {:.4f}\" . format ( t_statistic ) t-statistic: -8.0207 t-statistic tells us how much the sample mean deviates from the null hypothesis. If the t-statistic lies outside the critical values of the t-distribution corresponding to our confidence level and degrees of freedom, we reject the null hypothesis. t-critical values for two-tailed t-test Significance level($\\alpha$) is the criterion used for rejecting null hypothesis. Statisticians have commonly used either the 0.05 level (5% chance) or the 0.01 level (1% chance). Confidence level is 1 - significance level. Our alternative hypothesis states $H_{A}: \\mu_{Congruent} - \\mu_{Incongruent} \\neq 0$. Since we hypothesized the possibility of relationship in both directions, we will use a two-tailed test to test our hypothesis. If we are using a significance level of 0.05, two-tailed t-test allocates 0.025 in each tail(shaded area). Both left and right shaded area are 2.5% of the total area under the curve. A two-tailed test will test both, if $\\mu_{Congruent} - \\mu_{Incongruent}$ is significantly greater than or less than $\\mu_0$(0). The $\\mu_{Congruent} - \\mu_{Incongruent}$ is considered significantly different from $\\mu_0$(0) if the test statistic is in the top 2.5% or bottom 2.5% of its probability distribution, resulting in a p-value less than 0.05. In [12]: from scipy import stats # t-critical values at alpha = 0.05 and df = 23 for two-tailed t-test, q = Quantile to check t_critical_values = ( stats . t . ppf ( q = 0.025 , df = df ), stats . t . ppf ( q = 0.975 , df = df )) print \"t-critical values at alpha of 0.05 for two-tailed t-test: \\ ({:.4f}, {:.4f})\" . format ( * t_critical_values ) t-critical values at alpha of 0.05 for two-tailed t-test:(-2.0687, 2.0687) Our t-statistic(-8.0207) is less than t-critical value of -2.0687 at alpha = 0.05 and degrees of freedom 23. It means that the probability of finding t-statistic as extreme as ours is less than 5% if the null hypothesis was true. This probability is defined by the term p-value. p-value Probability of null hypothesis given that the null hypothesis ($H_0$) is true (usually that the observations are a result of pure chance). The lower the p-value the greater the confidence with which we can reject the null hypothesis. In [13]: #Cumulative distribution function. Multiply by 2 for two-tailed test pval = stats . t . cdf ( t_statistic , df ) * 2 print \"p-value: {:.4e}\" . format ( pval ) p-value: 4.1030e-08 We obtained a p-value of 4.1030e-08. This means we'd expect a 0.000004103 chance of finding a difference as large as (or larger than) the one in our study if the null hypothesis was true. Our p-value is way lower than our significance level α (0.05) so we should reject the null hypothesis. Paired t-test in scipy We can use the following function in scipy to directly perform t-test: In [14]: #Paired t-test on response time for congruent vs incongruent words print stats . ttest_rel ( stroop_data [ 'Congruent' ], stroop_data [ 'Incongruent' ]) Ttest_relResult(statistic=-8.020706944109957, pvalue=4.1030005857111781e-08) Confidence intervals Confidence intervals (CI) are a useful statistic to include because they indicate where the true population mean might be. It is common to report 95% confidence intervals. $CI = (\\bar x_D - t_{critical}\\frac{s_D}{\\sqrt n},\\bar x_D + t_{critical}\\frac{s_D}{\\sqrt n})$ where $t_{critical}\\frac{s_D}{\\sqrt n}$ is called the Margin of error. In [15]: #95% CI stats . norm . interval ( 0.95 , loc = mean_of_the_differences , scale = se ) Out[15]: (-9.9110920264491931, -6.0184913068841395) The experiment proved that when a color word is printed in the same color as the word, people can name the ink color more quickly compared with when a color word is printed with an ink color not denoted by the word. The results are congruent with my intuition. 6. Optional: What do you think is responsible for the effects observed? Can you think of an alternative or similar task that would result in a similar effect? There are many theories to Stroop effect but not one possible explanation. The most common theory for Stroop effect is called interference. Reading is a habit practiced very early on from school days. We become so good at it that brain automatically understands the meaning of words; whereas recognizing colors is not an \"automatic process\". When the brain has to read incongruent words it has to override its initial impulse of automatically reading the word rather so that it can recognize its color. Another similar effect is Warped words . References 1) Stroop effect image 2) Dependent t-test for paired samples 3) Critical regions for two tailed t-test 4) scipy.stats.t 5) scipy.stats.ttest_rel 6) Stroop effect $(document).ready(function(){ $('div.prompt').hide(); $('div.back-to-top').hide(); $('nav#menubar').hide(); $('.breadcrumb').hide(); $('.hidden-print').hide(); }); November 10, 2016 Contact author: hadaarjan@gmail.com if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) { var mathjaxscript = document.createElement('script'); mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#'; mathjaxscript.type = 'text/javascript'; mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; mathjaxscript[(window.opera ? \"innerHTML\" : \"text\")] = \"MathJax.Hub.Config({\" + \" config: ['MMLorHTML.js'],\" + \" TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },\" + \" jax: ['input/TeX','input/MathML','output/HTML-CSS'],\" + \" extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],\" + \" displayAlign: 'center',\" + \" displayIndent: '0em',\" + \" showMathMenu: true,\" + \" tex2jax: { \" + \" inlineMath: [ ['$','$'] ], \" + \" displayMath: [ ['$$','$$'] ],\" + \" processEscapes: true,\" + \" preview: 'TeX',\" + \" }, \" + \" 'HTML-CSS': { \" + \" linebreaks: { automatic: true, width: '95% container' }, \" + \" styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }\" + \" } \" + \"}); \"; (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript); }","tags":"Data-Analyst-Nanodegree","url":"stroop-effect.html"}]}